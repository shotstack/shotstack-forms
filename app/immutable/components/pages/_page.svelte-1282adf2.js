var Fe=Object.defineProperty;var $e=(r,e,t)=>e in r?Fe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Q=(r,e,t)=>($e(r,typeof e!="symbol"?e+"":e,t),t);import{S as x,i as L,s as P,H as W,I as Z,m as w,h as v,n as c,b as M,F as p,A as R,k as y,v as A,q as j,l as E,w as V,r as G,x as B,f as N,t as S,y as U,J as z,K as se,a as O,c as C,L as ue,M as Te,N as ce,O as fe,P as le,Q as de,G as he,R as ee,g as be,d as we,T as ke,u as ae,U as Ne}from"../../chunks/index-0c661f1c.js";import{w as me}from"../../chunks/index-5edcacc6.js";const Ie=""+new URL("../../assets/copy-regular-423f8619.svg",import.meta.url).href,Se="A 'merge' property is required",Oe="Property 'merge' must be an array",Ce="A 'find' property is required on every element inside 'merge'",Me="Every 'find' property inside 'merge' must be of type string",De="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",Re="A 'replace' property is required on every element inside 'merge'",Ae="Unexpected error while parsing template JSON",Ve="Every element inside the 'merge' should be an object";class q extends Error{constructor(e){super(e)}}function Be(r){return typeof r=="object"}function re(r,e){return r in e}function ne(r,e){return!re(r,e)}function Ue(r,e){return re(r,e)&&!(e[r]instanceof Array)}function xe(r,e){return re(r,e)&&typeof e[r]!="string"}function Le(r,e){const t=re(r,e)&&e[r];return!(typeof t=="string"&&t.length>0)}function Pe(r){try{const e=JSON.parse(r);if(ne("merge",e))throw new q(Se);if(Ue("merge",e))throw new q(Oe);const{merge:t}=e,n=Je(t);return{...e,merge:n}}catch(e){throw ye(e)}}function Je(r){return r.map(t=>{if(!Be(t))throw new q(Ve);if(ne("find",t))throw new q(Ce);if(ne("replace",t))throw new q(Re);if(xe("find",t))throw new q(Me);if(Le("find",t))throw new q(De);return t}).map(({find:t,replace:n})=>({find:t,replace:Ee(n)}))}function je(r){return typeof r=="object"&&r!==null&&"message"in r}function ye(r){return r instanceof Error?r:je(r)?new q(r.message):new q(Ae)}function Ee(r){return typeof r=="string"?r:JSON.stringify(r)}class Ge{constructor(e){Q(this,"template");Q(this,"_result");Q(this,"_error");Q(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const t=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(n=>n(e,t))}get error(){return this._error}set result(e){const t={...this._result};this._result=e,this.handlers.change.forEach(n=>n(e,t))}get result(){return this._result}on(e,t){this.handlers[e].push(t)}off(e,t){this.handlers={...this.handlers,[e]:this.handlers[e].filter(n=>n!==t)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const t=Pe(Ee(e));this.template=t,this.result=t,this.error=null}catch(t){const n=ye(t);this.error=n}}updateResultMergeFields(e){const{find:t,replace:n}=e,s={find:t,replace:n},a=this.result.merge.map(l=>(l==null?void 0:l.find)===e.find?s:l);return this.result={...this.result,merge:a},a}logger(e){console.error(e)}addMergeField(e){this.setTemplateSource({...this.result,merge:[...this.result.merge,e]})}removeMergeField(e){this.setTemplateSource({...this.result,merge:this.result.merge.filter(t=>t!==e)})}getMergeFieldItem(e){if(Object.keys(e).length===0)return;const t=function(n){let s;for(s in e)if(n[s]!==e[s])return!1;return!0};return this.result.merge.find(t)}}const He=[{find:"NAME",replace:"world"}],qe={tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},ze={format:"mp4",resolution:"hd"},Xe={merge:He,timeline:qe,output:ze};function Ye(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=Z(n,"svg",{class:!0,xmlns:!0,viewBox:!0});var s=w(e);t=Z(s,"path",{d:!0}),w(t).forEach(v),s.forEach(v),this.h()},h(){c(t,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),c(e,"class","fill-current w-4 h-4 mr-2"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20")},m(n,s){M(n,e,s),p(e,t)},p:R,i:R,o:R,d(n){n&&v(e)}}}function Ke(r){return[]}class Qe extends x{constructor(e){super(),L(this,e,Ke,Ye,P,{})}}function We(r){let e,t,n,s;return t=new Qe({}),{c(){e=y("a"),A(t.$$.fragment),n=j(`
	Download`),this.h()},l(a){e=E(a,"A",{href:!0,download:!0,class:!0});var l=w(e);V(t.$$.fragment,l),n=G(l,`
	Download`),l.forEach(v),this.h()},h(){c(e,"href",r[0]),c(e,"download","result.json"),c(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(a,l){M(a,e,l),B(t,e,null),p(e,n),s=!0},p(a,[l]){(!s||l&1)&&c(e,"href",a[0])},i(a){s||(N(t.$$.fragment,a),s=!0)},o(a){S(t.$$.fragment,a),s=!1},d(a){a&&v(e),U(t)}}}function Ze(r,e,t){let{download:n=""}=e;return r.$$set=s=>{"download"in s&&t(0,n=s.download)},[n]}class et extends x{constructor(e){super(),L(this,e,Ze,We,P,{download:0})}}function tt(r){let e,t,n,s;return{c(){e=y("button"),t=j("Submit"),this.h()},l(a){e=E(a,"BUTTON",{class:!0});var l=w(e);t=G(l,"Submit"),l.forEach(v),this.h()},h(){c(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(a,l){M(a,e,l),p(e,t),n||(s=z(e,"click",function(){se(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(a,[l]){r=a},i:R,o:R,d(a){a&&v(e),n=!1,s()}}}function rt(r,e,t){let{submit:n}=e;return r.$$set=s=>{"submit"in s&&t(0,n=s.submit)},[n]}class nt extends x{constructor(e){super(),L(this,e,rt,tt,P,{submit:0})}}function st(r){let e,t,n,s,a;return t=new et({props:{download:r[0]}}),s=new nt({props:{submit:r[1]}}),{c(){e=y("div"),A(t.$$.fragment),n=O(),A(s.$$.fragment),this.h()},l(l){e=E(l,"DIV",{class:!0});var o=w(e);V(t.$$.fragment,o),n=C(o),V(s.$$.fragment,o),o.forEach(v),this.h()},h(){c(e,"class","flex justify-between pt-4")},m(l,o){M(l,e,o),B(t,e,null),p(e,n),B(s,e,null),a=!0},p(l,[o]){const m={};o&1&&(m.download=l[0]),t.$set(m);const g={};o&2&&(g.submit=l[1]),s.$set(g)},i(l){a||(N(t.$$.fragment,l),N(s.$$.fragment,l),a=!0)},o(l){S(t.$$.fragment,l),S(s.$$.fragment,l),a=!1},d(l){l&&v(e),U(t),U(s)}}}function lt(r,e,t){let{download:n=""}=e,{submit:s}=e;return r.$$set=a=>{"download"in a&&t(0,n=a.download),"submit"in a&&t(1,s=a.submit)},[n,s]}class at extends x{constructor(e){super(),L(this,e,lt,st,P,{download:0,submit:1})}}function ot(r){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=E(s,"INPUT",{class:!0,type:!0}),this.h()},h(){c(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),c(e,"type","text")},m(s,a){M(s,e,a),ue(e,r[0]),t||(n=[z(e,"input",r[2]),z(e,"focus",r[3],{once:!0})],t=!0)},p(s,[a]){a&1&&e.value!==s[0]&&ue(e,s[0])},i:R,o:R,d(s){s&&v(e),t=!1,Te(n)}}}function it(r,e,t){let{value:n}=e,{onFocus:s}=e;function a(){n=this.value,t(0,n)}const l=o=>s(o.currentTarget);return r.$$set=o=>{"value"in o&&t(0,n=o.value),"onFocus"in o&&t(1,s=o.onFocus)},[n,s,a,l]}class pe extends x{constructor(e){super(),L(this,e,it,ot,P,{value:0,onFocus:1})}}function ut(r){let e,t,n,s,a,l,o,m,g,i,f,T,u,h,$,_,b,d;function F(k){r[7](k)}let I={onFocus:r[6]};r[1]!==void 0&&(I.value=r[1]),o=new pe({props:I}),ce.push(()=>fe(o,"value",F));function J(k){r[9](k)}let D={onFocus:r[8]};return r[2]!==void 0&&(D.value=r[2]),i=new pe({props:D}),ce.push(()=>fe(i,"value",J)),{c(){e=y("div"),t=y("div"),n=y("h1"),s=j("Add a new merge field"),a=O(),l=y("div"),A(o.$$.fragment),g=O(),A(i.$$.fragment),T=O(),u=y("div"),h=y("button"),$=j("Add"),this.h()},l(k){e=E(k,"DIV",{});var H=w(e);t=E(H,"DIV",{});var X=w(t);n=E(X,"H1",{class:!0});var K=w(n);s=G(K,"Add a new merge field"),K.forEach(v),a=C(X),l=E(X,"DIV",{class:!0});var Y=w(l);V(o.$$.fragment,Y),g=C(Y),V(i.$$.fragment,Y),T=C(Y),u=E(Y,"DIV",{class:!0});var oe=w(u);h=E(oe,"BUTTON",{class:!0});var ie=w(h);$=G(ie,"Add"),ie.forEach(v),oe.forEach(v),Y.forEach(v),X.forEach(v),H.forEach(v),this.h()},h(){c(n,"class","text-teal-400 px-1"),c(h,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end"),c(u,"class","flex flex-row-reverse"),c(l,"class","border p-4 mb-6")},m(k,H){M(k,e,H),p(e,t),p(t,n),p(n,s),p(t,a),p(t,l),B(o,l,null),p(l,g),B(i,l,null),p(l,T),p(l,u),p(u,h),p(h,$),_=!0,b||(d=z(h,"click",le(r[10])),b=!0)},p(k,[H]){const X={};!m&&H&2&&(m=!0,X.value=k[1],de(()=>m=!1)),o.$set(X);const K={};!f&&H&4&&(f=!0,K.value=k[2],de(()=>f=!1)),i.$set(K)},i(k){_||(N(o.$$.fragment,k),N(i.$$.fragment,k),_=!0)},o(k){S(o.$$.fragment,k),S(i.$$.fragment,k),_=!1},d(k){k&&v(e),U(o),U(i),b=!1,d()}}}function ct(r,e,t){let n,s,a=me("find");he(r,a,h=>t(1,n=h));let l=me("replace");he(r,l,h=>t(2,s=h));let o=h=>h.set(""),{addField:m}=e;const g=()=>o(a);function i(h){n=h,a.set(n)}const f=()=>o(l);function T(h){s=h,l.set(s)}const u=()=>m({find:n,replace:s});return r.$$set=h=>{"addField"in h&&t(0,m=h.addField)},[m,n,s,a,l,o,g,i,f,T,u]}class ft extends x{constructor(e){super(),L(this,e,ct,ut,P,{addField:0})}}function dt(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=Z(n,"svg",{xmlns:!0,viewBox:!0});var s=w(e);t=Z(s,"path",{fill:!0,d:!0}),w(t).forEach(v),s.forEach(v),this.h()},h(){c(t,"fill","white"),c(t,"d","M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16")},m(n,s){M(n,e,s),p(e,t)},p:R,i:R,o:R,d(n){n&&v(e)}}}function ht(r){return[]}class mt extends x{constructor(e){super(),L(this,e,ht,dt,P,{})}}function pt(r){let e,t,n,s,a;return t=new mt({}),{c(){e=y("button"),A(t.$$.fragment),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var o=w(e);V(t.$$.fragment,o),o.forEach(v),this.h()},h(){c(e,"class","bg-blue-400 hover:bg-blue-700 text-white font-bold absolute top-0 right-0 rounded-full w-4 h-4 p-1")},m(l,o){M(l,e,o),B(t,e,null),n=!0,s||(a=z(e,"click",le(function(){se(r[0])&&r[0].apply(this,arguments)})),s=!0)},p(l,[o]){r=l},i(l){n||(N(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&v(e),U(t),s=!1,a()}}}function gt(r,e,t){let{onClick:n}=e;return r.$$set=s=>{"onClick"in s&&t(0,n=s.onClick)},[n]}class vt extends x{constructor(e){super(),L(this,e,gt,pt,P,{onClick:0})}}function ge(r,e,t){const n=r.slice();return n[7]=e[t],n}function ve(r){let e,t,n=r[7].find+"",s,a,l,o,m,g,i,f,T,u,h;function $(...b){return r[5](r[7],...b)}function _(){return r[6](r[7])}return i=new vt({props:{onClick:_}}),{c(){e=y("div"),t=y("label"),s=j(n),l=O(),o=y("input"),g=O(),A(i.$$.fragment),f=O(),this.h()},l(b){e=E(b,"DIV",{"data-cy":!0,class:!0});var d=w(e);t=E(d,"LABEL",{for:!0,class:!0});var F=w(t);s=G(F,n),F.forEach(v),l=C(d),o=E(d,"INPUT",{role:!0,class:!0,type:!0}),g=C(d),V(i.$$.fragment,d),f=C(d),d.forEach(v),this.h()},h(){c(t,"for",a=r[7].find),c(t,"class","block mb-2 monospace"),c(o,"role","textbox"),c(o,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),c(o,"type","text"),o.value=m=r[7].replace,c(e,"data-cy","label-input"),c(e,"class","relative")},m(b,d){M(b,e,d),p(e,t),p(t,s),p(e,l),p(e,o),p(e,g),B(i,e,null),p(e,f),T=!0,u||(h=z(o,"input",$),u=!0)},p(b,d){r=b,(!T||d&2)&&n!==(n=r[7].find+"")&&ae(s,n),(!T||d&2&&a!==(a=r[7].find))&&c(t,"for",a),(!T||d&2&&m!==(m=r[7].replace)&&o.value!==m)&&(o.value=m);const F={};d&18&&(F.onClick=_),i.$set(F)},i(b){T||(N(i.$$.fragment,b),T=!0)},o(b){S(i.$$.fragment,b),T=!1},d(b){b&&v(e),U(i),u=!1,h()}}}function _t(r){let e,t,n,s,a,l,o,m,g,i=r[1],f=[];for(let u=0;u<i.length;u+=1)f[u]=ve(ge(r,i,u));const T=u=>S(f[u],1,1,()=>{f[u]=null});return m=new ft({props:{addField:r[3]}}),{c(){e=y("div"),t=y("div"),n=y("h1"),s=j("Modify Merge Values"),a=O(),l=y("div");for(let u=0;u<f.length;u+=1)f[u].c();o=O(),A(m.$$.fragment),this.h()},l(u){e=E(u,"DIV",{});var h=w(e);t=E(h,"DIV",{"data-cy":!0});var $=w(t);n=E($,"H1",{class:!0});var _=w(n);s=G(_,"Modify Merge Values"),_.forEach(v),a=C($),l=E($,"DIV",{class:!0});var b=w(l);for(let d=0;d<f.length;d+=1)f[d].l(b);b.forEach(v),$.forEach(v),o=C(h),V(m.$$.fragment,h),h.forEach(v),this.h()},h(){c(n,"class","text-teal-400 px-1"),c(l,"class","border p-4 mb-6"),c(t,"data-cy","merge-fields-input-section"),ee(e,"hidden",r[0])},m(u,h){M(u,e,h),p(e,t),p(t,n),p(n,s),p(t,a),p(t,l);for(let $=0;$<f.length;$+=1)f[$].m(l,null);p(e,o),B(m,e,null),g=!0},p(u,[h]){if(h&22){i=u[1];let _;for(_=0;_<i.length;_+=1){const b=ge(u,i,_);f[_]?(f[_].p(b,h),N(f[_],1)):(f[_]=ve(b),f[_].c(),N(f[_],1),f[_].m(l,null))}for(be(),_=i.length;_<f.length;_+=1)T(_);we()}const $={};h&8&&($.addField=u[3]),m.$set($),(!g||h&1)&&ee(e,"hidden",u[0])},i(u){if(!g){for(let h=0;h<i.length;h+=1)N(f[h]);N(m.$$.fragment,u),g=!0}},o(u){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)S(f[h]);S(m.$$.fragment,u),g=!1},d(u){u&&v(e),ke(f,u),U(m)}}}function bt(r,e,t){let{error:n}=e,{fields:s=[]}=e,{handleFormInput:a}=e,{addField:l}=e,{removeField:o}=e;const m=(i,f)=>a({find:i.find,replace:f.currentTarget.value}),g=i=>o(i);return r.$$set=i=>{"error"in i&&t(0,n=i.error),"fields"in i&&t(1,s=i.fields),"handleFormInput"in i&&t(2,a=i.handleFormInput),"addField"in i&&t(3,l=i.addField),"removeField"in i&&t(4,o=i.removeField)},[n,s,a,l,o,m,g]}class wt extends x{constructor(e){super(),L(this,e,bt,_t,P,{error:0,fields:1,handleFormInput:2,addField:3,removeField:4})}}function yt(r){let e,t,n,s;return{c(){e=y("button"),t=j("Reset"),this.h()},l(a){e=E(a,"BUTTON",{class:!0});var l=w(e);t=G(l,"Reset"),l.forEach(v),this.h()},h(){c(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end")},m(a,l){M(a,e,l),p(e,t),n||(s=z(e,"click",le(function(){se(r[0])&&r[0].apply(this,arguments)})),n=!0)},p(a,[l]){r=a},i:R,o:R,d(a){a&&v(e),n=!1,s()}}}function Et(r,e,t){let{onClick:n}=e;return r.$$set=s=>{"onClick"in s&&t(0,n=s.onClick)},[n]}class Ft extends x{constructor(e){super(),L(this,e,Et,yt,P,{onClick:0})}}function $t(r){let e,t,n,s,a,l,o,m;return o=new Ft({props:{onClick:r[0]}}),{c(){e=y("div"),t=y("p"),n=y("span"),s=j(r[2]),a=O(),l=y("div"),A(o.$$.fragment),this.h()},l(g){e=E(g,"DIV",{});var i=w(e);t=E(i,"P",{"data-cy":!0,class:!0});var f=w(t);n=E(f,"SPAN",{class:!0});var T=w(n);s=G(T,r[2]),T.forEach(v),f.forEach(v),a=C(i),l=E(i,"DIV",{class:!0});var u=w(l);V(o.$$.fragment,u),u.forEach(v),i.forEach(v),this.h()},h(){c(n,"class","monospace text-orange-900"),c(t,"data-cy","template-input-error"),c(t,"class","bg-rose-200 rounded py-2 my-4 px-4"),c(l,"class","flex flex-row-reverse "),ee(e,"hidden",!r[1])},m(g,i){M(g,e,i),p(e,t),p(t,n),p(n,s),p(e,a),p(e,l),B(o,l,null),m=!0},p(g,[i]){(!m||i&4)&&ae(s,g[2]);const f={};i&1&&(f.onClick=g[0]),o.$set(f),(!m||i&2)&&ee(e,"hidden",!g[1])},i(g){m||(N(o.$$.fragment,g),m=!0)},o(g){S(o.$$.fragment,g),m=!1},d(g){g&&v(e),U(o)}}}function Tt(r,e,t){let n,{onClick:s}=e,{error:a}=e;return r.$$set=l=>{"onClick"in l&&t(0,s=l.onClick),"error"in l&&t(1,a=l.error)},r.$$.update=()=>{r.$$.dirty&2&&t(2,n=a&&a.message||"")},[s,a,n]}class kt extends x{constructor(e){super(),L(this,e,Tt,$t,P,{onClick:0,error:1})}}function _e(r){let e,t,n,s,a,l,o,m,g,i=te(r[0])+"",f,T,u,h,$,_;return u=new at({props:{submit:r[7],download:r[3]}}),{c(){e=y("div"),t=y("h1"),n=j("Result"),s=O(),a=y("abbr"),l=y("img"),m=O(),g=y("p"),f=j(i),T=O(),A(u.$$.fragment),this.h()},l(b){e=E(b,"DIV",{"data-cy":!0,class:!0});var d=w(e);t=E(d,"H1",{class:!0});var F=w(t);n=G(F,"Result"),F.forEach(v),s=C(d),a=E(d,"ABBR",{title:!0,class:!0});var I=w(a);l=E(I,"IMG",{src:!0,alt:!0,class:!0}),I.forEach(v),m=C(d),g=E(d,"P",{"data-cy":!0,class:!0});var J=w(g);f=G(J,i),J.forEach(v),T=C(d),V(u.$$.fragment,d),d.forEach(v),this.h()},h(){c(t,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),Ne(l.src,o=Ie)||c(l,"src",o),c(l,"alt","copy-button"),c(l,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),c(a,"title","Copy to clipboard"),c(a,"class","svelte-r93edu"),c(g,"data-cy","result"),c(g,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),c(e,"data-cy","result-section"),c(e,"class","svelte-r93edu")},m(b,d){M(b,e,d),p(e,t),p(t,n),p(e,s),p(e,a),p(a,l),p(e,m),p(e,g),p(g,f),p(e,T),B(u,e,null),h=!0,$||(_=z(l,"click",r[6]),$=!0)},p(b,d){(!h||d&1)&&i!==(i=te(b[0])+"")&&ae(f,i);const F={};d&8&&(F.download=b[3]),u.$set(F)},i(b){h||(N(u.$$.fragment,b),h=!0)},o(b){S(u.$$.fragment,b),h=!1},d(b){b&&v(e),U(u),$=!1,_()}}}function Nt(r){let e,t,n,s,a,l,o,m,g,i,f,T,u,h,$,_,b;f=new kt({props:{error:r[2],onClick:r[10]}}),u=new wt({props:{fields:r[1].merge,handleFormInput:r[5],addField:r[8],removeField:r[9],error:r[2]}});let d=!r[2]&&_e(r);return{c(){e=y("div"),t=y("section"),n=y("form"),s=y("div"),a=y("label"),l=j("Paste template"),o=O(),m=y("textarea"),i=O(),A(f.$$.fragment),T=O(),A(u.$$.fragment),h=O(),d&&d.c(),this.h()},l(F){e=E(F,"DIV",{class:!0});var I=w(e);t=E(I,"SECTION",{"data-cy":!0,class:!0});var J=w(t);n=E(J,"FORM",{class:!0});var D=w(n);s=E(D,"DIV",{"data-cy":!0,class:!0});var k=w(s);a=E(k,"LABEL",{for:!0,class:!0});var H=w(a);l=G(H,"Paste template"),H.forEach(v),o=C(k),m=E(k,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),w(m).forEach(v),k.forEach(v),i=C(D),V(f.$$.fragment,D),T=C(D),V(u.$$.fragment,D),D.forEach(v),h=C(J),d&&d.l(J),J.forEach(v),I.forEach(v),this.h()},h(){c(a,"for","json-input"),c(a,"class","text-teal-400 px-1 svelte-r93edu"),c(m,"data-cy","template-input"),c(m,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),c(m,"id","json-input"),m.value=g=te(r[1]),c(s,"data-cy","template-input-section"),c(s,"class","mb-6 svelte-r93edu"),c(n,"class","svelte-r93edu"),c(t,"data-cy","form-container"),c(t,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),c(e,"class","shotstack-mergefield-form svelte-r93edu")},m(F,I){M(F,e,I),p(e,t),p(t,n),p(n,s),p(s,a),p(a,l),p(s,o),p(s,m),p(n,i),B(f,n,null),p(n,T),B(u,n,null),p(t,h),d&&d.m(t,null),$=!0,_||(b=z(m,"input",r[12]),_=!0)},p(F,[I]){(!$||I&2&&g!==(g=te(F[1])))&&(m.value=g);const J={};I&4&&(J.error=F[2]),f.$set(J);const D={};I&2&&(D.fields=F[1].merge),I&4&&(D.error=F[2]),u.$set(D),F[2]?d&&(be(),S(d,1,1,()=>{d=null}),we()):d?(d.p(F,I),I&4&&N(d,1)):(d=_e(F),d.c(),N(d,1),d.m(t,null))},i(F){$||(N(f.$$.fragment,F),N(u.$$.fragment,F),N(d),$=!0)},o(F){S(f.$$.fragment,F),S(u.$$.fragment,F),S(d),$=!1},d(F){F&&v(e),U(f),U(u),d&&d.d(),_=!1,b()}}}function te(r){return JSON.stringify(r,null,2)}function It(r){if(typeof window<"u"){const e=new Blob([JSON.stringify(r,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function St(r,e,t){let n,{editTemplateService:s=new Ge(Xe)}=e,a=s.template,l=s.result,o=null;function m(_){s.setTemplateSource(_),t(1,a=s.template),t(0,l=s.result),t(2,o=s.error)}function g(_){s.updateResultMergeFields(_),t(0,l=s.result)}function i(){navigator.clipboard.writeText(JSON.stringify(l)),alert("JSON copied to clipboard!")}function f(){s.submit(),window.alert("Form successfully submitted!")}function T(_){s.addMergeField(_),t(1,a=s.template),t(0,l=s.result),t(2,o=s.error)}function u(_){const b=s.getMergeFieldItem(_);s.removeMergeField(b),t(1,a=s.template),t(0,l=s.result),t(2,o=s.error)}function h(){s.setTemplateSource(s.result),t(1,a=s.template),t(0,l=s.result),t(2,o=s.error)}const $=_=>m(_.currentTarget.value);return r.$$set=_=>{"editTemplateService"in _&&t(11,s=_.editTemplateService)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=It(l)||"")},[l,a,o,n,m,g,i,f,T,u,h,s,$]}class Ot extends x{constructor(e){super(),L(this,e,St,Nt,P,{editTemplateService:11})}}function Ct(r){let e,t;return e=new Ot({}),{c(){A(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){B(e,n,s),t=!0},p:R,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}class At extends x{constructor(e){super(),L(this,e,null,Ct,P,{})}}export{At as default};
