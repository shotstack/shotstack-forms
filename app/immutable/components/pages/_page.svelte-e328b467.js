var Fe=Object.defineProperty;var Ie=(n,e,t)=>e in n?Fe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Q=(n,e,t)=>(Ie(n,typeof e!="symbol"?e+"":e,t),t);import{S as U,i as L,s as P,H as W,I as Z,m as b,h,n as f,b as M,F as g,A as D,k as w,v as A,q as G,l as E,w as R,r as H,x as V,f as T,t as N,y as B,J as z,K as se,a as O,c as C,L as ue,M as $e,N as fe,O as ce,P as le,Q as de,G as he,u as ie,R as ee,g as be,d as we,T as Te,U as ke}from"../../chunks/index-0c661f1c.js";import{w as me}from"../../chunks/index-5edcacc6.js";const Ne=""+new URL("../../assets/copy-regular-423f8619.svg",import.meta.url).href,Se="A 'merge' property is required",Oe="Property 'merge' must be an array",Ce="A 'find' property is required on every element inside 'merge'",De="Every 'find' property inside 'merge' must be of type string",Me="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",Ae="A 'replace' property is required on every element inside 'merge'",Re="Unexpected error while parsing template JSON",Ve="Every element inside the 'merge' should be an object";class x extends Error{constructor(e){super(e)}}function Be(n){return typeof n=="object"}function re(n,e){return n in e}function ne(n,e){return!re(n,e)}function Ue(n,e){return re(n,e)&&!(e[n]instanceof Array)}function Le(n,e){return re(n,e)&&typeof e[n]!="string"}function Pe(n,e){const t=re(n,e)&&e[n];return!(typeof t=="string"&&t.length>0)}function Je(n){try{const e=JSON.parse(n);if(ne("merge",e))throw new x(Se);if(Ue("merge",e))throw new x(Oe);const{merge:t}=e,s=je(t);return{...e,merge:s}}catch(e){throw Ee(e)}}function je(n){return n.map(t=>{if(!Be(t))throw new x(Ve);if(ne("find",t))throw new x(Ce);if(ne("replace",t))throw new x(Ae);if(Le("find",t))throw new x(De);if(Pe("find",t))throw new x(Me);return t}).map(({find:t,replace:s})=>({find:t,replace:ye(s)}))}function Ge(n){return typeof n=="object"&&n!==null&&"message"in n}function Ee(n){return n instanceof Error?n:Ge(n)?new x(n.message):new x(Re)}function ye(n){return typeof n=="string"?n:JSON.stringify(n)}class He{constructor(e){Q(this,"template");Q(this,"_result");Q(this,"_error");Q(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const t=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(s=>s(e,t))}get error(){return this._error}set result(e){this._result=e,this.handlers.change.forEach(t=>t(e))}get result(){return this._result}on(e,t){this.handlers[e].push(t)}off(e,t){this.handlers={...this.handlers,[e]:this.handlers[e].filter(s=>s!==t)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const t=Je(ye(e));this.template=t,this.result=t,this.error=null}catch(t){const s=Ee(t);this.error=s}}updateResultMergeFields(e,t){const s=t||this.getMergeFieldItem({find:e.find});return this.result.merge.forEach(r=>{r===s&&(r.find=e.find,r.replace=e.replace)}),this.result={...this.result,merge:this.result.merge},this.result.merge}logger(e){console.error(e)}addMergeField(e){this.setTemplateSource({...this.result,merge:[...this.result.merge,e]})}removeMergeField(e){this.setTemplateSource({...this.result,merge:this.result.merge.filter(t=>t!==e)})}getMergeFieldItem(e){if(Object.keys(e).length===0)return;const t=function(s){let r;for(r in e)if(s[r]!==e[r])return!1;return!0};return this.result.merge.find(t)}}const qe=[{find:"NAME",replace:"world"}],xe={tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},ze={format:"mp4",resolution:"hd"},Xe={merge:qe,timeline:xe,output:ze};function Ye(n){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(s){e=Z(s,"svg",{class:!0,xmlns:!0,viewBox:!0});var r=b(e);t=Z(r,"path",{d:!0}),b(t).forEach(h),r.forEach(h),this.h()},h(){f(t,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),f(e,"class","fill-current w-4 h-4 mr-2"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 20 20")},m(s,r){M(s,e,r),g(e,t)},p:D,i:D,o:D,d(s){s&&h(e)}}}function Ke(n){return[]}class Qe extends U{constructor(e){super(),L(this,e,Ke,Ye,P,{})}}function We(n){let e,t,s,r;return t=new Qe({}),{c(){e=w("a"),A(t.$$.fragment),s=G(`
	Download`),this.h()},l(i){e=E(i,"A",{href:!0,download:!0,class:!0});var l=b(e);R(t.$$.fragment,l),s=H(l,`
	Download`),l.forEach(h),this.h()},h(){f(e,"href",n[0]),f(e,"download","result.json"),f(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(i,l){M(i,e,l),V(t,e,null),g(e,s),r=!0},p(i,[l]){(!r||l&1)&&f(e,"href",i[0])},i(i){r||(T(t.$$.fragment,i),r=!0)},o(i){N(t.$$.fragment,i),r=!1},d(i){i&&h(e),B(t)}}}function Ze(n,e,t){let{download:s=""}=e;return n.$$set=r=>{"download"in r&&t(0,s=r.download)},[s]}class et extends U{constructor(e){super(),L(this,e,Ze,We,P,{download:0})}}function tt(n){let e,t,s,r;return{c(){e=w("button"),t=G("Submit"),this.h()},l(i){e=E(i,"BUTTON",{class:!0});var l=b(e);t=H(l,"Submit"),l.forEach(h),this.h()},h(){f(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(i,l){M(i,e,l),g(e,t),s||(r=z(e,"click",function(){se(n[0])&&n[0].apply(this,arguments)}),s=!0)},p(i,[l]){n=i},i:D,o:D,d(i){i&&h(e),s=!1,r()}}}function rt(n,e,t){let{submit:s}=e;return n.$$set=r=>{"submit"in r&&t(0,s=r.submit)},[s]}class nt extends U{constructor(e){super(),L(this,e,rt,tt,P,{submit:0})}}function st(n){let e,t,s,r,i;return t=new et({props:{download:n[0]}}),r=new nt({props:{submit:n[1]}}),{c(){e=w("div"),A(t.$$.fragment),s=O(),A(r.$$.fragment),this.h()},l(l){e=E(l,"DIV",{class:!0});var a=b(e);R(t.$$.fragment,a),s=C(a),R(r.$$.fragment,a),a.forEach(h),this.h()},h(){f(e,"class","flex justify-between pt-4")},m(l,a){M(l,e,a),V(t,e,null),g(e,s),V(r,e,null),i=!0},p(l,[a]){const o={};a&1&&(o.download=l[0]),t.$set(o);const u={};a&2&&(u.submit=l[1]),r.$set(u)},i(l){i||(T(t.$$.fragment,l),T(r.$$.fragment,l),i=!0)},o(l){N(t.$$.fragment,l),N(r.$$.fragment,l),i=!1},d(l){l&&h(e),B(t),B(r)}}}function lt(n,e,t){let{download:s=""}=e,{submit:r}=e;return n.$$set=i=>{"download"in i&&t(0,s=i.download),"submit"in i&&t(1,r=i.submit)},[s,r]}class it extends U{constructor(e){super(),L(this,e,lt,st,P,{download:0,submit:1})}}function at(n){let e,t,s;return{c(){e=w("input"),this.h()},l(r){e=E(r,"INPUT",{class:!0,type:!0}),this.h()},h(){f(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),f(e,"type","text")},m(r,i){M(r,e,i),ue(e,n[0]),t||(s=[z(e,"input",n[2]),z(e,"focus",n[3],{once:!0})],t=!0)},p(r,[i]){i&1&&e.value!==r[0]&&ue(e,r[0])},i:D,o:D,d(r){r&&h(e),t=!1,$e(s)}}}function ot(n,e,t){let{value:s}=e,{onFocus:r}=e;function i(){s=this.value,t(0,s)}const l=a=>r(a.currentTarget);return n.$$set=a=>{"value"in a&&t(0,s=a.value),"onFocus"in a&&t(1,r=a.onFocus)},[s,r,i,l]}class ge extends U{constructor(e){super(),L(this,e,ot,at,P,{value:0,onFocus:1})}}function ut(n){let e,t,s,r,i,l,a,o,u,p,d,k,c,m,F,_,y,v;function I($){n[7]($)}let S={onFocus:n[6]};n[1]!==void 0&&(S.value=n[1]),a=new ge({props:S}),fe.push(()=>ce(a,"value",I));function j($){n[9]($)}let J={onFocus:n[8]};return n[2]!==void 0&&(J.value=n[2]),p=new ge({props:J}),fe.push(()=>ce(p,"value",j)),{c(){e=w("div"),t=w("div"),s=w("h1"),r=G("Add a new merge field"),i=O(),l=w("div"),A(a.$$.fragment),u=O(),A(p.$$.fragment),k=O(),c=w("div"),m=w("button"),F=G("Add"),this.h()},l($){e=E($,"DIV",{});var q=b(e);t=E(q,"DIV",{});var X=b(t);s=E(X,"H1",{class:!0});var K=b(s);r=H(K,"Add a new merge field"),K.forEach(h),i=C(X),l=E(X,"DIV",{class:!0});var Y=b(l);R(a.$$.fragment,Y),u=C(Y),R(p.$$.fragment,Y),k=C(Y),c=E(Y,"DIV",{class:!0});var ae=b(c);m=E(ae,"BUTTON",{class:!0});var oe=b(m);F=H(oe,"Add"),oe.forEach(h),ae.forEach(h),Y.forEach(h),X.forEach(h),q.forEach(h),this.h()},h(){f(s,"class","text-teal-400 px-1"),f(m,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end"),f(c,"class","flex flex-row-reverse"),f(l,"class","border p-4 mb-6")},m($,q){M($,e,q),g(e,t),g(t,s),g(s,r),g(t,i),g(t,l),V(a,l,null),g(l,u),V(p,l,null),g(l,k),g(l,c),g(c,m),g(m,F),_=!0,y||(v=z(m,"click",le(n[10])),y=!0)},p($,[q]){const X={};!o&&q&2&&(o=!0,X.value=$[1],de(()=>o=!1)),a.$set(X);const K={};!d&&q&4&&(d=!0,K.value=$[2],de(()=>d=!1)),p.$set(K)},i($){_||(T(a.$$.fragment,$),T(p.$$.fragment,$),_=!0)},o($){N(a.$$.fragment,$),N(p.$$.fragment,$),_=!1},d($){$&&h(e),B(a),B(p),y=!1,v()}}}function ft(n,e,t){let s,r,i=me("find");he(n,i,m=>t(1,s=m));let l=me("replace");he(n,l,m=>t(2,r=m));let a=m=>m.set(""),{addField:o}=e;const u=()=>a(i);function p(m){s=m,i.set(s)}const d=()=>a(l);function k(m){r=m,l.set(r)}const c=()=>o({find:s,replace:r});return n.$$set=m=>{"addField"in m&&t(0,o=m.addField)},[o,s,r,i,l,a,u,p,d,k,c]}class ct extends U{constructor(e){super(),L(this,e,ft,ut,P,{addField:0})}}function dt(n){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(s){e=Z(s,"svg",{xmlns:!0,viewBox:!0});var r=b(e);t=Z(r,"path",{fill:!0,d:!0}),b(t).forEach(h),r.forEach(h),this.h()},h(){f(t,"fill","white"),f(t,"d","M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16")},m(s,r){M(s,e,r),g(e,t)},p:D,i:D,o:D,d(s){s&&h(e)}}}function ht(n){return[]}class mt extends U{constructor(e){super(),L(this,e,ht,dt,P,{})}}function gt(n){let e,t,s,r,i;return t=new mt({}),{c(){e=w("button"),A(t.$$.fragment),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var a=b(e);R(t.$$.fragment,a),a.forEach(h),this.h()},h(){f(e,"class","bg-blue-400 hover:bg-blue-700 text-white font-bold absolute top-0 right-0 rounded-full w-4 h-4 p-1")},m(l,a){M(l,e,a),V(t,e,null),s=!0,r||(i=z(e,"click",le(function(){se(n[0])&&n[0].apply(this,arguments)})),r=!0)},p(l,[a]){n=l},i(l){s||(T(t.$$.fragment,l),s=!0)},o(l){N(t.$$.fragment,l),s=!1},d(l){l&&h(e),B(t),r=!1,i()}}}function pt(n,e,t){let{onClick:s}=e;return n.$$set=r=>{"onClick"in r&&t(0,s=r.onClick)},[s]}class _t extends U{constructor(e){super(),L(this,e,pt,gt,P,{onClick:0})}}function vt(n){let e,t;return{c(){e=w("label"),t=G(n[0]),this.h()},l(s){e=E(s,"LABEL",{for:!0,class:!0});var r=b(e);t=H(r,n[0]),r.forEach(h),this.h()},h(){f(e,"for",n[0]),f(e,"class","block mb-2 monospace")},m(s,r){M(s,e,r),g(e,t)},p(s,[r]){r&1&&ie(t,s[0]),r&1&&f(e,"for",s[0])},i:D,o:D,d(s){s&&h(e)}}}function bt(n,e,t){let{find:s}=e;return n.$$set=r=>{"find"in r&&t(0,s=r.find)},[s]}class wt extends U{constructor(e){super(),L(this,e,bt,vt,P,{find:0})}}function Et(n){let e,t,s;return{c(){e=w("input"),this.h()},l(r){e=E(r,"INPUT",{role:!0,class:!0,type:!0,label:!0}),this.h()},h(){f(e,"role","textbox"),f(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),f(e,"type","text"),e.value=n[2],f(e,"label",n[1])},m(r,i){M(r,e,i),t||(s=z(e,"input",n[4]),t=!0)},p(r,[i]){i&4&&e.value!==r[2]&&(e.value=r[2]),i&2&&f(e,"label",r[1])},i:D,o:D,d(r){r&&h(e),t=!1,s()}}}function yt(n,e,t){let{field:s}=e,{find:r}=e,{replace:i}=e,{handleFormInput:l}=e;const a=o=>l({find:r,replace:o.currentTarget.value},s);return n.$$set=o=>{"field"in o&&t(0,s=o.field),"find"in o&&t(1,r=o.find),"replace"in o&&t(2,i=o.replace),"handleFormInput"in o&&t(3,l=o.handleFormInput)},[s,r,i,l,a]}class Ft extends U{constructor(e){super(),L(this,e,yt,Et,P,{field:0,find:1,replace:2,handleFormInput:3})}}function It(n){let e,t,s,r,i;return t=new wt({props:{find:n[0].find}}),r=new Ft({props:{find:n[0].find,replace:n[0].replace,field:n[0],handleFormInput:n[1]}}),{c(){e=w("div"),A(t.$$.fragment),s=O(),A(r.$$.fragment),this.h()},l(l){e=E(l,"DIV",{"data-cy":!0});var a=b(e);R(t.$$.fragment,a),s=C(a),R(r.$$.fragment,a),a.forEach(h),this.h()},h(){f(e,"data-cy","label-input")},m(l,a){M(l,e,a),V(t,e,null),g(e,s),V(r,e,null),i=!0},p(l,[a]){const o={};a&1&&(o.find=l[0].find),t.$set(o);const u={};a&1&&(u.find=l[0].find),a&1&&(u.replace=l[0].replace),a&1&&(u.field=l[0]),a&2&&(u.handleFormInput=l[1]),r.$set(u)},i(l){i||(T(t.$$.fragment,l),T(r.$$.fragment,l),i=!0)},o(l){N(t.$$.fragment,l),N(r.$$.fragment,l),i=!1},d(l){l&&h(e),B(t),B(r)}}}function $t(n,e,t){let{field:s}=e,{handleFormInput:r}=e;return n.$$set=i=>{"field"in i&&t(0,s=i.field),"handleFormInput"in i&&t(1,r=i.handleFormInput)},[s,r]}class Tt extends U{constructor(e){super(),L(this,e,$t,It,P,{field:0,handleFormInput:1})}}function pe(n,e,t){const s=n.slice();return s[6]=e[t],s}function _e(n){let e,t,s,r,i,l;t=new Tt({props:{field:n[6],handleFormInput:n[2]}});function a(){return n[5](n[6])}return r=new _t({props:{onClick:a}}),{c(){e=w("div"),A(t.$$.fragment),s=O(),A(r.$$.fragment),i=O(),this.h()},l(o){e=E(o,"DIV",{class:!0});var u=b(e);R(t.$$.fragment,u),s=C(u),R(r.$$.fragment,u),i=C(u),u.forEach(h),this.h()},h(){f(e,"class","relative")},m(o,u){M(o,e,u),V(t,e,null),g(e,s),V(r,e,null),g(e,i),l=!0},p(o,u){n=o;const p={};u&2&&(p.field=n[6]),u&4&&(p.handleFormInput=n[2]),t.$set(p);const d={};u&18&&(d.onClick=a),r.$set(d)},i(o){l||(T(t.$$.fragment,o),T(r.$$.fragment,o),l=!0)},o(o){N(t.$$.fragment,o),N(r.$$.fragment,o),l=!1},d(o){o&&h(e),B(t),B(r)}}}function kt(n){let e,t,s,r,i,l,a,o,u,p=n[1],d=[];for(let c=0;c<p.length;c+=1)d[c]=_e(pe(n,p,c));const k=c=>N(d[c],1,1,()=>{d[c]=null});return o=new ct({props:{addField:n[3]}}),{c(){e=w("div"),t=w("div"),s=w("h1"),r=G("Modify Merge Values"),i=O(),l=w("div");for(let c=0;c<d.length;c+=1)d[c].c();a=O(),A(o.$$.fragment),this.h()},l(c){e=E(c,"DIV",{});var m=b(e);t=E(m,"DIV",{"data-cy":!0});var F=b(t);s=E(F,"H1",{class:!0});var _=b(s);r=H(_,"Modify Merge Values"),_.forEach(h),i=C(F),l=E(F,"DIV",{class:!0});var y=b(l);for(let v=0;v<d.length;v+=1)d[v].l(y);y.forEach(h),F.forEach(h),a=C(m),R(o.$$.fragment,m),m.forEach(h),this.h()},h(){f(s,"class","text-teal-400 px-1"),f(l,"class","border p-4 mb-6"),f(t,"data-cy","merge-fields-input-section"),ee(e,"hidden",n[0])},m(c,m){M(c,e,m),g(e,t),g(t,s),g(s,r),g(t,i),g(t,l);for(let F=0;F<d.length;F+=1)d[F].m(l,null);g(e,a),V(o,e,null),u=!0},p(c,[m]){if(m&22){p=c[1];let _;for(_=0;_<p.length;_+=1){const y=pe(c,p,_);d[_]?(d[_].p(y,m),T(d[_],1)):(d[_]=_e(y),d[_].c(),T(d[_],1),d[_].m(l,null))}for(be(),_=p.length;_<d.length;_+=1)k(_);we()}const F={};m&8&&(F.addField=c[3]),o.$set(F),(!u||m&1)&&ee(e,"hidden",c[0])},i(c){if(!u){for(let m=0;m<p.length;m+=1)T(d[m]);T(o.$$.fragment,c),u=!0}},o(c){d=d.filter(Boolean);for(let m=0;m<d.length;m+=1)N(d[m]);N(o.$$.fragment,c),u=!1},d(c){c&&h(e),Te(d,c),B(o)}}}function Nt(n,e,t){let{error:s}=e,{fields:r=[]}=e,{handleFormInput:i}=e,{addField:l}=e,{removeField:a}=e;const o=u=>a(u);return n.$$set=u=>{"error"in u&&t(0,s=u.error),"fields"in u&&t(1,r=u.fields),"handleFormInput"in u&&t(2,i=u.handleFormInput),"addField"in u&&t(3,l=u.addField),"removeField"in u&&t(4,a=u.removeField)},[s,r,i,l,a,o]}class St extends U{constructor(e){super(),L(this,e,Nt,kt,P,{error:0,fields:1,handleFormInput:2,addField:3,removeField:4})}}function Ot(n){let e,t,s,r;return{c(){e=w("button"),t=G("Reset"),this.h()},l(i){e=E(i,"BUTTON",{class:!0});var l=b(e);t=H(l,"Reset"),l.forEach(h),this.h()},h(){f(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end")},m(i,l){M(i,e,l),g(e,t),s||(r=z(e,"click",le(function(){se(n[0])&&n[0].apply(this,arguments)})),s=!0)},p(i,[l]){n=i},i:D,o:D,d(i){i&&h(e),s=!1,r()}}}function Ct(n,e,t){let{onClick:s}=e;return n.$$set=r=>{"onClick"in r&&t(0,s=r.onClick)},[s]}class Dt extends U{constructor(e){super(),L(this,e,Ct,Ot,P,{onClick:0})}}function Mt(n){let e,t,s,r,i,l,a,o;return a=new Dt({props:{onClick:n[0]}}),{c(){e=w("div"),t=w("p"),s=w("span"),r=G(n[2]),i=O(),l=w("div"),A(a.$$.fragment),this.h()},l(u){e=E(u,"DIV",{});var p=b(e);t=E(p,"P",{"data-cy":!0,class:!0});var d=b(t);s=E(d,"SPAN",{class:!0});var k=b(s);r=H(k,n[2]),k.forEach(h),d.forEach(h),i=C(p),l=E(p,"DIV",{class:!0});var c=b(l);R(a.$$.fragment,c),c.forEach(h),p.forEach(h),this.h()},h(){f(s,"class","monospace text-orange-900"),f(t,"data-cy","template-input-error"),f(t,"class","bg-rose-200 rounded py-2 my-4 px-4"),f(l,"class","flex flex-row-reverse "),ee(e,"hidden",!n[1])},m(u,p){M(u,e,p),g(e,t),g(t,s),g(s,r),g(e,i),g(e,l),V(a,l,null),o=!0},p(u,[p]){(!o||p&4)&&ie(r,u[2]);const d={};p&1&&(d.onClick=u[0]),a.$set(d),(!o||p&2)&&ee(e,"hidden",!u[1])},i(u){o||(T(a.$$.fragment,u),o=!0)},o(u){N(a.$$.fragment,u),o=!1},d(u){u&&h(e),B(a)}}}function At(n,e,t){let s,{onClick:r}=e,{error:i}=e;return n.$$set=l=>{"onClick"in l&&t(0,r=l.onClick),"error"in l&&t(1,i=l.error)},n.$$.update=()=>{n.$$.dirty&2&&t(2,s=i&&i.message||"")},[r,i,s]}class Rt extends U{constructor(e){super(),L(this,e,At,Mt,P,{onClick:0,error:1})}}function ve(n){let e,t,s,r,i,l,a,o,u,p=te(n[0])+"",d,k,c,m,F,_;return c=new it({props:{submit:n[7],download:n[3]}}),{c(){e=w("div"),t=w("h1"),s=G("Result"),r=O(),i=w("abbr"),l=w("img"),o=O(),u=w("p"),d=G(p),k=O(),A(c.$$.fragment),this.h()},l(y){e=E(y,"DIV",{"data-cy":!0,class:!0});var v=b(e);t=E(v,"H1",{class:!0});var I=b(t);s=H(I,"Result"),I.forEach(h),r=C(v),i=E(v,"ABBR",{title:!0,class:!0});var S=b(i);l=E(S,"IMG",{src:!0,alt:!0,class:!0}),S.forEach(h),o=C(v),u=E(v,"P",{"data-cy":!0,class:!0});var j=b(u);d=H(j,p),j.forEach(h),k=C(v),R(c.$$.fragment,v),v.forEach(h),this.h()},h(){f(t,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),ke(l.src,a=Ne)||f(l,"src",a),f(l,"alt","copy-button"),f(l,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),f(i,"title","Copy to clipboard"),f(i,"class","svelte-r93edu"),f(u,"data-cy","result"),f(u,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),f(e,"data-cy","result-section"),f(e,"class","svelte-r93edu")},m(y,v){M(y,e,v),g(e,t),g(t,s),g(e,r),g(e,i),g(i,l),g(e,o),g(e,u),g(u,d),g(e,k),V(c,e,null),m=!0,F||(_=z(l,"click",n[6]),F=!0)},p(y,v){(!m||v&1)&&p!==(p=te(y[0])+"")&&ie(d,p);const I={};v&8&&(I.download=y[3]),c.$set(I)},i(y){m||(T(c.$$.fragment,y),m=!0)},o(y){N(c.$$.fragment,y),m=!1},d(y){y&&h(e),B(c),F=!1,_()}}}function Vt(n){let e,t,s,r,i,l,a,o,u,p,d,k,c,m,F,_,y;d=new Rt({props:{error:n[2],onClick:n[10]}}),c=new St({props:{fields:n[0].merge,handleFormInput:n[5],addField:n[8],removeField:n[9],error:n[2]}});let v=!n[2]&&ve(n);return{c(){e=w("div"),t=w("section"),s=w("form"),r=w("div"),i=w("label"),l=G("Paste template"),a=O(),o=w("textarea"),p=O(),A(d.$$.fragment),k=O(),A(c.$$.fragment),m=O(),v&&v.c(),this.h()},l(I){e=E(I,"DIV",{class:!0});var S=b(e);t=E(S,"SECTION",{"data-cy":!0,class:!0});var j=b(t);s=E(j,"FORM",{class:!0});var J=b(s);r=E(J,"DIV",{"data-cy":!0,class:!0});var $=b(r);i=E($,"LABEL",{for:!0,class:!0});var q=b(i);l=H(q,"Paste template"),q.forEach(h),a=C($),o=E($,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),b(o).forEach(h),$.forEach(h),p=C(J),R(d.$$.fragment,J),k=C(J),R(c.$$.fragment,J),J.forEach(h),m=C(j),v&&v.l(j),j.forEach(h),S.forEach(h),this.h()},h(){f(i,"for","json-input"),f(i,"class","text-teal-400 px-1 svelte-r93edu"),f(o,"data-cy","template-input"),f(o,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),f(o,"id","json-input"),o.value=u=te(n[1]),f(r,"data-cy","template-input-section"),f(r,"class","mb-6 svelte-r93edu"),f(s,"class","svelte-r93edu"),f(t,"data-cy","form-container"),f(t,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),f(e,"class","shotstack-mergefield-form svelte-r93edu")},m(I,S){M(I,e,S),g(e,t),g(t,s),g(s,r),g(r,i),g(i,l),g(r,a),g(r,o),g(s,p),V(d,s,null),g(s,k),V(c,s,null),g(t,m),v&&v.m(t,null),F=!0,_||(y=z(o,"input",n[12]),_=!0)},p(I,[S]){(!F||S&2&&u!==(u=te(I[1])))&&(o.value=u);const j={};S&4&&(j.error=I[2]),d.$set(j);const J={};S&1&&(J.fields=I[0].merge),S&4&&(J.error=I[2]),c.$set(J),I[2]?v&&(be(),N(v,1,1,()=>{v=null}),we()):v?(v.p(I,S),S&4&&T(v,1)):(v=ve(I),v.c(),T(v,1),v.m(t,null))},i(I){F||(T(d.$$.fragment,I),T(c.$$.fragment,I),T(v),F=!0)},o(I){N(d.$$.fragment,I),N(c.$$.fragment,I),N(v),F=!1},d(I){I&&h(e),B(d),B(c),v&&v.d(),_=!1,y()}}}function te(n){return JSON.stringify(n,null,2)}function Bt(n){if(typeof window<"u"){const e=new Blob([JSON.stringify(n,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function Ut(n,e,t){let s,{editTemplateService:r=new He(Xe)}=e,i=r.template,l=r.result,a=null;function o(_){r.setTemplateSource(_),t(1,i=r.template),t(0,l=r.result),t(2,a=r.error)}function u(_,y){r.updateResultMergeFields(_,y),t(0,l=r.result)}function p(){navigator.clipboard.writeText(JSON.stringify(l)),alert("JSON copied to clipboard!")}function d(){r.submit(),window.alert("Form successfully submitted!")}function k(_){r.addMergeField(_),t(1,i=r.template),t(0,l=r.result),t(2,a=r.error)}function c(_){const y=r.getMergeFieldItem(_);r.removeMergeField(y),t(1,i=r.template),t(0,l=r.result),t(2,a=r.error)}function m(){r.setTemplateSource(r.result),t(1,i=r.template),t(0,l=r.result),t(2,a=r.error)}const F=_=>o(_.currentTarget.value);return n.$$set=_=>{"editTemplateService"in _&&t(11,r=_.editTemplateService)},n.$$.update=()=>{n.$$.dirty&1&&t(3,s=Bt(l)||"")},[l,i,a,s,o,u,p,d,k,c,m,r,F]}class Lt extends U{constructor(e){super(),L(this,e,Ut,Vt,P,{editTemplateService:11})}}function Pt(n){let e,t;return e=new Lt({}),{c(){A(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,r){V(e,s,r),t=!0},p:D,i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}class Ht extends U{constructor(e){super(),L(this,e,null,Pt,P,{})}}export{Ht as default};
