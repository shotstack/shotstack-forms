var Fe=Object.defineProperty;var Te=(r,e,t)=>e in r?Fe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Q=(r,e,t)=>(Te(r,typeof e!="symbol"?e+"":e,t),t);import{S as U,i as L,s as P,H as W,I as Z,m as w,h as g,n as h,b as D,F as m,A as M,k as y,v as A,q as j,l as E,w as R,r as G,x as V,f as N,t as S,y as B,J as z,K as se,a as O,c as C,L as ue,M as Ie,N as ce,O as fe,P as le,Q as de,G as he,R as ee,g as be,d as we,T as ke,u as ae,U as Ne}from"../../chunks/index-0c661f1c.js";import{w as me}from"../../chunks/index-5edcacc6.js";const Se=""+new URL("../../assets/copy-regular-423f8619.svg",import.meta.url).href,$e="A 'merge' property is required",Oe="Property 'merge' must be an array",Ce="A 'find' property is required on every element inside 'merge'",Me="Every 'find' property inside 'merge' must be of type string",De="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",Ae="A 'replace' property is required on every element inside 'merge'",Re="Unexpected error while parsing template JSON",Ve="Every element inside the 'merge' should be an object";class q extends Error{constructor(e){super(e)}}function Be(r){return typeof r=="object"}function re(r,e){return r in e}function ne(r,e){return!re(r,e)}function Ue(r,e){return re(r,e)&&!(e[r]instanceof Array)}function Le(r,e){return re(r,e)&&typeof e[r]!="string"}function Pe(r,e){const t=re(r,e)&&e[r];return!(typeof t=="string"&&t.length>0)}function Je(r){try{const e=JSON.parse(r);if(ne("merge",e))throw new q($e);if(Ue("merge",e))throw new q(Oe);const{merge:t}=e,s=xe(t);return{...e,merge:s}}catch(e){throw ye(e)}}function xe(r){return r.map(t=>{if(!Be(t))throw new q(Ve);if(ne("find",t))throw new q(Ce);if(ne("replace",t))throw new q(Ae);if(Le("find",t))throw new q(Me);if(Pe("find",t))throw new q(De);return t}).map(({find:t,replace:s})=>({find:t,replace:Ee(s)}))}function je(r){return typeof r=="object"&&r!==null&&"message"in r}function ye(r){return r instanceof Error?r:je(r)?new q(r.message):new q(Re)}function Ee(r){return typeof r=="string"?r:JSON.stringify(r)}class Ge{constructor(e){Q(this,"template");Q(this,"_result");Q(this,"_error");Q(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const t=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(s=>s(e,t))}get error(){return this._error}set result(e){this._result=e,this.handlers.change.forEach(t=>t(e))}get result(){return this._result}on(e,t){this.handlers[e].push(t)}off(e,t){this.handlers={...this.handlers,[e]:this.handlers[e].filter(s=>s!==t)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const t=Je(Ee(e));this.template=t,this.result=t,this.error=null}catch(t){const s=ye(t);this.error=s}}updateResultMergeFields(e,t){const s=t||this.getMergeFieldItem({find:e.find});return this.result.merge.forEach(n=>{n===s&&(n.find=e.find,n.replace=e.replace)}),this.result={...this.result,merge:this.result.merge},this.result.merge}logger(e){console.error(e)}addMergeField(e){this.setTemplateSource({...this.result,merge:[...this.result.merge,e]})}removeMergeField(e){this.setTemplateSource({...this.result,merge:this.result.merge.filter(t=>t!==e)})}getMergeFieldItem(e){if(Object.keys(e).length===0)return;const t=function(s){let n;for(n in e)if(s[n]!==e[n])return!1;return!0};return this.result.merge.find(t)}}const He=[{find:"NAME",replace:"world"}],qe={tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},ze={format:"mp4",resolution:"hd"},Xe={merge:He,timeline:qe,output:ze};function Ye(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(s){e=Z(s,"svg",{class:!0,xmlns:!0,viewBox:!0});var n=w(e);t=Z(n,"path",{d:!0}),w(t).forEach(g),n.forEach(g),this.h()},h(){h(t,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),h(e,"class","fill-current w-4 h-4 mr-2"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"viewBox","0 0 20 20")},m(s,n){D(s,e,n),m(e,t)},p:M,i:M,o:M,d(s){s&&g(e)}}}function Ke(r){return[]}class Qe extends U{constructor(e){super(),L(this,e,Ke,Ye,P,{})}}function We(r){let e,t,s,n;return t=new Qe({}),{c(){e=y("a"),A(t.$$.fragment),s=j(`
	Download`),this.h()},l(a){e=E(a,"A",{href:!0,download:!0,class:!0});var l=w(e);R(t.$$.fragment,l),s=G(l,`
	Download`),l.forEach(g),this.h()},h(){h(e,"href",r[0]),h(e,"download","result.json"),h(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(a,l){D(a,e,l),V(t,e,null),m(e,s),n=!0},p(a,[l]){(!n||l&1)&&h(e,"href",a[0])},i(a){n||(N(t.$$.fragment,a),n=!0)},o(a){S(t.$$.fragment,a),n=!1},d(a){a&&g(e),B(t)}}}function Ze(r,e,t){let{download:s=""}=e;return r.$$set=n=>{"download"in n&&t(0,s=n.download)},[s]}class et extends U{constructor(e){super(),L(this,e,Ze,We,P,{download:0})}}function tt(r){let e,t,s,n;return{c(){e=y("button"),t=j("Submit"),this.h()},l(a){e=E(a,"BUTTON",{class:!0});var l=w(e);t=G(l,"Submit"),l.forEach(g),this.h()},h(){h(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(a,l){D(a,e,l),m(e,t),s||(n=z(e,"click",function(){se(r[0])&&r[0].apply(this,arguments)}),s=!0)},p(a,[l]){r=a},i:M,o:M,d(a){a&&g(e),s=!1,n()}}}function rt(r,e,t){let{submit:s}=e;return r.$$set=n=>{"submit"in n&&t(0,s=n.submit)},[s]}class nt extends U{constructor(e){super(),L(this,e,rt,tt,P,{submit:0})}}function st(r){let e,t,s,n,a;return t=new et({props:{download:r[0]}}),n=new nt({props:{submit:r[1]}}),{c(){e=y("div"),A(t.$$.fragment),s=O(),A(n.$$.fragment),this.h()},l(l){e=E(l,"DIV",{class:!0});var i=w(e);R(t.$$.fragment,i),s=C(i),R(n.$$.fragment,i),i.forEach(g),this.h()},h(){h(e,"class","flex justify-between pt-4")},m(l,i){D(l,e,i),V(t,e,null),m(e,s),V(n,e,null),a=!0},p(l,[i]){const f={};i&1&&(f.download=l[0]),t.$set(f);const c={};i&2&&(c.submit=l[1]),n.$set(c)},i(l){a||(N(t.$$.fragment,l),N(n.$$.fragment,l),a=!0)},o(l){S(t.$$.fragment,l),S(n.$$.fragment,l),a=!1},d(l){l&&g(e),B(t),B(n)}}}function lt(r,e,t){let{download:s=""}=e,{submit:n}=e;return r.$$set=a=>{"download"in a&&t(0,s=a.download),"submit"in a&&t(1,n=a.submit)},[s,n]}class at extends U{constructor(e){super(),L(this,e,lt,st,P,{download:0,submit:1})}}function it(r){let e,t,s;return{c(){e=y("input"),this.h()},l(n){e=E(n,"INPUT",{class:!0,type:!0}),this.h()},h(){h(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),h(e,"type","text")},m(n,a){D(n,e,a),ue(e,r[0]),t||(s=[z(e,"input",r[2]),z(e,"focus",r[3],{once:!0})],t=!0)},p(n,[a]){a&1&&e.value!==n[0]&&ue(e,n[0])},i:M,o:M,d(n){n&&g(e),t=!1,Ie(s)}}}function ot(r,e,t){let{value:s}=e,{onFocus:n}=e;function a(){s=this.value,t(0,s)}const l=i=>n(i.currentTarget);return r.$$set=i=>{"value"in i&&t(0,s=i.value),"onFocus"in i&&t(1,n=i.onFocus)},[s,n,a,l]}class ge extends U{constructor(e){super(),L(this,e,ot,it,P,{value:0,onFocus:1})}}function ut(r){let e,t,s,n,a,l,i,f,c,p,d,I,o,u,b,_,F,v;function T(k){r[7](k)}let $={onFocus:r[6]};r[1]!==void 0&&($.value=r[1]),i=new ge({props:$}),ce.push(()=>fe(i,"value",T));function x(k){r[9](k)}let J={onFocus:r[8]};return r[2]!==void 0&&(J.value=r[2]),p=new ge({props:J}),ce.push(()=>fe(p,"value",x)),{c(){e=y("div"),t=y("div"),s=y("h1"),n=j("Add a new merge field"),a=O(),l=y("div"),A(i.$$.fragment),c=O(),A(p.$$.fragment),I=O(),o=y("div"),u=y("button"),b=j("Add"),this.h()},l(k){e=E(k,"DIV",{});var H=w(e);t=E(H,"DIV",{});var X=w(t);s=E(X,"H1",{class:!0});var K=w(s);n=G(K,"Add a new merge field"),K.forEach(g),a=C(X),l=E(X,"DIV",{class:!0});var Y=w(l);R(i.$$.fragment,Y),c=C(Y),R(p.$$.fragment,Y),I=C(Y),o=E(Y,"DIV",{class:!0});var ie=w(o);u=E(ie,"BUTTON",{class:!0});var oe=w(u);b=G(oe,"Add"),oe.forEach(g),ie.forEach(g),Y.forEach(g),X.forEach(g),H.forEach(g),this.h()},h(){h(s,"class","text-teal-400 px-1"),h(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end"),h(o,"class","flex flex-row-reverse"),h(l,"class","border p-4 mb-6")},m(k,H){D(k,e,H),m(e,t),m(t,s),m(s,n),m(t,a),m(t,l),V(i,l,null),m(l,c),V(p,l,null),m(l,I),m(l,o),m(o,u),m(u,b),_=!0,F||(v=z(u,"click",le(r[10])),F=!0)},p(k,[H]){const X={};!f&&H&2&&(f=!0,X.value=k[1],de(()=>f=!1)),i.$set(X);const K={};!d&&H&4&&(d=!0,K.value=k[2],de(()=>d=!1)),p.$set(K)},i(k){_||(N(i.$$.fragment,k),N(p.$$.fragment,k),_=!0)},o(k){S(i.$$.fragment,k),S(p.$$.fragment,k),_=!1},d(k){k&&g(e),B(i),B(p),F=!1,v()}}}function ct(r,e,t){let s,n,a=me("find");he(r,a,u=>t(1,s=u));let l=me("replace");he(r,l,u=>t(2,n=u));let i=u=>u.set(""),{addField:f}=e;const c=()=>i(a);function p(u){s=u,a.set(s)}const d=()=>i(l);function I(u){n=u,l.set(n)}const o=()=>f({find:s,replace:n});return r.$$set=u=>{"addField"in u&&t(0,f=u.addField)},[f,s,n,a,l,i,c,p,d,I,o]}class ft extends U{constructor(e){super(),L(this,e,ct,ut,P,{addField:0})}}function dt(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(s){e=Z(s,"svg",{xmlns:!0,viewBox:!0});var n=w(e);t=Z(n,"path",{fill:!0,d:!0}),w(t).forEach(g),n.forEach(g),this.h()},h(){h(t,"fill","white"),h(t,"d","M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"viewBox","0 0 16 16")},m(s,n){D(s,e,n),m(e,t)},p:M,i:M,o:M,d(s){s&&g(e)}}}function ht(r){return[]}class mt extends U{constructor(e){super(),L(this,e,ht,dt,P,{})}}function gt(r){let e,t,s,n,a;return t=new mt({}),{c(){e=y("button"),A(t.$$.fragment),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var i=w(e);R(t.$$.fragment,i),i.forEach(g),this.h()},h(){h(e,"class","bg-blue-400 hover:bg-blue-700 text-white font-bold absolute top-0 right-0 rounded-full w-4 h-4 p-1")},m(l,i){D(l,e,i),V(t,e,null),s=!0,n||(a=z(e,"click",le(function(){se(r[0])&&r[0].apply(this,arguments)})),n=!0)},p(l,[i]){r=l},i(l){s||(N(t.$$.fragment,l),s=!0)},o(l){S(t.$$.fragment,l),s=!1},d(l){l&&g(e),B(t),n=!1,a()}}}function pt(r,e,t){let{onClick:s}=e;return r.$$set=n=>{"onClick"in n&&t(0,s=n.onClick)},[s]}class _t extends U{constructor(e){super(),L(this,e,pt,gt,P,{onClick:0})}}function vt(r){let e,t,s;return{c(){e=y("input"),this.h()},l(n){e=E(n,"INPUT",{role:!0,class:!0,type:!0}),this.h()},h(){h(e,"role","textbox"),h(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),h(e,"type","text"),e.value=r[2]},m(n,a){D(n,e,a),t||(s=z(e,"input",r[4]),t=!0)},p(n,[a]){a&4&&e.value!==n[2]&&(e.value=n[2])},i:M,o:M,d(n){n&&g(e),t=!1,s()}}}function bt(r,e,t){let{field:s}=e,{find:n}=e,{replace:a}=e,{handleFormInput:l}=e;const i=f=>l({find:n,replace:f.currentTarget.value},s);return r.$$set=f=>{"field"in f&&t(0,s=f.field),"find"in f&&t(1,n=f.find),"replace"in f&&t(2,a=f.replace),"handleFormInput"in f&&t(3,l=f.handleFormInput)},[s,n,a,l,i]}class wt extends U{constructor(e){super(),L(this,e,bt,vt,P,{field:0,find:1,replace:2,handleFormInput:3})}}function pe(r,e,t){const s=r.slice();return s[6]=e[t],s}function _e(r){let e,t,s=r[6].find+"",n,a,l,i,f,c,p,d;i=new wt({props:{find:r[6].find,replace:r[6].replace,field:r[6],handleFormInput:r[2]}});function I(){return r[5](r[6])}return c=new _t({props:{onClick:I}}),{c(){e=y("div"),t=y("label"),n=j(s),l=O(),A(i.$$.fragment),f=O(),A(c.$$.fragment),p=O(),this.h()},l(o){e=E(o,"DIV",{"data-cy":!0,class:!0});var u=w(e);t=E(u,"LABEL",{for:!0,class:!0});var b=w(t);n=G(b,s),b.forEach(g),l=C(u),R(i.$$.fragment,u),f=C(u),R(c.$$.fragment,u),p=C(u),u.forEach(g),this.h()},h(){h(t,"for",a=r[6].find),h(t,"class","block mb-2 monospace"),h(e,"data-cy","label-input"),h(e,"class","relative")},m(o,u){D(o,e,u),m(e,t),m(t,n),m(e,l),V(i,e,null),m(e,f),V(c,e,null),m(e,p),d=!0},p(o,u){r=o,(!d||u&2)&&s!==(s=r[6].find+"")&&ae(n,s),(!d||u&2&&a!==(a=r[6].find))&&h(t,"for",a);const b={};u&2&&(b.find=r[6].find),u&2&&(b.replace=r[6].replace),u&2&&(b.field=r[6]),u&4&&(b.handleFormInput=r[2]),i.$set(b);const _={};u&18&&(_.onClick=I),c.$set(_)},i(o){d||(N(i.$$.fragment,o),N(c.$$.fragment,o),d=!0)},o(o){S(i.$$.fragment,o),S(c.$$.fragment,o),d=!1},d(o){o&&g(e),B(i),B(c)}}}function yt(r){let e,t,s,n,a,l,i,f,c,p=r[1],d=[];for(let o=0;o<p.length;o+=1)d[o]=_e(pe(r,p,o));const I=o=>S(d[o],1,1,()=>{d[o]=null});return f=new ft({props:{addField:r[3]}}),{c(){e=y("div"),t=y("div"),s=y("h1"),n=j("Modify Merge Values"),a=O(),l=y("div");for(let o=0;o<d.length;o+=1)d[o].c();i=O(),A(f.$$.fragment),this.h()},l(o){e=E(o,"DIV",{});var u=w(e);t=E(u,"DIV",{"data-cy":!0});var b=w(t);s=E(b,"H1",{class:!0});var _=w(s);n=G(_,"Modify Merge Values"),_.forEach(g),a=C(b),l=E(b,"DIV",{class:!0});var F=w(l);for(let v=0;v<d.length;v+=1)d[v].l(F);F.forEach(g),b.forEach(g),i=C(u),R(f.$$.fragment,u),u.forEach(g),this.h()},h(){h(s,"class","text-teal-400 px-1"),h(l,"class","border p-4 mb-6"),h(t,"data-cy","merge-fields-input-section"),ee(e,"hidden",r[0])},m(o,u){D(o,e,u),m(e,t),m(t,s),m(s,n),m(t,a),m(t,l);for(let b=0;b<d.length;b+=1)d[b].m(l,null);m(e,i),V(f,e,null),c=!0},p(o,[u]){if(u&22){p=o[1];let _;for(_=0;_<p.length;_+=1){const F=pe(o,p,_);d[_]?(d[_].p(F,u),N(d[_],1)):(d[_]=_e(F),d[_].c(),N(d[_],1),d[_].m(l,null))}for(be(),_=p.length;_<d.length;_+=1)I(_);we()}const b={};u&8&&(b.addField=o[3]),f.$set(b),(!c||u&1)&&ee(e,"hidden",o[0])},i(o){if(!c){for(let u=0;u<p.length;u+=1)N(d[u]);N(f.$$.fragment,o),c=!0}},o(o){d=d.filter(Boolean);for(let u=0;u<d.length;u+=1)S(d[u]);S(f.$$.fragment,o),c=!1},d(o){o&&g(e),ke(d,o),B(f)}}}function Et(r,e,t){let{error:s}=e,{fields:n=[]}=e,{handleFormInput:a}=e,{addField:l}=e,{removeField:i}=e;const f=c=>i(c);return r.$$set=c=>{"error"in c&&t(0,s=c.error),"fields"in c&&t(1,n=c.fields),"handleFormInput"in c&&t(2,a=c.handleFormInput),"addField"in c&&t(3,l=c.addField),"removeField"in c&&t(4,i=c.removeField)},[s,n,a,l,i,f]}class Ft extends U{constructor(e){super(),L(this,e,Et,yt,P,{error:0,fields:1,handleFormInput:2,addField:3,removeField:4})}}function Tt(r){let e,t,s,n;return{c(){e=y("button"),t=j("Reset"),this.h()},l(a){e=E(a,"BUTTON",{class:!0});var l=w(e);t=G(l,"Reset"),l.forEach(g),this.h()},h(){h(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end")},m(a,l){D(a,e,l),m(e,t),s||(n=z(e,"click",le(function(){se(r[0])&&r[0].apply(this,arguments)})),s=!0)},p(a,[l]){r=a},i:M,o:M,d(a){a&&g(e),s=!1,n()}}}function It(r,e,t){let{onClick:s}=e;return r.$$set=n=>{"onClick"in n&&t(0,s=n.onClick)},[s]}class kt extends U{constructor(e){super(),L(this,e,It,Tt,P,{onClick:0})}}function Nt(r){let e,t,s,n,a,l,i,f;return i=new kt({props:{onClick:r[0]}}),{c(){e=y("div"),t=y("p"),s=y("span"),n=j(r[2]),a=O(),l=y("div"),A(i.$$.fragment),this.h()},l(c){e=E(c,"DIV",{});var p=w(e);t=E(p,"P",{"data-cy":!0,class:!0});var d=w(t);s=E(d,"SPAN",{class:!0});var I=w(s);n=G(I,r[2]),I.forEach(g),d.forEach(g),a=C(p),l=E(p,"DIV",{class:!0});var o=w(l);R(i.$$.fragment,o),o.forEach(g),p.forEach(g),this.h()},h(){h(s,"class","monospace text-orange-900"),h(t,"data-cy","template-input-error"),h(t,"class","bg-rose-200 rounded py-2 my-4 px-4"),h(l,"class","flex flex-row-reverse "),ee(e,"hidden",!r[1])},m(c,p){D(c,e,p),m(e,t),m(t,s),m(s,n),m(e,a),m(e,l),V(i,l,null),f=!0},p(c,[p]){(!f||p&4)&&ae(n,c[2]);const d={};p&1&&(d.onClick=c[0]),i.$set(d),(!f||p&2)&&ee(e,"hidden",!c[1])},i(c){f||(N(i.$$.fragment,c),f=!0)},o(c){S(i.$$.fragment,c),f=!1},d(c){c&&g(e),B(i)}}}function St(r,e,t){let s,{onClick:n}=e,{error:a}=e;return r.$$set=l=>{"onClick"in l&&t(0,n=l.onClick),"error"in l&&t(1,a=l.error)},r.$$.update=()=>{r.$$.dirty&2&&t(2,s=a&&a.message||"")},[n,a,s]}class $t extends U{constructor(e){super(),L(this,e,St,Nt,P,{onClick:0,error:1})}}function ve(r){let e,t,s,n,a,l,i,f,c,p=te(r[0])+"",d,I,o,u,b,_;return o=new at({props:{submit:r[7],download:r[3]}}),{c(){e=y("div"),t=y("h1"),s=j("Result"),n=O(),a=y("abbr"),l=y("img"),f=O(),c=y("p"),d=j(p),I=O(),A(o.$$.fragment),this.h()},l(F){e=E(F,"DIV",{"data-cy":!0,class:!0});var v=w(e);t=E(v,"H1",{class:!0});var T=w(t);s=G(T,"Result"),T.forEach(g),n=C(v),a=E(v,"ABBR",{title:!0,class:!0});var $=w(a);l=E($,"IMG",{src:!0,alt:!0,class:!0}),$.forEach(g),f=C(v),c=E(v,"P",{"data-cy":!0,class:!0});var x=w(c);d=G(x,p),x.forEach(g),I=C(v),R(o.$$.fragment,v),v.forEach(g),this.h()},h(){h(t,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),Ne(l.src,i=Se)||h(l,"src",i),h(l,"alt","copy-button"),h(l,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),h(a,"title","Copy to clipboard"),h(a,"class","svelte-r93edu"),h(c,"data-cy","result"),h(c,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),h(e,"data-cy","result-section"),h(e,"class","svelte-r93edu")},m(F,v){D(F,e,v),m(e,t),m(t,s),m(e,n),m(e,a),m(a,l),m(e,f),m(e,c),m(c,d),m(e,I),V(o,e,null),u=!0,b||(_=z(l,"click",r[6]),b=!0)},p(F,v){(!u||v&1)&&p!==(p=te(F[0])+"")&&ae(d,p);const T={};v&8&&(T.download=F[3]),o.$set(T)},i(F){u||(N(o.$$.fragment,F),u=!0)},o(F){S(o.$$.fragment,F),u=!1},d(F){F&&g(e),B(o),b=!1,_()}}}function Ot(r){let e,t,s,n,a,l,i,f,c,p,d,I,o,u,b,_,F;d=new $t({props:{error:r[2],onClick:r[10]}}),o=new Ft({props:{fields:r[0].merge,handleFormInput:r[5],addField:r[8],removeField:r[9],error:r[2]}});let v=!r[2]&&ve(r);return{c(){e=y("div"),t=y("section"),s=y("form"),n=y("div"),a=y("label"),l=j("Paste template"),i=O(),f=y("textarea"),p=O(),A(d.$$.fragment),I=O(),A(o.$$.fragment),u=O(),v&&v.c(),this.h()},l(T){e=E(T,"DIV",{class:!0});var $=w(e);t=E($,"SECTION",{"data-cy":!0,class:!0});var x=w(t);s=E(x,"FORM",{class:!0});var J=w(s);n=E(J,"DIV",{"data-cy":!0,class:!0});var k=w(n);a=E(k,"LABEL",{for:!0,class:!0});var H=w(a);l=G(H,"Paste template"),H.forEach(g),i=C(k),f=E(k,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),w(f).forEach(g),k.forEach(g),p=C(J),R(d.$$.fragment,J),I=C(J),R(o.$$.fragment,J),J.forEach(g),u=C(x),v&&v.l(x),x.forEach(g),$.forEach(g),this.h()},h(){h(a,"for","json-input"),h(a,"class","text-teal-400 px-1 svelte-r93edu"),h(f,"data-cy","template-input"),h(f,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),h(f,"id","json-input"),f.value=c=te(r[1]),h(n,"data-cy","template-input-section"),h(n,"class","mb-6 svelte-r93edu"),h(s,"class","svelte-r93edu"),h(t,"data-cy","form-container"),h(t,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),h(e,"class","shotstack-mergefield-form svelte-r93edu")},m(T,$){D(T,e,$),m(e,t),m(t,s),m(s,n),m(n,a),m(a,l),m(n,i),m(n,f),m(s,p),V(d,s,null),m(s,I),V(o,s,null),m(t,u),v&&v.m(t,null),b=!0,_||(F=z(f,"input",r[12]),_=!0)},p(T,[$]){(!b||$&2&&c!==(c=te(T[1])))&&(f.value=c);const x={};$&4&&(x.error=T[2]),d.$set(x);const J={};$&1&&(J.fields=T[0].merge),$&4&&(J.error=T[2]),o.$set(J),T[2]?v&&(be(),S(v,1,1,()=>{v=null}),we()):v?(v.p(T,$),$&4&&N(v,1)):(v=ve(T),v.c(),N(v,1),v.m(t,null))},i(T){b||(N(d.$$.fragment,T),N(o.$$.fragment,T),N(v),b=!0)},o(T){S(d.$$.fragment,T),S(o.$$.fragment,T),S(v),b=!1},d(T){T&&g(e),B(d),B(o),v&&v.d(),_=!1,F()}}}function te(r){return JSON.stringify(r,null,2)}function Ct(r){if(typeof window<"u"){const e=new Blob([JSON.stringify(r,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function Mt(r,e,t){let s,{editTemplateService:n=new Ge(Xe)}=e,a=n.template,l=n.result,i=null;function f(_){n.setTemplateSource(_),t(1,a=n.template),t(0,l=n.result),t(2,i=n.error)}function c(_,F){n.updateResultMergeFields(_,F),t(0,l=n.result)}function p(){navigator.clipboard.writeText(JSON.stringify(l)),alert("JSON copied to clipboard!")}function d(){n.submit(),window.alert("Form successfully submitted!")}function I(_){n.addMergeField(_),t(1,a=n.template),t(0,l=n.result),t(2,i=n.error)}function o(_){const F=n.getMergeFieldItem(_);n.removeMergeField(F),t(1,a=n.template),t(0,l=n.result),t(2,i=n.error)}function u(){n.setTemplateSource(n.result),t(1,a=n.template),t(0,l=n.result),t(2,i=n.error)}const b=_=>f(_.currentTarget.value);return r.$$set=_=>{"editTemplateService"in _&&t(11,n=_.editTemplateService)},r.$$.update=()=>{r.$$.dirty&1&&t(3,s=Ct(l)||"")},[l,a,i,s,f,c,p,d,I,o,u,n,b]}class Dt extends U{constructor(e){super(),L(this,e,Mt,Ot,P,{editTemplateService:11})}}function At(r){let e,t;return e=new Dt({}),{c(){A(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,n){V(e,s,n),t=!0},p:M,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}class Ut extends U{constructor(e){super(),L(this,e,null,At,P,{})}}export{Ut as default};
