var $e=Object.defineProperty;var Fe=(r,e,t)=>e in r?$e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Q=(r,e,t)=>(Fe(r,typeof e!="symbol"?e+"":e,t),t);import{S as L,i as P,s as U,H as W,I as Z,m as E,h as g,n as u,b as A,F as h,A as D,k as $,v as R,q as J,l as F,w as B,r as j,x as V,f as I,t as S,y as C,J as z,K as be,a as O,c as M,L as oe,M as Te,N as ue,O as ce,P as we,Q as fe,g as re,d as ne,R as Ne,u as le,T as Ie}from"../../chunks/index-844d5f2f.js";const ke=""+new URL("../../assets/copy-regular-423f8619.svg",import.meta.url).href,Se="A 'merge' property is required",Oe="Property 'merge' must be an array",Me="A 'find' property is required on every element inside 'merge'",Ae="Every 'find' property inside 'merge' must be of type string",De="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",Re="A 'replace' property is required on every element inside 'merge'",Be="Unexpected error while parsing template JSON",Ve="Every element inside the 'merge' should be an object";class G extends Error{constructor(e){super(e)}}function Ce(r){return typeof r=="object"}function te(r,e){return r in e}function se(r,e){return!te(r,e)}function Le(r,e){return te(r,e)&&!(e[r]instanceof Array)}function Pe(r,e){return te(r,e)&&typeof e[r]!="string"}function Ue(r,e){const t=te(r,e)&&e[r];return!(typeof t=="string"&&t.length>0)}function xe(r){try{const e=JSON.parse(r);if(se("merge",e))throw new G(Se);if(Le("merge",e))throw new G(Oe);const{merge:t}=e,n=Je(t);return{...e,merge:n}}catch(e){throw ye(e)}}function Je(r){return r.map(t=>{if(!Ce(t))throw new G(Ve);if(se("find",t))throw new G(Me);if(se("replace",t))throw new G(Re);if(Pe("find",t))throw new G(Ae);if(Ue("find",t))throw new G(De);return t}).map(({find:t,replace:n})=>({find:t,replace:Ee(n)}))}function je(r){return typeof r=="object"&&r!==null&&"message"in r}function ye(r){return r instanceof Error?r:je(r)?new G(r.message):new G(Be)}function Ee(r){return typeof r=="string"?r:JSON.stringify(r)}class He{constructor(e){Q(this,"template");Q(this,"_result");Q(this,"_error");Q(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const t=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(n=>n(e,t))}get error(){return this._error}set result(e){const t={...this._result};this._result=e,this.handlers.change.forEach(n=>n(e,t))}get result(){return this._result}on(e,t){this.handlers[e].push(t)}off(e,t){this.handlers={...this.handlers,[e]:this.handlers[e].filter(n=>n!==t)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const t=xe(Ee(e));this.template=t,this.result=t,this.error=null}catch(t){const n=ye(t);this.error=n}}updateResultMergeFields(e){const{find:t,replace:n}=e,s={find:t,replace:n},a=this.result.merge.map(l=>(l==null?void 0:l.find)===e.find?s:l);return this.result={...this.result,merge:a},a}logger(e){console.error(e)}addMergeField(e){this.setTemplateSource({...this.result,merge:[...this.result.merge,e]})}removeMergeField(e){this.setTemplateSource({...this.result,merge:this.result.merge.filter(t=>t!==e)})}getMergeFieldItem(e){if(Object.keys(e).length===0)return;const t=function(n){let s;for(s in e)if(n[s]!==e[s])return!1;return!0};return this.result.merge.find(t)}}const qe=[{find:"NAME",replace:"world"}],Ge={tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},ze={format:"mp4",resolution:"hd"},Xe={merge:qe,timeline:Ge,output:ze};function Ye(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=Z(n,"svg",{class:!0,xmlns:!0,viewBox:!0});var s=E(e);t=Z(s,"path",{d:!0}),E(t).forEach(g),s.forEach(g),this.h()},h(){u(t,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),u(e,"class","fill-current w-4 h-4 mr-2"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20")},m(n,s){A(n,e,s),h(e,t)},p:D,i:D,o:D,d(n){n&&g(e)}}}function Ke(r){return[]}class Qe extends L{constructor(e){super(),P(this,e,Ke,Ye,U,{})}}function We(r){let e,t,n,s;return t=new Qe({}),{c(){e=$("a"),R(t.$$.fragment),n=J(`
	Download`),this.h()},l(a){e=F(a,"A",{href:!0,download:!0,class:!0});var l=E(e);B(t.$$.fragment,l),n=j(l,`
	Download`),l.forEach(g),this.h()},h(){u(e,"href",r[0]),u(e,"download","result.json"),u(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(a,l){A(a,e,l),V(t,e,null),h(e,n),s=!0},p(a,[l]){(!s||l&1)&&u(e,"href",a[0])},i(a){s||(I(t.$$.fragment,a),s=!0)},o(a){S(t.$$.fragment,a),s=!1},d(a){a&&g(e),C(t)}}}function Ze(r,e,t){let{download:n=""}=e;return r.$$set=s=>{"download"in s&&t(0,n=s.download)},[n]}class et extends L{constructor(e){super(),P(this,e,Ze,We,U,{download:0})}}function tt(r){let e,t,n,s;return{c(){e=$("button"),t=J("Submit"),this.h()},l(a){e=F(a,"BUTTON",{class:!0});var l=E(e);t=j(l,"Submit"),l.forEach(g),this.h()},h(){u(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(a,l){A(a,e,l),h(e,t),n||(s=z(e,"click",function(){be(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(a,[l]){r=a},i:D,o:D,d(a){a&&g(e),n=!1,s()}}}function rt(r,e,t){let{submit:n}=e;return r.$$set=s=>{"submit"in s&&t(0,n=s.submit)},[n]}class nt extends L{constructor(e){super(),P(this,e,rt,tt,U,{submit:0})}}function st(r){let e,t,n,s,a;return t=new et({props:{download:r[0]}}),s=new nt({props:{submit:r[1]}}),{c(){e=$("div"),R(t.$$.fragment),n=O(),R(s.$$.fragment),this.h()},l(l){e=F(l,"DIV",{class:!0});var i=E(e);B(t.$$.fragment,i),n=M(i),B(s.$$.fragment,i),i.forEach(g),this.h()},h(){u(e,"class","flex justify-between pt-4")},m(l,i){A(l,e,i),V(t,e,null),h(e,n),V(s,e,null),a=!0},p(l,[i]){const v={};i&1&&(v.download=l[0]),t.$set(v);const f={};i&2&&(f.submit=l[1]),s.$set(f)},i(l){a||(I(t.$$.fragment,l),I(s.$$.fragment,l),a=!0)},o(l){S(t.$$.fragment,l),S(s.$$.fragment,l),a=!1},d(l){l&&g(e),C(t),C(s)}}}function lt(r,e,t){let{download:n=""}=e,{submit:s}=e;return r.$$set=a=>{"download"in a&&t(0,n=a.download),"submit"in a&&t(1,s=a.submit)},[n,s]}class at extends L{constructor(e){super(),P(this,e,lt,st,U,{download:0,submit:1})}}function it(r){let e,t,n;return{c(){e=$("input"),this.h()},l(s){e=F(s,"INPUT",{class:!0,type:!0}),this.h()},h(){u(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),u(e,"type","text")},m(s,a){A(s,e,a),oe(e,r[0]),t||(n=[z(e,"input",r[2]),z(e,"focus",r[3],{once:!0})],t=!0)},p(s,[a]){a&1&&e.value!==s[0]&&oe(e,s[0])},i:D,o:D,d(s){s&&g(e),t=!1,Te(n)}}}function ot(r,e,t){let{value:n}=e,{onFocus:s}=e;function a(){n=this.value,t(0,n)}const l=i=>s(i.currentTarget);return r.$$set=i=>{"value"in i&&t(0,n=i.value),"onFocus"in i&&t(1,s=i.onFocus)},[n,s,a,l]}class de extends L{constructor(e){super(),P(this,e,ot,it,U,{value:0,onFocus:1})}}function ut(r){let e,t,n,s,a,l,i,v,f,y,d,k,o,_,w,m,p,c;function b(N){r[3](N)}let T={onFocus:he};r[1]!==void 0&&(T.value=r[1]),i=new de({props:T}),ue.push(()=>ce(i,"value",b));function H(N){r[4](N)}let q={onFocus:he};return r[2]!==void 0&&(q.value=r[2]),y=new de({props:q}),ue.push(()=>ce(y,"value",H)),{c(){e=$("div"),t=$("div"),n=$("h1"),s=J("Add a new merge field"),a=O(),l=$("div"),R(i.$$.fragment),f=O(),R(y.$$.fragment),k=O(),o=$("div"),_=$("button"),w=J("Add"),this.h()},l(N){e=F(N,"DIV",{});var x=E(e);t=F(x,"DIV",{});var X=E(t);n=F(X,"H1",{class:!0});var K=E(n);s=j(K,"Add a new merge field"),K.forEach(g),a=M(X),l=F(X,"DIV",{class:!0});var Y=E(l);B(i.$$.fragment,Y),f=M(Y),B(y.$$.fragment,Y),k=M(Y),o=F(Y,"DIV",{class:!0});var ae=E(o);_=F(ae,"BUTTON",{class:!0});var ie=E(_);w=j(ie,"Add"),ie.forEach(g),ae.forEach(g),Y.forEach(g),X.forEach(g),x.forEach(g),this.h()},h(){u(n,"class","text-teal-400 px-1"),u(_,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end"),u(o,"class","flex flex-row-reverse"),u(l,"class","border p-4 mb-6")},m(N,x){A(N,e,x),h(e,t),h(t,n),h(n,s),h(t,a),h(t,l),V(i,l,null),h(l,f),V(y,l,null),h(l,k),h(l,o),h(o,_),h(_,w),m=!0,p||(c=z(_,"click",we(r[5])),p=!0)},p(N,[x]){const X={};!v&&x&2&&(v=!0,X.value=N[1],fe(()=>v=!1)),i.$set(X);const K={};!d&&x&4&&(d=!0,K.value=N[2],fe(()=>d=!1)),y.$set(K)},i(N){m||(I(i.$$.fragment,N),I(y.$$.fragment,N),m=!0)},o(N){S(i.$$.fragment,N),S(y.$$.fragment,N),m=!1},d(N){N&&g(e),C(i),C(y),p=!1,c()}}}function he(r){r.value=""}function ct(r,e,t){let n="find",s="replace",{addField:a}=e;function l(f){n=f,t(1,n)}function i(f){s=f,t(2,s)}const v=()=>a({find:n,replace:s});return r.$$set=f=>{"addField"in f&&t(0,a=f.addField)},[a,n,s,l,i,v]}class ft extends L{constructor(e){super(),P(this,e,ct,ut,U,{addField:0})}}function dt(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=Z(n,"svg",{xmlns:!0,viewBox:!0});var s=E(e);t=Z(s,"path",{fill:!0,d:!0}),E(t).forEach(g),s.forEach(g),this.h()},h(){u(t,"fill","white"),u(t,"d","M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16")},m(n,s){A(n,e,s),h(e,t)},p:D,i:D,o:D,d(n){n&&g(e)}}}function ht(r){return[]}class mt extends L{constructor(e){super(),P(this,e,ht,dt,U,{})}}function pt(r){let e,t,n,s,a;return t=new mt({}),{c(){e=$("button"),R(t.$$.fragment),this.h()},l(l){e=F(l,"BUTTON",{class:!0});var i=E(e);B(t.$$.fragment,i),i.forEach(g),this.h()},h(){u(e,"class","bg-blue-400 hover:bg-blue-700 text-white font-bold absolute top-0 right-0 rounded-full w-4 h-4 p-1")},m(l,i){A(l,e,i),V(t,e,null),n=!0,s||(a=z(e,"click",we(function(){be(r[0])&&r[0].apply(this,arguments)})),s=!0)},p(l,[i]){r=l},i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&g(e),C(t),s=!1,a()}}}function gt(r,e,t){let{onClick:n}=e;return r.$$set=s=>{"onClick"in s&&t(0,n=s.onClick)},[n]}class vt extends L{constructor(e){super(),P(this,e,gt,pt,U,{onClick:0})}}function me(r,e,t){const n=r.slice();return n[6]=e[t],n}function pe(r){let e,t,n=r[6].find+"",s,a,l,i,v,f,y,d,k,o,_,w;function m(...c){return r[4](r[6],...c)}function p(){return r[5](r[6])}return d=new vt({props:{onClick:p}}),{c(){e=$("div"),t=$("label"),s=J(n),l=O(),i=$("input"),y=O(),R(d.$$.fragment),k=O(),this.h()},l(c){e=F(c,"DIV",{"data-cy":!0,class:!0});var b=E(e);t=F(b,"LABEL",{for:!0,class:!0});var T=E(t);s=j(T,n),T.forEach(g),l=M(b),i=F(b,"INPUT",{class:!0,id:!0,type:!0}),y=M(b),B(d.$$.fragment,b),k=M(b),b.forEach(g),this.h()},h(){u(t,"for",a=r[6].find),u(t,"class","block mb-2 monospace"),u(i,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),u(i,"id",v=r[6].find),u(i,"type","text"),i.value=f=r[6].replace,u(e,"data-cy","label-input"),u(e,"class","relative")},m(c,b){A(c,e,b),h(e,t),h(t,s),h(e,l),h(e,i),h(e,y),V(d,e,null),h(e,k),o=!0,_||(w=z(i,"input",m),_=!0)},p(c,b){r=c,(!o||b&1)&&n!==(n=r[6].find+"")&&le(s,n),(!o||b&1&&a!==(a=r[6].find))&&u(t,"for",a),(!o||b&1&&v!==(v=r[6].find))&&u(i,"id",v),(!o||b&1&&f!==(f=r[6].replace)&&i.value!==f)&&(i.value=f);const T={};b&9&&(T.onClick=p),d.$set(T)},i(c){o||(I(d.$$.fragment,c),o=!0)},o(c){S(d.$$.fragment,c),o=!1},d(c){c&&g(e),C(d),_=!1,w()}}}function _t(r){let e,t,n,s,a,l,i,v,f,y=r[0],d=[];for(let o=0;o<y.length;o+=1)d[o]=pe(me(r,y,o));const k=o=>S(d[o],1,1,()=>{d[o]=null});return v=new ft({props:{addField:r[2]}}),{c(){e=$("div"),t=$("div"),n=$("h1"),s=J("Modify Merge Values"),a=O(),l=$("div");for(let o=0;o<d.length;o+=1)d[o].c();i=O(),R(v.$$.fragment),this.h()},l(o){e=F(o,"DIV",{});var _=E(e);t=F(_,"DIV",{"data-cy":!0});var w=E(t);n=F(w,"H1",{class:!0});var m=E(n);s=j(m,"Modify Merge Values"),m.forEach(g),a=M(w),l=F(w,"DIV",{class:!0});var p=E(l);for(let c=0;c<d.length;c+=1)d[c].l(p);p.forEach(g),w.forEach(g),i=M(_),B(v.$$.fragment,_),_.forEach(g),this.h()},h(){u(n,"class","text-teal-400 px-1"),u(l,"class","border p-4 mb-6"),u(t,"data-cy","merge-fields-input-section")},m(o,_){A(o,e,_),h(e,t),h(t,n),h(n,s),h(t,a),h(t,l);for(let w=0;w<d.length;w+=1)d[w].m(l,null);h(e,i),V(v,e,null),f=!0},p(o,[_]){if(_&11){y=o[0];let m;for(m=0;m<y.length;m+=1){const p=me(o,y,m);d[m]?(d[m].p(p,_),I(d[m],1)):(d[m]=pe(p),d[m].c(),I(d[m],1),d[m].m(l,null))}for(re(),m=y.length;m<d.length;m+=1)k(m);ne()}const w={};_&4&&(w.addField=o[2]),v.$set(w)},i(o){if(!f){for(let _=0;_<y.length;_+=1)I(d[_]);I(v.$$.fragment,o),f=!0}},o(o){d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)S(d[_]);S(v.$$.fragment,o),f=!1},d(o){o&&g(e),Ne(d,o),C(v)}}}function bt(r,e,t){let{fields:n=[]}=e,{handleFormInput:s}=e,{addField:a}=e,{removeField:l}=e;const i=(f,y)=>s({find:f.find,replace:y.currentTarget.value}),v=f=>l(f);return r.$$set=f=>{"fields"in f&&t(0,n=f.fields),"handleFormInput"in f&&t(1,s=f.handleFormInput),"addField"in f&&t(2,a=f.addField),"removeField"in f&&t(3,l=f.removeField)},[n,s,a,l,i,v]}class wt extends L{constructor(e){super(),P(this,e,bt,_t,U,{fields:0,handleFormInput:1,addField:2,removeField:3})}}function ge(r){let e,t,n=r[2].message+"",s;return{c(){e=$("p"),t=$("span"),s=J(n),this.h()},l(a){e=F(a,"P",{"data-cy":!0,class:!0});var l=E(e);t=F(l,"SPAN",{class:!0});var i=E(t);s=j(i,n),i.forEach(g),l.forEach(g),this.h()},h(){u(t,"class","monospace text-orange-900 svelte-r93edu"),u(e,"data-cy","template-input-error"),u(e,"class","bg-rose-200 rounded py-2 px-4 svelte-r93edu")},m(a,l){A(a,e,l),h(e,t),h(t,s)},p(a,l){l&4&&n!==(n=a[2].message+"")&&le(s,n)},d(a){a&&g(e)}}}function ve(r){let e,t;return e=new wt({props:{fields:r[1].merge,handleFormInput:r[5],addField:r[8],removeField:r[9]}}),{c(){R(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,s){V(e,n,s),t=!0},p(n,s){const a={};s&2&&(a.fields=n[1].merge),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function _e(r){let e,t,n,s,a,l,i,v,f,y=ee(r[0])+"",d,k,o,_,w,m;return o=new at({props:{submit:r[7],download:r[3]}}),{c(){e=$("div"),t=$("h1"),n=J("Result"),s=O(),a=$("abbr"),l=$("img"),v=O(),f=$("p"),d=J(y),k=O(),R(o.$$.fragment),this.h()},l(p){e=F(p,"DIV",{"data-cy":!0,class:!0});var c=E(e);t=F(c,"H1",{class:!0});var b=E(t);n=j(b,"Result"),b.forEach(g),s=M(c),a=F(c,"ABBR",{title:!0,class:!0});var T=E(a);l=F(T,"IMG",{src:!0,alt:!0,class:!0}),T.forEach(g),v=M(c),f=F(c,"P",{"data-cy":!0,class:!0});var H=E(f);d=j(H,y),H.forEach(g),k=M(c),B(o.$$.fragment,c),c.forEach(g),this.h()},h(){u(t,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),Ie(l.src,i=ke)||u(l,"src",i),u(l,"alt","copy-button"),u(l,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),u(a,"title","Copy to clipboard"),u(a,"class","svelte-r93edu"),u(f,"data-cy","result"),u(f,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),u(e,"data-cy","result-section"),u(e,"class","svelte-r93edu")},m(p,c){A(p,e,c),h(e,t),h(t,n),h(e,s),h(e,a),h(a,l),h(e,v),h(e,f),h(f,d),h(e,k),V(o,e,null),_=!0,w||(m=z(l,"click",r[6]),w=!0)},p(p,c){(!_||c&1)&&y!==(y=ee(p[0])+"")&&le(d,y);const b={};c&8&&(b.download=p[3]),o.$set(b)},i(p){_||(I(o.$$.fragment,p),_=!0)},o(p){S(o.$$.fragment,p),_=!1},d(p){p&&g(e),C(o),w=!1,m()}}}function yt(r){let e,t,n,s,a,l,i,v,f,y,d,k,o,_,w,m=r[2]&&ge(r),p=!r[2]&&ve(r),c=!r[2]&&_e(r);return{c(){e=$("div"),t=$("section"),n=$("form"),s=$("div"),a=$("label"),l=J("Paste template"),i=O(),v=$("textarea"),y=O(),m&&m.c(),d=O(),p&&p.c(),k=O(),c&&c.c(),this.h()},l(b){e=F(b,"DIV",{class:!0});var T=E(e);t=F(T,"SECTION",{"data-cy":!0,class:!0});var H=E(t);n=F(H,"FORM",{class:!0});var q=E(n);s=F(q,"DIV",{"data-cy":!0,class:!0});var N=E(s);a=F(N,"LABEL",{for:!0,class:!0});var x=E(a);l=j(x,"Paste template"),x.forEach(g),i=M(N),v=F(N,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),E(v).forEach(g),N.forEach(g),y=M(q),m&&m.l(q),d=M(q),p&&p.l(q),q.forEach(g),k=M(H),c&&c.l(H),H.forEach(g),T.forEach(g),this.h()},h(){u(a,"for","json-input"),u(a,"class","text-teal-400 px-1 svelte-r93edu"),u(v,"data-cy","template-input"),u(v,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),u(v,"id","json-input"),v.value=f=ee(r[1]),u(s,"data-cy","template-input-section"),u(s,"class","mb-6 svelte-r93edu"),u(n,"class","svelte-r93edu"),u(t,"data-cy","form-container"),u(t,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),u(e,"class","shotstack-mergefield-form svelte-r93edu")},m(b,T){A(b,e,T),h(e,t),h(t,n),h(n,s),h(s,a),h(a,l),h(s,i),h(s,v),h(n,y),m&&m.m(n,null),h(n,d),p&&p.m(n,null),h(t,k),c&&c.m(t,null),o=!0,_||(w=z(v,"input",r[11]),_=!0)},p(b,[T]){(!o||T&2&&f!==(f=ee(b[1])))&&(v.value=f),b[2]?m?m.p(b,T):(m=ge(b),m.c(),m.m(n,d)):m&&(m.d(1),m=null),b[2]?p&&(re(),S(p,1,1,()=>{p=null}),ne()):p?(p.p(b,T),T&4&&I(p,1)):(p=ve(b),p.c(),I(p,1),p.m(n,null)),b[2]?c&&(re(),S(c,1,1,()=>{c=null}),ne()):c?(c.p(b,T),T&4&&I(c,1)):(c=_e(b),c.c(),I(c,1),c.m(t,null))},i(b){o||(I(p),I(c),o=!0)},o(b){S(p),S(c),o=!1},d(b){b&&g(e),m&&m.d(),p&&p.d(),c&&c.d(),_=!1,w()}}}function ee(r){return JSON.stringify(r,null,2)}function Et(r){if(typeof window<"u"){const e=new Blob([JSON.stringify(r,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function $t(r,e,t){let n,{editTemplateService:s=new He(Xe)}=e,a=s.template,l=s.result,i=null;function v(w){s.setTemplateSource(w),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}function f(w){s.updateResultMergeFields(w),t(0,l=s.result)}function y(){navigator.clipboard.writeText(JSON.stringify(l)),alert("JSON copied to clipboard!")}function d(){s.submit(),window.alert("Form successfully submitted!")}function k(w){s.addMergeField(w),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}function o(w){const m=s.getMergeFieldItem(w);s.removeMergeField(m),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}const _=w=>v(w.currentTarget.value);return r.$$set=w=>{"editTemplateService"in w&&t(10,s=w.editTemplateService)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=Et(l)||"")},[l,a,i,n,v,f,y,d,k,o,s,_]}class Ft extends L{constructor(e){super(),P(this,e,$t,yt,U,{editTemplateService:10})}}function Tt(r){let e,t;return e=new Ft({}),{c(){R(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,s){V(e,n,s),t=!0},p:D,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}class kt extends L{constructor(e){super(),P(this,e,null,Tt,U,{})}}export{kt as default};
