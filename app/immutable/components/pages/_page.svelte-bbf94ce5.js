var Fe=Object.defineProperty;var Te=(r,e,t)=>e in r?Fe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Q=(r,e,t)=>(Te(r,typeof e!="symbol"?e+"":e,t),t);import{S as U,i as L,s as P,H as W,I as Z,m as y,h as g,n as f,b as M,F as m,A as D,k as E,v as R,q as J,l as $,w as A,r as j,x as V,f as I,t as S,y as B,J as z,K as le,a as O,c as C,L as ce,M as ke,N as fe,O as de,P as ae,Q as he,G as me,g as re,d as ne,R as Ne,u as ie,T as pe,U as Ie}from"../../chunks/index-81fa0b68.js";import{w as ge}from"../../chunks/index-4f5be311.js";const Se=""+new URL("../../assets/copy-regular-423f8619.svg",import.meta.url).href,Oe="A 'merge' property is required",Ce="Property 'merge' must be an array",Me="A 'find' property is required on every element inside 'merge'",De="Every 'find' property inside 'merge' must be of type string",Re="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",Ae="A 'replace' property is required on every element inside 'merge'",Ve="Unexpected error while parsing template JSON",Be="Every element inside the 'merge' should be an object";class q extends Error{constructor(e){super(e)}}function Ue(r){return typeof r=="object"}function te(r,e){return r in e}function se(r,e){return!te(r,e)}function Le(r,e){return te(r,e)&&!(e[r]instanceof Array)}function Pe(r,e){return te(r,e)&&typeof e[r]!="string"}function xe(r,e){const t=te(r,e)&&e[r];return!(typeof t=="string"&&t.length>0)}function Je(r){try{const e=JSON.parse(r);if(se("merge",e))throw new q(Oe);if(Le("merge",e))throw new q(Ce);const{merge:t}=e,n=je(t);return{...e,merge:n}}catch(e){throw Ee(e)}}function je(r){return r.map(t=>{if(!Ue(t))throw new q(Be);if(se("find",t))throw new q(Me);if(se("replace",t))throw new q(Ae);if(Pe("find",t))throw new q(De);if(xe("find",t))throw new q(Re);return t}).map(({find:t,replace:n})=>({find:t,replace:$e(n)}))}function Ge(r){return typeof r=="object"&&r!==null&&"message"in r}function Ee(r){return r instanceof Error?r:Ge(r)?new q(r.message):new q(Ve)}function $e(r){return typeof r=="string"?r:JSON.stringify(r)}class He{constructor(e){Q(this,"template");Q(this,"_result");Q(this,"_error");Q(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const t=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(n=>n(e,t))}get error(){return this._error}set result(e){const t={...this._result};this._result=e,this.handlers.change.forEach(n=>n(e,t))}get result(){return this._result}on(e,t){this.handlers[e].push(t)}off(e,t){this.handlers={...this.handlers,[e]:this.handlers[e].filter(n=>n!==t)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const t=Je($e(e));this.template=t,this.result=t,this.error=null}catch(t){const n=Ee(t);this.error=n}}updateResultMergeFields(e){const{find:t,replace:n}=e,s={find:t,replace:n},a=this.result.merge.map(l=>(l==null?void 0:l.find)===e.find?s:l);return this.result={...this.result,merge:a},a}logger(e){console.error(e)}addMergeField(e){this.setTemplateSource({...this.result,merge:[...this.result.merge,e]})}removeMergeField(e){this.setTemplateSource({...this.result,merge:this.result.merge.filter(t=>t!==e)})}getMergeFieldItem(e){if(Object.keys(e).length===0)return;const t=function(n){let s;for(s in e)if(n[s]!==e[s])return!1;return!0};return this.result.merge.find(t)}}const qe=[{find:"NAME",replace:"world"}],ze={tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},Xe={format:"mp4",resolution:"hd"},Ye={merge:qe,timeline:ze,output:Xe};function Ke(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=Z(n,"svg",{class:!0,xmlns:!0,viewBox:!0});var s=y(e);t=Z(s,"path",{d:!0}),y(t).forEach(g),s.forEach(g),this.h()},h(){f(t,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),f(e,"class","fill-current w-4 h-4 mr-2"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 20 20")},m(n,s){M(n,e,s),m(e,t)},p:D,i:D,o:D,d(n){n&&g(e)}}}function Qe(r){return[]}class We extends U{constructor(e){super(),L(this,e,Qe,Ke,P,{})}}function Ze(r){let e,t,n,s;return t=new We({}),{c(){e=E("a"),R(t.$$.fragment),n=J(`
	Download`),this.h()},l(a){e=$(a,"A",{href:!0,download:!0,class:!0});var l=y(e);A(t.$$.fragment,l),n=j(l,`
	Download`),l.forEach(g),this.h()},h(){f(e,"href",r[0]),f(e,"download","result.json"),f(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(a,l){M(a,e,l),V(t,e,null),m(e,n),s=!0},p(a,[l]){(!s||l&1)&&f(e,"href",a[0])},i(a){s||(I(t.$$.fragment,a),s=!0)},o(a){S(t.$$.fragment,a),s=!1},d(a){a&&g(e),B(t)}}}function et(r,e,t){let{download:n=""}=e;return r.$$set=s=>{"download"in s&&t(0,n=s.download)},[n]}class tt extends U{constructor(e){super(),L(this,e,et,Ze,P,{download:0})}}function rt(r){let e,t,n,s;return{c(){e=E("button"),t=J("Submit"),this.h()},l(a){e=$(a,"BUTTON",{class:!0});var l=y(e);t=j(l,"Submit"),l.forEach(g),this.h()},h(){f(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(a,l){M(a,e,l),m(e,t),n||(s=z(e,"click",function(){le(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(a,[l]){r=a},i:D,o:D,d(a){a&&g(e),n=!1,s()}}}function nt(r,e,t){let{submit:n}=e;return r.$$set=s=>{"submit"in s&&t(0,n=s.submit)},[n]}class st extends U{constructor(e){super(),L(this,e,nt,rt,P,{submit:0})}}function lt(r){let e,t,n,s,a;return t=new tt({props:{download:r[0]}}),s=new st({props:{submit:r[1]}}),{c(){e=E("div"),R(t.$$.fragment),n=O(),R(s.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var i=y(e);A(t.$$.fragment,i),n=C(i),A(s.$$.fragment,i),i.forEach(g),this.h()},h(){f(e,"class","flex justify-between pt-4")},m(l,i){M(l,e,i),V(t,e,null),m(e,n),V(s,e,null),a=!0},p(l,[i]){const p={};i&1&&(p.download=l[0]),t.$set(p);const u={};i&2&&(u.submit=l[1]),s.$set(u)},i(l){a||(I(t.$$.fragment,l),I(s.$$.fragment,l),a=!0)},o(l){S(t.$$.fragment,l),S(s.$$.fragment,l),a=!1},d(l){l&&g(e),B(t),B(s)}}}function at(r,e,t){let{download:n=""}=e,{submit:s}=e;return r.$$set=a=>{"download"in a&&t(0,n=a.download),"submit"in a&&t(1,s=a.submit)},[n,s]}class it extends U{constructor(e){super(),L(this,e,at,lt,P,{download:0,submit:1})}}function ot(r){let e,t,n;return{c(){e=E("input"),this.h()},l(s){e=$(s,"INPUT",{class:!0,type:!0}),this.h()},h(){f(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),f(e,"type","text")},m(s,a){M(s,e,a),ce(e,r[0]),t||(n=[z(e,"input",r[2]),z(e,"focus",r[3],{once:!0})],t=!0)},p(s,[a]){a&1&&e.value!==s[0]&&ce(e,s[0])},i:D,o:D,d(s){s&&g(e),t=!1,ke(n)}}}function ut(r,e,t){let{value:n}=e,{onFocus:s}=e;function a(){n=this.value,t(0,n)}const l=i=>s(i.currentTarget);return r.$$set=i=>{"value"in i&&t(0,n=i.value),"onFocus"in i&&t(1,s=i.onFocus)},[n,s,a,l]}class _e extends U{constructor(e){super(),L(this,e,ut,ot,P,{value:0,onFocus:1})}}function ct(r){let e,t,n,s,a,l,i,p,u,_,c,T,o,d,F,b,v,h;function w(N){r[7](N)}let k={onFocus:r[6]};r[1]!==void 0&&(k.value=r[1]),i=new _e({props:k}),fe.push(()=>de(i,"value",w));function x(N){r[9](N)}let H={onFocus:r[8]};return r[2]!==void 0&&(H.value=r[2]),_=new _e({props:H}),fe.push(()=>de(_,"value",x)),{c(){e=E("div"),t=E("div"),n=E("h1"),s=J("Add a new merge field"),a=O(),l=E("div"),R(i.$$.fragment),u=O(),R(_.$$.fragment),T=O(),o=E("div"),d=E("button"),F=J("Add"),this.h()},l(N){e=$(N,"DIV",{});var G=y(e);t=$(G,"DIV",{});var X=y(t);n=$(X,"H1",{class:!0});var K=y(n);s=j(K,"Add a new merge field"),K.forEach(g),a=C(X),l=$(X,"DIV",{class:!0});var Y=y(l);A(i.$$.fragment,Y),u=C(Y),A(_.$$.fragment,Y),T=C(Y),o=$(Y,"DIV",{class:!0});var oe=y(o);d=$(oe,"BUTTON",{class:!0});var ue=y(d);F=j(ue,"Add"),ue.forEach(g),oe.forEach(g),Y.forEach(g),X.forEach(g),G.forEach(g),this.h()},h(){f(n,"class","text-teal-400 px-1"),f(d,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end"),f(o,"class","flex flex-row-reverse"),f(l,"class","border p-4 mb-6")},m(N,G){M(N,e,G),m(e,t),m(t,n),m(n,s),m(t,a),m(t,l),V(i,l,null),m(l,u),V(_,l,null),m(l,T),m(l,o),m(o,d),m(d,F),b=!0,v||(h=z(d,"click",ae(r[10])),v=!0)},p(N,[G]){const X={};!p&&G&2&&(p=!0,X.value=N[1],he(()=>p=!1)),i.$set(X);const K={};!c&&G&4&&(c=!0,K.value=N[2],he(()=>c=!1)),_.$set(K)},i(N){b||(I(i.$$.fragment,N),I(_.$$.fragment,N),b=!0)},o(N){S(i.$$.fragment,N),S(_.$$.fragment,N),b=!1},d(N){N&&g(e),B(i),B(_),v=!1,h()}}}function ft(r,e,t){let n,s,a=ge("find");me(r,a,d=>t(1,n=d));let l=ge("replace");me(r,l,d=>t(2,s=d));let i=d=>d.set(""),{addField:p}=e;const u=()=>i(a);function _(d){n=d,a.set(n)}const c=()=>i(l);function T(d){s=d,l.set(s)}const o=()=>p({find:n,replace:s});return r.$$set=d=>{"addField"in d&&t(0,p=d.addField)},[p,n,s,a,l,i,u,_,c,T,o]}class dt extends U{constructor(e){super(),L(this,e,ft,ct,P,{addField:0})}}function ht(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=Z(n,"svg",{xmlns:!0,viewBox:!0});var s=y(e);t=Z(s,"path",{fill:!0,d:!0}),y(t).forEach(g),s.forEach(g),this.h()},h(){f(t,"fill","white"),f(t,"d","M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16")},m(n,s){M(n,e,s),m(e,t)},p:D,i:D,o:D,d(n){n&&g(e)}}}function mt(r){return[]}class pt extends U{constructor(e){super(),L(this,e,mt,ht,P,{})}}function gt(r){let e,t,n,s,a;return t=new pt({}),{c(){e=E("button"),R(t.$$.fragment),this.h()},l(l){e=$(l,"BUTTON",{class:!0});var i=y(e);A(t.$$.fragment,i),i.forEach(g),this.h()},h(){f(e,"class","bg-blue-400 hover:bg-blue-700 text-white font-bold absolute top-0 right-0 rounded-full w-4 h-4 p-1")},m(l,i){M(l,e,i),V(t,e,null),n=!0,s||(a=z(e,"click",ae(function(){le(r[0])&&r[0].apply(this,arguments)})),s=!0)},p(l,[i]){r=l},i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&g(e),B(t),s=!1,a()}}}function _t(r,e,t){let{onClick:n}=e;return r.$$set=s=>{"onClick"in s&&t(0,n=s.onClick)},[n]}class vt extends U{constructor(e){super(),L(this,e,_t,gt,P,{onClick:0})}}function ve(r,e,t){const n=r.slice();return n[6]=e[t],n}function be(r){let e,t,n=r[6].find+"",s,a,l,i,p,u,_,c,T,o,d,F;function b(...h){return r[4](r[6],...h)}function v(){return r[5](r[6])}return c=new vt({props:{onClick:v}}),{c(){e=E("div"),t=E("label"),s=J(n),l=O(),i=E("input"),_=O(),R(c.$$.fragment),T=O(),this.h()},l(h){e=$(h,"DIV",{"data-cy":!0,class:!0});var w=y(e);t=$(w,"LABEL",{for:!0,class:!0});var k=y(t);s=j(k,n),k.forEach(g),l=C(w),i=$(w,"INPUT",{class:!0,id:!0,type:!0}),_=C(w),A(c.$$.fragment,w),T=C(w),w.forEach(g),this.h()},h(){f(t,"for",a=r[6].find),f(t,"class","block mb-2 monospace"),f(i,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),f(i,"id",p=r[6].find),f(i,"type","text"),i.value=u=r[6].replace,f(e,"data-cy","label-input"),f(e,"class","relative")},m(h,w){M(h,e,w),m(e,t),m(t,s),m(e,l),m(e,i),m(e,_),V(c,e,null),m(e,T),o=!0,d||(F=z(i,"input",b),d=!0)},p(h,w){r=h,(!o||w&1)&&n!==(n=r[6].find+"")&&ie(s,n),(!o||w&1&&a!==(a=r[6].find))&&f(t,"for",a),(!o||w&1&&p!==(p=r[6].find))&&f(i,"id",p),(!o||w&1&&u!==(u=r[6].replace)&&i.value!==u)&&(i.value=u);const k={};w&9&&(k.onClick=v),c.$set(k)},i(h){o||(I(c.$$.fragment,h),o=!0)},o(h){S(c.$$.fragment,h),o=!1},d(h){h&&g(e),B(c),d=!1,F()}}}function bt(r){let e,t,n,s,a,l,i,p,u,_=r[0],c=[];for(let o=0;o<_.length;o+=1)c[o]=be(ve(r,_,o));const T=o=>S(c[o],1,1,()=>{c[o]=null});return p=new dt({props:{addField:r[2]}}),{c(){e=E("div"),t=E("div"),n=E("h1"),s=J("Modify Merge Values"),a=O(),l=E("div");for(let o=0;o<c.length;o+=1)c[o].c();i=O(),R(p.$$.fragment),this.h()},l(o){e=$(o,"DIV",{});var d=y(e);t=$(d,"DIV",{"data-cy":!0});var F=y(t);n=$(F,"H1",{class:!0});var b=y(n);s=j(b,"Modify Merge Values"),b.forEach(g),a=C(F),l=$(F,"DIV",{class:!0});var v=y(l);for(let h=0;h<c.length;h+=1)c[h].l(v);v.forEach(g),F.forEach(g),i=C(d),A(p.$$.fragment,d),d.forEach(g),this.h()},h(){f(n,"class","text-teal-400 px-1"),f(l,"class","border p-4 mb-6"),f(t,"data-cy","merge-fields-input-section")},m(o,d){M(o,e,d),m(e,t),m(t,n),m(n,s),m(t,a),m(t,l);for(let F=0;F<c.length;F+=1)c[F].m(l,null);m(e,i),V(p,e,null),u=!0},p(o,[d]){if(d&11){_=o[0];let b;for(b=0;b<_.length;b+=1){const v=ve(o,_,b);c[b]?(c[b].p(v,d),I(c[b],1)):(c[b]=be(v),c[b].c(),I(c[b],1),c[b].m(l,null))}for(re(),b=_.length;b<c.length;b+=1)T(b);ne()}const F={};d&4&&(F.addField=o[2]),p.$set(F)},i(o){if(!u){for(let d=0;d<_.length;d+=1)I(c[d]);I(p.$$.fragment,o),u=!0}},o(o){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)S(c[d]);S(p.$$.fragment,o),u=!1},d(o){o&&g(e),Ne(c,o),B(p)}}}function wt(r,e,t){let{fields:n=[]}=e,{handleFormInput:s}=e,{addField:a}=e,{removeField:l}=e;const i=(u,_)=>s({find:u.find,replace:_.currentTarget.value}),p=u=>l(u);return r.$$set=u=>{"fields"in u&&t(0,n=u.fields),"handleFormInput"in u&&t(1,s=u.handleFormInput),"addField"in u&&t(2,a=u.addField),"removeField"in u&&t(3,l=u.removeField)},[n,s,a,l,i,p]}class yt extends U{constructor(e){super(),L(this,e,wt,bt,P,{fields:0,handleFormInput:1,addField:2,removeField:3})}}function Et(r){let e,t,n,s;return{c(){e=E("button"),t=J("Reset"),this.h()},l(a){e=$(a,"BUTTON",{class:!0});var l=y(e);t=j(l,"Reset"),l.forEach(g),this.h()},h(){f(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end")},m(a,l){M(a,e,l),m(e,t),n||(s=z(e,"click",ae(function(){le(r[0])&&r[0].apply(this,arguments)})),n=!0)},p(a,[l]){r=a},i:D,o:D,d(a){a&&g(e),n=!1,s()}}}function $t(r,e,t){let{onClick:n}=e;return r.$$set=s=>{"onClick"in s&&t(0,n=s.onClick)},[n]}class Ft extends U{constructor(e){super(),L(this,e,$t,Et,P,{onClick:0})}}function Tt(r){let e,t,n,s,a,l,i,p;return i=new Ft({props:{onClick:r[0]}}),{c(){e=E("div"),t=E("p"),n=E("span"),s=J(r[2]),a=O(),l=E("div"),R(i.$$.fragment),this.h()},l(u){e=$(u,"DIV",{});var _=y(e);t=$(_,"P",{"data-cy":!0,class:!0});var c=y(t);n=$(c,"SPAN",{class:!0});var T=y(n);s=j(T,r[2]),T.forEach(g),c.forEach(g),a=C(_),l=$(_,"DIV",{class:!0});var o=y(l);A(i.$$.fragment,o),o.forEach(g),_.forEach(g),this.h()},h(){f(n,"class","monospace text-orange-900"),f(t,"data-cy","template-input-error"),f(t,"class","bg-rose-200 rounded py-2 my-4 px-4"),f(l,"class","flex flex-row-reverse "),pe(e,"hidden",!r[1])},m(u,_){M(u,e,_),m(e,t),m(t,n),m(n,s),m(e,a),m(e,l),V(i,l,null),p=!0},p(u,[_]){(!p||_&4)&&ie(s,u[2]);const c={};_&1&&(c.onClick=u[0]),i.$set(c),(!p||_&2)&&pe(e,"hidden",!u[1])},i(u){p||(I(i.$$.fragment,u),p=!0)},o(u){S(i.$$.fragment,u),p=!1},d(u){u&&g(e),B(i)}}}function kt(r,e,t){let n,{onClick:s}=e,{error:a}=e;return r.$$set=l=>{"onClick"in l&&t(0,s=l.onClick),"error"in l&&t(1,a=l.error)},r.$$.update=()=>{r.$$.dirty&2&&t(2,n=a&&a.message||"")},[s,a,n]}class Nt extends U{constructor(e){super(),L(this,e,kt,Tt,P,{onClick:0,error:1})}}function we(r){let e,t;return e=new yt({props:{fields:r[1].merge,handleFormInput:r[5],addField:r[8],removeField:r[9]}}),{c(){R(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,s){V(e,n,s),t=!0},p(n,s){const a={};s&2&&(a.fields=n[1].merge),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ye(r){let e,t,n,s,a,l,i,p,u,_=ee(r[0])+"",c,T,o,d,F,b;return o=new it({props:{submit:r[7],download:r[3]}}),{c(){e=E("div"),t=E("h1"),n=J("Result"),s=O(),a=E("abbr"),l=E("img"),p=O(),u=E("p"),c=J(_),T=O(),R(o.$$.fragment),this.h()},l(v){e=$(v,"DIV",{"data-cy":!0,class:!0});var h=y(e);t=$(h,"H1",{class:!0});var w=y(t);n=j(w,"Result"),w.forEach(g),s=C(h),a=$(h,"ABBR",{title:!0,class:!0});var k=y(a);l=$(k,"IMG",{src:!0,alt:!0,class:!0}),k.forEach(g),p=C(h),u=$(h,"P",{"data-cy":!0,class:!0});var x=y(u);c=j(x,_),x.forEach(g),T=C(h),A(o.$$.fragment,h),h.forEach(g),this.h()},h(){f(t,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),Ie(l.src,i=Se)||f(l,"src",i),f(l,"alt","copy-button"),f(l,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),f(a,"title","Copy to clipboard"),f(a,"class","svelte-r93edu"),f(u,"data-cy","result"),f(u,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),f(e,"data-cy","result-section"),f(e,"class","svelte-r93edu")},m(v,h){M(v,e,h),m(e,t),m(t,n),m(e,s),m(e,a),m(a,l),m(e,p),m(e,u),m(u,c),m(e,T),V(o,e,null),d=!0,F||(b=z(l,"click",r[6]),F=!0)},p(v,h){(!d||h&1)&&_!==(_=ee(v[0])+"")&&ie(c,_);const w={};h&8&&(w.download=v[3]),o.$set(w)},i(v){d||(I(o.$$.fragment,v),d=!0)},o(v){S(o.$$.fragment,v),d=!1},d(v){v&&g(e),B(o),F=!1,b()}}}function It(r){let e,t,n,s,a,l,i,p,u,_,c,T,o,d,F,b;c=new Nt({props:{error:r[2],onClick:r[10]}});let v=!r[2]&&we(r),h=!r[2]&&ye(r);return{c(){e=E("div"),t=E("section"),n=E("form"),s=E("div"),a=E("label"),l=J("Paste template"),i=O(),p=E("textarea"),_=O(),R(c.$$.fragment),T=O(),v&&v.c(),o=O(),h&&h.c(),this.h()},l(w){e=$(w,"DIV",{class:!0});var k=y(e);t=$(k,"SECTION",{"data-cy":!0,class:!0});var x=y(t);n=$(x,"FORM",{class:!0});var H=y(n);s=$(H,"DIV",{"data-cy":!0,class:!0});var N=y(s);a=$(N,"LABEL",{for:!0,class:!0});var G=y(a);l=j(G,"Paste template"),G.forEach(g),i=C(N),p=$(N,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),y(p).forEach(g),N.forEach(g),_=C(H),A(c.$$.fragment,H),T=C(H),v&&v.l(H),H.forEach(g),o=C(x),h&&h.l(x),x.forEach(g),k.forEach(g),this.h()},h(){f(a,"for","json-input"),f(a,"class","text-teal-400 px-1 svelte-r93edu"),f(p,"data-cy","template-input"),f(p,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),f(p,"id","json-input"),p.value=u=ee(r[1]),f(s,"data-cy","template-input-section"),f(s,"class","mb-6 svelte-r93edu"),f(n,"class","svelte-r93edu"),f(t,"data-cy","form-container"),f(t,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),f(e,"class","shotstack-mergefield-form svelte-r93edu")},m(w,k){M(w,e,k),m(e,t),m(t,n),m(n,s),m(s,a),m(a,l),m(s,i),m(s,p),m(n,_),V(c,n,null),m(n,T),v&&v.m(n,null),m(t,o),h&&h.m(t,null),d=!0,F||(b=z(p,"input",r[12]),F=!0)},p(w,[k]){(!d||k&2&&u!==(u=ee(w[1])))&&(p.value=u);const x={};k&4&&(x.error=w[2]),c.$set(x),w[2]?v&&(re(),S(v,1,1,()=>{v=null}),ne()):v?(v.p(w,k),k&4&&I(v,1)):(v=we(w),v.c(),I(v,1),v.m(n,null)),w[2]?h&&(re(),S(h,1,1,()=>{h=null}),ne()):h?(h.p(w,k),k&4&&I(h,1)):(h=ye(w),h.c(),I(h,1),h.m(t,null))},i(w){d||(I(c.$$.fragment,w),I(v),I(h),d=!0)},o(w){S(c.$$.fragment,w),S(v),S(h),d=!1},d(w){w&&g(e),B(c),v&&v.d(),h&&h.d(),F=!1,b()}}}function ee(r){return JSON.stringify(r,null,2)}function St(r){if(typeof window<"u"){const e=new Blob([JSON.stringify(r,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function Ot(r,e,t){let n,{editTemplateService:s=new He(Ye)}=e,a=s.template,l=s.result,i=null;function p(b){s.setTemplateSource(b),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}function u(b){s.updateResultMergeFields(b),t(0,l=s.result)}function _(){navigator.clipboard.writeText(JSON.stringify(l)),alert("JSON copied to clipboard!")}function c(){s.submit(),window.alert("Form successfully submitted!")}function T(b){s.addMergeField(b),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}function o(b){const v=s.getMergeFieldItem(b);s.removeMergeField(v),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}function d(){s.setTemplateSource(s.result),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}const F=b=>p(b.currentTarget.value);return r.$$set=b=>{"editTemplateService"in b&&t(11,s=b.editTemplateService)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=St(l)||"")},[l,a,i,n,p,u,_,c,T,o,d,s,F]}class Ct extends U{constructor(e){super(),L(this,e,Ot,It,P,{editTemplateService:11})}}function Mt(r){let e,t;return e=new Ct({}),{c(){R(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,s){V(e,n,s),t=!0},p:D,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}class Vt extends U{constructor(e){super(),L(this,e,null,Mt,P,{})}}export{Vt as default};
