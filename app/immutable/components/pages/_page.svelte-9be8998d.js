var Fe=Object.defineProperty;var Te=(r,e,t)=>e in r?Fe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Q=(r,e,t)=>(Te(r,typeof e!="symbol"?e+"":e,t),t);import{S as L,i as P,s as U,H as W,I as Z,m as E,h as _,n as u,b as A,F as h,A as D,k as $,v as R,q as x,l as F,w as B,r as j,x as V,f as k,t as S,y as C,J as z,K as we,a as O,c as M,L as oe,M as Ne,N as ue,O as ce,P as ye,Q as fe,G as de,g as re,d as ne,R as Ie,u as le,T as ke}from"../../chunks/index-844d5f2f.js";import{w as he}from"../../chunks/index-ff541d15.js";const Se=""+new URL("../../assets/copy-regular-423f8619.svg",import.meta.url).href,Oe="A 'merge' property is required",Me="Property 'merge' must be an array",Ae="A 'find' property is required on every element inside 'merge'",De="Every 'find' property inside 'merge' must be of type string",Re="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",Be="A 'replace' property is required on every element inside 'merge'",Ve="Unexpected error while parsing template JSON",Ce="Every element inside the 'merge' should be an object";class q extends Error{constructor(e){super(e)}}function Le(r){return typeof r=="object"}function te(r,e){return r in e}function se(r,e){return!te(r,e)}function Pe(r,e){return te(r,e)&&!(e[r]instanceof Array)}function Ue(r,e){return te(r,e)&&typeof e[r]!="string"}function Je(r,e){const t=te(r,e)&&e[r];return!(typeof t=="string"&&t.length>0)}function xe(r){try{const e=JSON.parse(r);if(se("merge",e))throw new q(Oe);if(Pe("merge",e))throw new q(Me);const{merge:t}=e,n=je(t);return{...e,merge:n}}catch(e){throw Ee(e)}}function je(r){return r.map(t=>{if(!Le(t))throw new q(Ce);if(se("find",t))throw new q(Ae);if(se("replace",t))throw new q(Be);if(Ue("find",t))throw new q(De);if(Je("find",t))throw new q(Re);return t}).map(({find:t,replace:n})=>({find:t,replace:$e(n)}))}function Ge(r){return typeof r=="object"&&r!==null&&"message"in r}function Ee(r){return r instanceof Error?r:Ge(r)?new q(r.message):new q(Ve)}function $e(r){return typeof r=="string"?r:JSON.stringify(r)}class He{constructor(e){Q(this,"template");Q(this,"_result");Q(this,"_error");Q(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const t=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(n=>n(e,t))}get error(){return this._error}set result(e){const t={...this._result};this._result=e,this.handlers.change.forEach(n=>n(e,t))}get result(){return this._result}on(e,t){this.handlers[e].push(t)}off(e,t){this.handlers={...this.handlers,[e]:this.handlers[e].filter(n=>n!==t)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const t=xe($e(e));this.template=t,this.result=t,this.error=null}catch(t){const n=Ee(t);this.error=n}}updateResultMergeFields(e){const{find:t,replace:n}=e,s={find:t,replace:n},a=this.result.merge.map(l=>(l==null?void 0:l.find)===e.find?s:l);return this.result={...this.result,merge:a},a}logger(e){console.error(e)}addMergeField(e){this.setTemplateSource({...this.result,merge:[...this.result.merge,e]})}removeMergeField(e){this.setTemplateSource({...this.result,merge:this.result.merge.filter(t=>t!==e)})}getMergeFieldItem(e){if(Object.keys(e).length===0)return;const t=function(n){let s;for(s in e)if(n[s]!==e[s])return!1;return!0};return this.result.merge.find(t)}}const qe=[{find:"NAME",replace:"world"}],ze={tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},Xe={format:"mp4",resolution:"hd"},Ye={merge:qe,timeline:ze,output:Xe};function Ke(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=Z(n,"svg",{class:!0,xmlns:!0,viewBox:!0});var s=E(e);t=Z(s,"path",{d:!0}),E(t).forEach(_),s.forEach(_),this.h()},h(){u(t,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),u(e,"class","fill-current w-4 h-4 mr-2"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20")},m(n,s){A(n,e,s),h(e,t)},p:D,i:D,o:D,d(n){n&&_(e)}}}function Qe(r){return[]}class We extends L{constructor(e){super(),P(this,e,Qe,Ke,U,{})}}function Ze(r){let e,t,n,s;return t=new We({}),{c(){e=$("a"),R(t.$$.fragment),n=x(`
	Download`),this.h()},l(a){e=F(a,"A",{href:!0,download:!0,class:!0});var l=E(e);B(t.$$.fragment,l),n=j(l,`
	Download`),l.forEach(_),this.h()},h(){u(e,"href",r[0]),u(e,"download","result.json"),u(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(a,l){A(a,e,l),V(t,e,null),h(e,n),s=!0},p(a,[l]){(!s||l&1)&&u(e,"href",a[0])},i(a){s||(k(t.$$.fragment,a),s=!0)},o(a){S(t.$$.fragment,a),s=!1},d(a){a&&_(e),C(t)}}}function et(r,e,t){let{download:n=""}=e;return r.$$set=s=>{"download"in s&&t(0,n=s.download)},[n]}class tt extends L{constructor(e){super(),P(this,e,et,Ze,U,{download:0})}}function rt(r){let e,t,n,s;return{c(){e=$("button"),t=x("Submit"),this.h()},l(a){e=F(a,"BUTTON",{class:!0});var l=E(e);t=j(l,"Submit"),l.forEach(_),this.h()},h(){u(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(a,l){A(a,e,l),h(e,t),n||(s=z(e,"click",function(){we(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(a,[l]){r=a},i:D,o:D,d(a){a&&_(e),n=!1,s()}}}function nt(r,e,t){let{submit:n}=e;return r.$$set=s=>{"submit"in s&&t(0,n=s.submit)},[n]}class st extends L{constructor(e){super(),P(this,e,nt,rt,U,{submit:0})}}function lt(r){let e,t,n,s,a;return t=new tt({props:{download:r[0]}}),s=new st({props:{submit:r[1]}}),{c(){e=$("div"),R(t.$$.fragment),n=O(),R(s.$$.fragment),this.h()},l(l){e=F(l,"DIV",{class:!0});var i=E(e);B(t.$$.fragment,i),n=M(i),B(s.$$.fragment,i),i.forEach(_),this.h()},h(){u(e,"class","flex justify-between pt-4")},m(l,i){A(l,e,i),V(t,e,null),h(e,n),V(s,e,null),a=!0},p(l,[i]){const v={};i&1&&(v.download=l[0]),t.$set(v);const m={};i&2&&(m.submit=l[1]),s.$set(m)},i(l){a||(k(t.$$.fragment,l),k(s.$$.fragment,l),a=!0)},o(l){S(t.$$.fragment,l),S(s.$$.fragment,l),a=!1},d(l){l&&_(e),C(t),C(s)}}}function at(r,e,t){let{download:n=""}=e,{submit:s}=e;return r.$$set=a=>{"download"in a&&t(0,n=a.download),"submit"in a&&t(1,s=a.submit)},[n,s]}class it extends L{constructor(e){super(),P(this,e,at,lt,U,{download:0,submit:1})}}function ot(r){let e,t,n;return{c(){e=$("input"),this.h()},l(s){e=F(s,"INPUT",{class:!0,type:!0}),this.h()},h(){u(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),u(e,"type","text")},m(s,a){A(s,e,a),oe(e,r[0]),t||(n=[z(e,"input",r[2]),z(e,"focus",r[3],{once:!0})],t=!0)},p(s,[a]){a&1&&e.value!==s[0]&&oe(e,s[0])},i:D,o:D,d(s){s&&_(e),t=!1,Ne(n)}}}function ut(r,e,t){let{value:n}=e,{onFocus:s}=e;function a(){n=this.value,t(0,n)}const l=i=>s(i.currentTarget);return r.$$set=i=>{"value"in i&&t(0,n=i.value),"onFocus"in i&&t(1,s=i.onFocus)},[n,s,a,l]}class me extends L{constructor(e){super(),P(this,e,ut,ot,U,{value:0,onFocus:1})}}function ct(r){let e,t,n,s,a,l,i,v,m,y,d,I,o,c,w,p,g,f;function b(N){r[7](N)}let T={onFocus:r[6]};r[1]!==void 0&&(T.value=r[1]),i=new me({props:T}),ue.push(()=>ce(i,"value",b));function G(N){r[9](N)}let H={onFocus:r[8]};return r[2]!==void 0&&(H.value=r[2]),y=new me({props:H}),ue.push(()=>ce(y,"value",G)),{c(){e=$("div"),t=$("div"),n=$("h1"),s=x("Add a new merge field"),a=O(),l=$("div"),R(i.$$.fragment),m=O(),R(y.$$.fragment),I=O(),o=$("div"),c=$("button"),w=x("Add"),this.h()},l(N){e=F(N,"DIV",{});var J=E(e);t=F(J,"DIV",{});var X=E(t);n=F(X,"H1",{class:!0});var K=E(n);s=j(K,"Add a new merge field"),K.forEach(_),a=M(X),l=F(X,"DIV",{class:!0});var Y=E(l);B(i.$$.fragment,Y),m=M(Y),B(y.$$.fragment,Y),I=M(Y),o=F(Y,"DIV",{class:!0});var ae=E(o);c=F(ae,"BUTTON",{class:!0});var ie=E(c);w=j(ie,"Add"),ie.forEach(_),ae.forEach(_),Y.forEach(_),X.forEach(_),J.forEach(_),this.h()},h(){u(n,"class","text-teal-400 px-1"),u(c,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end"),u(o,"class","flex flex-row-reverse"),u(l,"class","border p-4 mb-6")},m(N,J){A(N,e,J),h(e,t),h(t,n),h(n,s),h(t,a),h(t,l),V(i,l,null),h(l,m),V(y,l,null),h(l,I),h(l,o),h(o,c),h(c,w),p=!0,g||(f=z(c,"click",ye(r[10])),g=!0)},p(N,[J]){const X={};!v&&J&2&&(v=!0,X.value=N[1],fe(()=>v=!1)),i.$set(X);const K={};!d&&J&4&&(d=!0,K.value=N[2],fe(()=>d=!1)),y.$set(K)},i(N){p||(k(i.$$.fragment,N),k(y.$$.fragment,N),p=!0)},o(N){S(i.$$.fragment,N),S(y.$$.fragment,N),p=!1},d(N){N&&_(e),C(i),C(y),g=!1,f()}}}function ft(r,e,t){let n,s,a=he("find");de(r,a,c=>t(1,n=c));let l=he("replace");de(r,l,c=>t(2,s=c));let i=c=>c.set(""),{addField:v}=e;const m=()=>i(a);function y(c){n=c,a.set(n)}const d=()=>i(l);function I(c){s=c,l.set(s)}const o=()=>v({find:n,replace:s});return r.$$set=c=>{"addField"in c&&t(0,v=c.addField)},[v,n,s,a,l,i,m,y,d,I,o]}class dt extends L{constructor(e){super(),P(this,e,ft,ct,U,{addField:0})}}function ht(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=Z(n,"svg",{xmlns:!0,viewBox:!0});var s=E(e);t=Z(s,"path",{fill:!0,d:!0}),E(t).forEach(_),s.forEach(_),this.h()},h(){u(t,"fill","white"),u(t,"d","M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16")},m(n,s){A(n,e,s),h(e,t)},p:D,i:D,o:D,d(n){n&&_(e)}}}function mt(r){return[]}class pt extends L{constructor(e){super(),P(this,e,mt,ht,U,{})}}function gt(r){let e,t,n,s,a;return t=new pt({}),{c(){e=$("button"),R(t.$$.fragment),this.h()},l(l){e=F(l,"BUTTON",{class:!0});var i=E(e);B(t.$$.fragment,i),i.forEach(_),this.h()},h(){u(e,"class","bg-blue-400 hover:bg-blue-700 text-white font-bold absolute top-0 right-0 rounded-full w-4 h-4 p-1")},m(l,i){A(l,e,i),V(t,e,null),n=!0,s||(a=z(e,"click",ye(function(){we(r[0])&&r[0].apply(this,arguments)})),s=!0)},p(l,[i]){r=l},i(l){n||(k(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&_(e),C(t),s=!1,a()}}}function _t(r,e,t){let{onClick:n}=e;return r.$$set=s=>{"onClick"in s&&t(0,n=s.onClick)},[n]}class vt extends L{constructor(e){super(),P(this,e,_t,gt,U,{onClick:0})}}function pe(r,e,t){const n=r.slice();return n[6]=e[t],n}function ge(r){let e,t,n=r[6].find+"",s,a,l,i,v,m,y,d,I,o,c,w;function p(...f){return r[4](r[6],...f)}function g(){return r[5](r[6])}return d=new vt({props:{onClick:g}}),{c(){e=$("div"),t=$("label"),s=x(n),l=O(),i=$("input"),y=O(),R(d.$$.fragment),I=O(),this.h()},l(f){e=F(f,"DIV",{"data-cy":!0,class:!0});var b=E(e);t=F(b,"LABEL",{for:!0,class:!0});var T=E(t);s=j(T,n),T.forEach(_),l=M(b),i=F(b,"INPUT",{class:!0,id:!0,type:!0}),y=M(b),B(d.$$.fragment,b),I=M(b),b.forEach(_),this.h()},h(){u(t,"for",a=r[6].find),u(t,"class","block mb-2 monospace"),u(i,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),u(i,"id",v=r[6].find),u(i,"type","text"),i.value=m=r[6].replace,u(e,"data-cy","label-input"),u(e,"class","relative")},m(f,b){A(f,e,b),h(e,t),h(t,s),h(e,l),h(e,i),h(e,y),V(d,e,null),h(e,I),o=!0,c||(w=z(i,"input",p),c=!0)},p(f,b){r=f,(!o||b&1)&&n!==(n=r[6].find+"")&&le(s,n),(!o||b&1&&a!==(a=r[6].find))&&u(t,"for",a),(!o||b&1&&v!==(v=r[6].find))&&u(i,"id",v),(!o||b&1&&m!==(m=r[6].replace)&&i.value!==m)&&(i.value=m);const T={};b&9&&(T.onClick=g),d.$set(T)},i(f){o||(k(d.$$.fragment,f),o=!0)},o(f){S(d.$$.fragment,f),o=!1},d(f){f&&_(e),C(d),c=!1,w()}}}function bt(r){let e,t,n,s,a,l,i,v,m,y=r[0],d=[];for(let o=0;o<y.length;o+=1)d[o]=ge(pe(r,y,o));const I=o=>S(d[o],1,1,()=>{d[o]=null});return v=new dt({props:{addField:r[2]}}),{c(){e=$("div"),t=$("div"),n=$("h1"),s=x("Modify Merge Values"),a=O(),l=$("div");for(let o=0;o<d.length;o+=1)d[o].c();i=O(),R(v.$$.fragment),this.h()},l(o){e=F(o,"DIV",{});var c=E(e);t=F(c,"DIV",{"data-cy":!0});var w=E(t);n=F(w,"H1",{class:!0});var p=E(n);s=j(p,"Modify Merge Values"),p.forEach(_),a=M(w),l=F(w,"DIV",{class:!0});var g=E(l);for(let f=0;f<d.length;f+=1)d[f].l(g);g.forEach(_),w.forEach(_),i=M(c),B(v.$$.fragment,c),c.forEach(_),this.h()},h(){u(n,"class","text-teal-400 px-1"),u(l,"class","border p-4 mb-6"),u(t,"data-cy","merge-fields-input-section")},m(o,c){A(o,e,c),h(e,t),h(t,n),h(n,s),h(t,a),h(t,l);for(let w=0;w<d.length;w+=1)d[w].m(l,null);h(e,i),V(v,e,null),m=!0},p(o,[c]){if(c&11){y=o[0];let p;for(p=0;p<y.length;p+=1){const g=pe(o,y,p);d[p]?(d[p].p(g,c),k(d[p],1)):(d[p]=ge(g),d[p].c(),k(d[p],1),d[p].m(l,null))}for(re(),p=y.length;p<d.length;p+=1)I(p);ne()}const w={};c&4&&(w.addField=o[2]),v.$set(w)},i(o){if(!m){for(let c=0;c<y.length;c+=1)k(d[c]);k(v.$$.fragment,o),m=!0}},o(o){d=d.filter(Boolean);for(let c=0;c<d.length;c+=1)S(d[c]);S(v.$$.fragment,o),m=!1},d(o){o&&_(e),Ie(d,o),C(v)}}}function wt(r,e,t){let{fields:n=[]}=e,{handleFormInput:s}=e,{addField:a}=e,{removeField:l}=e;const i=(m,y)=>s({find:m.find,replace:y.currentTarget.value}),v=m=>l(m);return r.$$set=m=>{"fields"in m&&t(0,n=m.fields),"handleFormInput"in m&&t(1,s=m.handleFormInput),"addField"in m&&t(2,a=m.addField),"removeField"in m&&t(3,l=m.removeField)},[n,s,a,l,i,v]}class yt extends L{constructor(e){super(),P(this,e,wt,bt,U,{fields:0,handleFormInput:1,addField:2,removeField:3})}}function _e(r){let e,t,n=r[2].message+"",s;return{c(){e=$("p"),t=$("span"),s=x(n),this.h()},l(a){e=F(a,"P",{"data-cy":!0,class:!0});var l=E(e);t=F(l,"SPAN",{class:!0});var i=E(t);s=j(i,n),i.forEach(_),l.forEach(_),this.h()},h(){u(t,"class","monospace text-orange-900 svelte-r93edu"),u(e,"data-cy","template-input-error"),u(e,"class","bg-rose-200 rounded py-2 px-4 svelte-r93edu")},m(a,l){A(a,e,l),h(e,t),h(t,s)},p(a,l){l&4&&n!==(n=a[2].message+"")&&le(s,n)},d(a){a&&_(e)}}}function ve(r){let e,t;return e=new yt({props:{fields:r[1].merge,handleFormInput:r[5],addField:r[8],removeField:r[9]}}),{c(){R(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,s){V(e,n,s),t=!0},p(n,s){const a={};s&2&&(a.fields=n[1].merge),e.$set(a)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function be(r){let e,t,n,s,a,l,i,v,m,y=ee(r[0])+"",d,I,o,c,w,p;return o=new it({props:{submit:r[7],download:r[3]}}),{c(){e=$("div"),t=$("h1"),n=x("Result"),s=O(),a=$("abbr"),l=$("img"),v=O(),m=$("p"),d=x(y),I=O(),R(o.$$.fragment),this.h()},l(g){e=F(g,"DIV",{"data-cy":!0,class:!0});var f=E(e);t=F(f,"H1",{class:!0});var b=E(t);n=j(b,"Result"),b.forEach(_),s=M(f),a=F(f,"ABBR",{title:!0,class:!0});var T=E(a);l=F(T,"IMG",{src:!0,alt:!0,class:!0}),T.forEach(_),v=M(f),m=F(f,"P",{"data-cy":!0,class:!0});var G=E(m);d=j(G,y),G.forEach(_),I=M(f),B(o.$$.fragment,f),f.forEach(_),this.h()},h(){u(t,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),ke(l.src,i=Se)||u(l,"src",i),u(l,"alt","copy-button"),u(l,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),u(a,"title","Copy to clipboard"),u(a,"class","svelte-r93edu"),u(m,"data-cy","result"),u(m,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),u(e,"data-cy","result-section"),u(e,"class","svelte-r93edu")},m(g,f){A(g,e,f),h(e,t),h(t,n),h(e,s),h(e,a),h(a,l),h(e,v),h(e,m),h(m,d),h(e,I),V(o,e,null),c=!0,w||(p=z(l,"click",r[6]),w=!0)},p(g,f){(!c||f&1)&&y!==(y=ee(g[0])+"")&&le(d,y);const b={};f&8&&(b.download=g[3]),o.$set(b)},i(g){c||(k(o.$$.fragment,g),c=!0)},o(g){S(o.$$.fragment,g),c=!1},d(g){g&&_(e),C(o),w=!1,p()}}}function Et(r){let e,t,n,s,a,l,i,v,m,y,d,I,o,c,w,p=r[2]&&_e(r),g=!r[2]&&ve(r),f=!r[2]&&be(r);return{c(){e=$("div"),t=$("section"),n=$("form"),s=$("div"),a=$("label"),l=x("Paste template"),i=O(),v=$("textarea"),y=O(),p&&p.c(),d=O(),g&&g.c(),I=O(),f&&f.c(),this.h()},l(b){e=F(b,"DIV",{class:!0});var T=E(e);t=F(T,"SECTION",{"data-cy":!0,class:!0});var G=E(t);n=F(G,"FORM",{class:!0});var H=E(n);s=F(H,"DIV",{"data-cy":!0,class:!0});var N=E(s);a=F(N,"LABEL",{for:!0,class:!0});var J=E(a);l=j(J,"Paste template"),J.forEach(_),i=M(N),v=F(N,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),E(v).forEach(_),N.forEach(_),y=M(H),p&&p.l(H),d=M(H),g&&g.l(H),H.forEach(_),I=M(G),f&&f.l(G),G.forEach(_),T.forEach(_),this.h()},h(){u(a,"for","json-input"),u(a,"class","text-teal-400 px-1 svelte-r93edu"),u(v,"data-cy","template-input"),u(v,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),u(v,"id","json-input"),v.value=m=ee(r[1]),u(s,"data-cy","template-input-section"),u(s,"class","mb-6 svelte-r93edu"),u(n,"class","svelte-r93edu"),u(t,"data-cy","form-container"),u(t,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),u(e,"class","shotstack-mergefield-form svelte-r93edu")},m(b,T){A(b,e,T),h(e,t),h(t,n),h(n,s),h(s,a),h(a,l),h(s,i),h(s,v),h(n,y),p&&p.m(n,null),h(n,d),g&&g.m(n,null),h(t,I),f&&f.m(t,null),o=!0,c||(w=z(v,"input",r[11]),c=!0)},p(b,[T]){(!o||T&2&&m!==(m=ee(b[1])))&&(v.value=m),b[2]?p?p.p(b,T):(p=_e(b),p.c(),p.m(n,d)):p&&(p.d(1),p=null),b[2]?g&&(re(),S(g,1,1,()=>{g=null}),ne()):g?(g.p(b,T),T&4&&k(g,1)):(g=ve(b),g.c(),k(g,1),g.m(n,null)),b[2]?f&&(re(),S(f,1,1,()=>{f=null}),ne()):f?(f.p(b,T),T&4&&k(f,1)):(f=be(b),f.c(),k(f,1),f.m(t,null))},i(b){o||(k(g),k(f),o=!0)},o(b){S(g),S(f),o=!1},d(b){b&&_(e),p&&p.d(),g&&g.d(),f&&f.d(),c=!1,w()}}}function ee(r){return JSON.stringify(r,null,2)}function $t(r){if(typeof window<"u"){const e=new Blob([JSON.stringify(r,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function Ft(r,e,t){let n,{editTemplateService:s=new He(Ye)}=e,a=s.template,l=s.result,i=null;function v(w){s.setTemplateSource(w),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}function m(w){s.updateResultMergeFields(w),t(0,l=s.result)}function y(){navigator.clipboard.writeText(JSON.stringify(l)),alert("JSON copied to clipboard!")}function d(){s.submit(),window.alert("Form successfully submitted!")}function I(w){s.addMergeField(w),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}function o(w){const p=s.getMergeFieldItem(w);s.removeMergeField(p),t(1,a=s.template),t(0,l=s.result),t(2,i=s.error)}const c=w=>v(w.currentTarget.value);return r.$$set=w=>{"editTemplateService"in w&&t(10,s=w.editTemplateService)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=$t(l)||"")},[l,a,i,n,v,m,y,d,I,o,s,c]}class Tt extends L{constructor(e){super(),P(this,e,Ft,Et,U,{editTemplateService:10})}}function Nt(r){let e,t;return e=new Tt({}),{c(){R(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,s){V(e,n,s),t=!0},p:D,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}class Ot extends L{constructor(e){super(),P(this,e,null,Nt,U,{})}}export{Ot as default};
