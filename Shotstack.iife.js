var Shotstack=function(){"use strict";var Dt=Object.defineProperty;var At=(T,j,O)=>j in T?Dt(T,j,{enumerable:!0,configurable:!0,writable:!0,value:O}):T[j]=O;var B=(T,j,O)=>(At(T,typeof j!="symbol"?j+"":j,O),O);function T(){}function j(t){return t()}function O(){return Object.create(null)}function V(t){t.forEach(j)}function _e(t){return typeof t=="function"}function H(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let X;function xe(t,e){return X||(X=document.createElement("a")),X.href=e,t===X.href}function $e(t){return Object.keys(t).length===0}let K=!1;function Le(){K=!0}function Ce(){K=!1}function Oe(t,e,n,r){for(;t<e;){const l=t+(e-t>>1);n(l)<=r?t=l+1:e=l}return t}function ke(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const o=[];for(let u=0;u<e.length;u++){const f=e[u];f.claim_order!==void 0&&o.push(f)}e=o}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let l=0;for(let o=0;o<e.length;o++){const u=e[o].claim_order,f=(l>0&&e[n[l]].claim_order<=u?l+1:Oe(1,l,M=>e[n[M]].claim_order,u))-1;r[o]=n[f]+1;const m=f+1;n[m]=o,l=Math.max(m,l)}const s=[],i=[];let a=e.length-1;for(let o=n[l]+1;o!=0;o=r[o-1]){for(s.push(e[o-1]);a>=o;a--)i.push(e[a]);a--}for(;a>=0;a--)i.push(e[a]);s.reverse(),i.sort((o,u)=>o.claim_order-u.claim_order);for(let o=0,u=0;o<i.length;o++){for(;u<s.length&&i[o].claim_order>=s[u].claim_order;)u++;const f=u<s.length?s[u]:null;t.insertBefore(i[o],f)}}function d(t,e){if(K){for(ke(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function L(t,e,n){K&&!n?d(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function ze(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function ae(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function A(){return x(" ")}function ee(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function c(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return Array.from(t.childNodes)}function Ye(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function pe(t,e,n,r,l=!1){Ye(t);const s=(()=>{for(let i=t.claim_info.last_index;i<t.length;i++){const a=t[i];if(e(a)){const o=n(a);return o===void 0?t.splice(i,1):t[i]=o,l||(t.claim_info.last_index=i),a}}for(let i=t.claim_info.last_index-1;i>=0;i--){const a=t[i];if(e(a)){const o=n(a);return o===void 0?t.splice(i,1):t[i]=o,l?o===void 0&&t.claim_info.last_index--:t.claim_info.last_index=i,a}}return r()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function ge(t,e,n,r){return pe(t,l=>l.nodeName===e,l=>{const s=[];for(let i=0;i<l.attributes.length;i++){const a=l.attributes[i];n[a.name]||s.push(a.name)}s.forEach(i=>l.removeAttribute(i))},()=>r(e))}function b(t,e,n){return ge(t,e,n,v)}function ve(t,e,n){return ge(t,e,n,ae)}function C(t,e){return pe(t,n=>n.nodeType===3,n=>{const r=""+e;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>x(e),!0)}function S(t){return C(t," ")}function ue(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let ce;function Q(t){ce=t}const F=[],ye=[],te=[],be=[],Re=Promise.resolve();let fe=!1;function Pe(){fe||(fe=!0,Re.then(we))}function de(t){te.push(t)}const he=new Set;let ne=0;function we(){const t=ce;do{for(;ne<F.length;){const e=F[ne];ne++,Q(e),Ue(e.$$)}for(Q(null),F.length=0,ne=0;ye.length;)ye.pop()();for(let e=0;e<te.length;e+=1){const n=te[e];he.has(n)||(he.add(n),n())}te.length=0}while(F.length);for(;be.length;)be.pop()();fe=!1,he.clear(),Q(t)}function Ue(t){if(t.fragment!==null){t.update(),V(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}const re=new Set;let Y;function Be(){Y={r:0,c:[],p:Y}}function Ve(){Y.r||V(Y.c),Y=Y.p}function k(t,e){t&&t.i&&(re.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(re.has(t))return;re.add(t),Y.c.push(()=>{re.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function le(t){t&&t.c()}function ie(t,e){t&&t.l(e)}function J(t,e,n,r){const{fragment:l,on_mount:s,on_destroy:i,after_update:a}=t.$$;l&&l.m(e,n),r||de(()=>{const o=s.map(j).filter(_e);i?i.push(...o):V(o),t.$$.on_mount=[]}),a.forEach(de)}function G(t,e){const n=t.$$;n.fragment!==null&&(V(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function He(t,e){t.$$.dirty[0]===-1&&(F.push(t),Pe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,n,r,l,s,i,a=[-1]){const o=ce;Q(t);const u=t.$$={fragment:null,ctx:null,props:s,update:T,not_equal:l,bound:O(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:O(),dirty:a,skip_bound:!1,root:e.target||o.$$.root};i&&i(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(m,M,...N)=>{const _=N.length?N[0]:M;return u.ctx&&l(u.ctx[m],u.ctx[m]=_)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](_),f&&He(t,m)),M}):[],u.update(),f=!0,V(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){Le();const m=y(e.target);u.fragment&&u.fragment.l(m),m.forEach(p)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),J(t,e.target,e.anchor,e.customElement),Ce(),we()}Q(o)}class Z{$destroy(){G(this,1),this.$destroy=T}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!$e(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const St="",jt="",Qe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MS4yIDUxLjIiIHdpZHRoPSI1MS4yIiBoZWlnaHQ9IjUxLjIiID4KICAgIDxzdmcgd2lkdGg9IjUxLjIiIGhlaWdodD0iNTEuMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgIGQ9Ik01MDIuNiA3MC42M2wtNjEuMjUtNjEuMjVDNDM1LjQgMy4zNzEgNDI3LjIgMCA0MTguNyAwSDI1NS4xYy0zNS4zNSAwLTY0IDI4LjY2LTY0IDY0bC4wMTk1IDI1NkMxOTIgMzU1LjQgMjIwLjcgMzg0IDI1NiAzODRoMTkyYzM1LjIgMCA2NC0yOC44IDY0LTY0VjkzLjI1QzUxMiA4NC43NyA1MDguNiA3Ni42MyA1MDIuNiA3MC42M3pNNDY0IDMyMGMwIDguODM2LTcuMTY0IDE2LTE2IDE2SDI1NS4xYy04LjgzOCAwLTE2LTcuMTY0LTE2LTE2TDIzOS4xIDY0LjEzYzAtOC44MzYgNy4xNjQtMTYgMTYtMTZoMTI4TDM4NCA5NmMwIDE3LjY3IDE0LjMzIDMyIDMyIDMyaDQ3LjFWMzIwek0yNzIgNDQ4YzAgOC44MzYtNy4xNjQgMTYtMTYgMTZINjMuMWMtOC44MzggMC0xNi03LjE2NC0xNi0xNkw0Ny45OCAxOTIuMWMwLTguODM2IDcuMTY0LTE2IDE2LTE2SDE2MFYxMjhINjMuOTljLTM1LjM1IDAtNjQgMjguNjUtNjQgNjRsLjAwOTggMjU2Qy4wMDIgNDgzLjMgMjguNjYgNTEyIDY0IDUxMmgxOTJjMzUuMiAwIDY0LTI4LjggNjQtNjR2LTMyaC00Ny4xTDI3MiA0NDh6IiAvPgogICAgPC9zdmc+Cjwvc3ZnPg==",Fe="A 'merge' property is required",Je="Property 'merge' must be an array",Ge="Property 'merge' must contain at least one element",qe="A 'find' property is required on every element inside 'merge'",Ze="Every 'find' property inside 'merge' must be of type string",We="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",Xe="A 'replace' property is required on every element inside 'merge'",Ke="Unexpected error while parsing template JSON",et="Every element inside the 'merge' should be an object";class $ extends Error{constructor(e){super(e)}}function tt(t){return typeof t=="object"}function W(t,e){return t in e}function me(t,e){return!W(t,e)}function nt(t,e){return W(t,e)&&!(e[t]instanceof Array)}function rt(t,e){return W(t,e)&&typeof e[t]!="string"}function lt(t,e){const n=W(t,e)&&e[t];return!(typeof n=="string"&&n.length>0)}function it(t,e){const n=W(t,e)&&e[t];return!(n instanceof Array&&n.length>0)}function st(t){try{const e=JSON.parse(t);if(me("merge",e))throw new $(Fe);if(nt("merge",e))throw new $(Je);if(it("merge",e))throw new $(Ge);const{merge:n}=e,r=ot(n);return{...e,merge:r}}catch(e){throw Ee(e)}}function ot(t){return t.map(n=>{if(!tt(n))throw new $(et);if(me("find",n))throw new $(qe);if(me("replace",n))throw new $(Xe);if(rt("find",n))throw new $(Ze);if(lt("find",n))throw new $(We);return n}).map(({find:n,replace:r})=>({find:n,replace:Me(r)}))}function at(t){return typeof t=="object"&&t!==null&&"message"in t}function Ee(t){return t instanceof Error?t:at(t)?new $(t.message):new $(Ke)}function Me(t){return typeof t=="string"?t:JSON.stringify(t)}class Ne{constructor(e){B(this,"template");B(this,"_result");B(this,"_error");B(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const n=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(r=>r(e,n))}get error(){return this._error}set result(e){const n={...this._result};this._result=e,this.handlers.change.forEach(r=>r(e,n))}get result(){return this._result}on(e,n){this.handlers[e].push(n)}off(e,n){this.handlers={...this.handlers,[e]:this.handlers[e].filter(r=>r!==n)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const n=st(Me(e));this.template=n,this.result=n,this.error=null}catch(n){const r=Ee(n);this.error=r}}updateResultMergeFields(e){const{find:n,replace:r}=e,l={find:n,replace:r},s=this.result.merge.map(i=>(i==null?void 0:i.find)===e.find?l:i);return this.result={...this.result,merge:s},s}logger(e){console.error(e)}}const ut={merge:[{find:"NAME",replace:"world"}],timeline:{tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},output:{format:"mp4",resolution:"hd"}};function ct(t){let e,n;return{c(){e=ae("svg"),n=ae("path"),this.h()},l(r){e=ve(r,"svg",{class:!0,xmlns:!0,viewBox:!0});var l=y(e);n=ve(l,"path",{d:!0}),y(n).forEach(p),l.forEach(p),this.h()},h(){c(n,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),c(e,"class","fill-current w-4 h-4 mr-2"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20")},m(r,l){L(r,e,l),d(e,n)},p:T,i:T,o:T,d(r){r&&p(e)}}}function ft(t){return[]}class dt extends Z{constructor(e){super(),q(this,e,ft,ct,H,{})}}function ht(t){let e,n,r,l;return n=new dt({}),{c(){e=v("a"),le(n.$$.fragment),r=x(`
	Download`),this.h()},l(s){e=b(s,"A",{href:!0,download:!0,class:!0});var i=y(e);ie(n.$$.fragment,i),r=C(i,`
	Download`),i.forEach(p),this.h()},h(){c(e,"href",t[0]),c(e,"download","result.json"),c(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(s,i){L(s,e,i),J(n,e,null),d(e,r),l=!0},p(s,[i]){(!l||i&1)&&c(e,"href",s[0])},i(s){l||(k(n.$$.fragment,s),l=!0)},o(s){P(n.$$.fragment,s),l=!1},d(s){s&&p(e),G(n)}}}function mt(t,e,n){let{download:r=""}=e;return t.$$set=l=>{"download"in l&&n(0,r=l.download)},[r]}class _t extends Z{constructor(e){super(),q(this,e,mt,ht,H,{download:0})}}function pt(t){let e,n,r,l;return{c(){e=v("button"),n=x("Submit"),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var i=y(e);n=C(i,"Submit"),i.forEach(p),this.h()},h(){c(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(s,i){L(s,e,i),d(e,n),r||(l=ee(e,"click",function(){_e(t[0])&&t[0].apply(this,arguments)}),r=!0)},p(s,[i]){t=s},i:T,o:T,d(s){s&&p(e),r=!1,l()}}}function gt(t,e,n){let{submit:r}=e;return t.$$set=l=>{"submit"in l&&n(0,r=l.submit)},[r]}class vt extends Z{constructor(e){super(),q(this,e,gt,pt,H,{submit:0})}}function yt(t){let e,n,r,l,s;return n=new _t({props:{download:t[0]}}),l=new vt({props:{submit:t[1]}}),{c(){e=v("div"),le(n.$$.fragment),r=A(),le(l.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var a=y(e);ie(n.$$.fragment,a),r=S(a),ie(l.$$.fragment,a),a.forEach(p),this.h()},h(){c(e,"class","flex justify-between pt-4")},m(i,a){L(i,e,a),J(n,e,null),d(e,r),J(l,e,null),s=!0},p(i,[a]){const o={};a&1&&(o.download=i[0]),n.$set(o);const u={};a&2&&(u.submit=i[1]),l.$set(u)},i(i){s||(k(n.$$.fragment,i),k(l.$$.fragment,i),s=!0)},o(i){P(n.$$.fragment,i),P(l.$$.fragment,i),s=!1},d(i){i&&p(e),G(n),G(l)}}}function bt(t,e,n){let{download:r=""}=e,{submit:l}=e;return t.$$set=s=>{"download"in s&&n(0,r=s.download),"submit"in s&&n(1,l=s.submit)},[r,l]}class wt extends Z{constructor(e){super(),q(this,e,bt,yt,H,{download:0,submit:1})}}const Ct="";function Ie(t,e,n){const r=t.slice();return r[11]=e[n].find,r[12]=e[n].replace,r}function Te(t){let e,n,r=t[2].message+"",l;return{c(){e=v("p"),n=v("span"),l=x(r),this.h()},l(s){e=b(s,"P",{"data-cy":!0,class:!0});var i=y(e);n=b(i,"SPAN",{class:!0});var a=y(n);l=C(a,r),a.forEach(p),i.forEach(p),this.h()},h(){c(n,"class","monospace text-orange-900 svelte-r93edu"),c(e,"data-cy","template-input-error"),c(e,"class","bg-rose-200 rounded py-2 px-4 svelte-r93edu")},m(s,i){L(s,e,i),d(e,n),d(n,l)},p(s,i){i&4&&r!==(r=s[2].message+"")&&ue(l,r)},d(s){s&&p(e)}}}function De(t){let e,n,r,l,s,i=t[1].merge,a=[];for(let o=0;o<i.length;o+=1)a[o]=Ae(Ie(t,i,o));return{c(){e=v("div"),n=v("h1"),r=x("Modify Merge Values"),l=A(),s=v("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=b(o,"DIV",{"data-cy":!0,class:!0});var u=y(e);n=b(u,"H1",{class:!0});var f=y(n);r=C(f,"Modify Merge Values"),f.forEach(p),l=S(u),s=b(u,"DIV",{class:!0});var m=y(s);for(let M=0;M<a.length;M+=1)a[M].l(m);m.forEach(p),u.forEach(p),this.h()},h(){c(n,"class","text-teal-400 px-1 svelte-r93edu"),c(s,"class","border p-4 mb-6 svelte-r93edu"),c(e,"data-cy","merge-fields-input-section"),c(e,"class","svelte-r93edu")},m(o,u){L(o,e,u),d(e,n),d(n,r),d(e,l),d(e,s);for(let f=0;f<a.length;f+=1)a[f].m(s,null)},p(o,u){if(u&34){i=o[1].merge;let f;for(f=0;f<i.length;f+=1){const m=Ie(o,i,f);a[f]?a[f].p(m,u):(a[f]=Ae(m),a[f].c(),a[f].m(s,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=i.length}},d(o){o&&p(e),ze(a,o)}}}function Ae(t){let e,n,r="{{ "+t[11]+" }} ",l,s,i,a,o,u,f,m,M;function N(..._){return t[10](t[11],..._)}return{c(){e=v("div"),n=v("label"),l=x(r),i=A(),a=v("input"),f=A(),this.h()},l(_){e=b(_,"DIV",{"data-cy":!0,class:!0});var I=y(e);n=b(I,"LABEL",{for:!0,class:!0});var w=y(n);l=C(w,r),w.forEach(p),i=S(I),a=b(I,"INPUT",{class:!0,id:!0,type:!0}),f=S(I),I.forEach(p),this.h()},h(){c(n,"for",s=t[11]),c(n,"class","block mb-2 monospace svelte-r93edu"),c(a,"class","border w-full mb-3 pl-2 py-1 text-stone-500 svelte-r93edu"),c(a,"id",o=t[11]),c(a,"type","text"),a.value=u=t[12],c(e,"data-cy","label-input"),c(e,"class","svelte-r93edu")},m(_,I){L(_,e,I),d(e,n),d(n,l),d(e,i),d(e,a),d(e,f),m||(M=ee(a,"input",N),m=!0)},p(_,I){t=_,I&2&&r!==(r="{{ "+t[11]+" }} ")&&ue(l,r),I&2&&s!==(s=t[11])&&c(n,"for",s),I&2&&o!==(o=t[11])&&c(a,"id",o),I&2&&u!==(u=t[12])&&a.value!==u&&(a.value=u)},d(_){_&&p(e),m=!1,M()}}}function Se(t){let e,n,r,l,s,i,a,o,u,f=se(t[0])+"",m,M,N,_,I,w;return N=new wt({props:{submit:t[7],download:t[3]}}),{c(){e=v("div"),n=v("h1"),r=x("Result"),l=A(),s=v("abbr"),i=v("img"),o=A(),u=v("p"),m=x(f),M=A(),le(N.$$.fragment),this.h()},l(g){e=b(g,"DIV",{"data-cy":!0,class:!0});var h=y(e);n=b(h,"H1",{class:!0});var z=y(n);r=C(z,"Result"),z.forEach(p),l=S(h),s=b(h,"ABBR",{title:!0,class:!0});var E=y(s);i=b(E,"IMG",{src:!0,alt:!0,class:!0}),E.forEach(p),o=S(h),u=b(h,"P",{"data-cy":!0,class:!0});var D=y(u);m=C(D,f),D.forEach(p),M=S(h),ie(N.$$.fragment,h),h.forEach(p),this.h()},h(){c(n,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),xe(i.src,a=Qe)||c(i,"src",a),c(i,"alt","copy-button"),c(i,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),c(s,"title","Copy to clipboard"),c(s,"class","svelte-r93edu"),c(u,"data-cy","result"),c(u,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),c(e,"data-cy","result-section"),c(e,"class","svelte-r93edu")},m(g,h){L(g,e,h),d(e,n),d(n,r),d(e,l),d(e,s),d(s,i),d(e,o),d(e,u),d(u,m),d(e,M),J(N,e,null),_=!0,I||(w=ee(i,"click",t[6]),I=!0)},p(g,h){(!_||h&1)&&f!==(f=se(g[0])+"")&&ue(m,f);const z={};h&8&&(z.download=g[3]),N.$set(z)},i(g){_||(k(N.$$.fragment,g),_=!0)},o(g){P(N.$$.fragment,g),_=!1},d(g){g&&p(e),G(N),I=!1,w()}}}function Et(t){var z;let e,n,r,l,s,i,a,o,u,f,m,M,N,_,I,w=t[2]&&Te(t),g=((z=t[1].merge)==null?void 0:z.length)&&!t[2]&&De(t),h=!t[2]&&Se(t);return{c(){e=v("div"),n=v("section"),r=v("form"),l=v("div"),s=v("label"),i=x("Paste template"),a=A(),o=v("textarea"),f=A(),w&&w.c(),m=A(),g&&g.c(),M=A(),h&&h.c(),this.h()},l(E){e=b(E,"DIV",{class:!0});var D=y(e);n=b(D,"SECTION",{"data-cy":!0,class:!0});var R=y(n);r=b(R,"FORM",{class:!0});var U=y(r);l=b(U,"DIV",{"data-cy":!0,class:!0});var oe=y(l);s=b(oe,"LABEL",{for:!0,class:!0});var je=y(s);i=C(je,"Paste template"),je.forEach(p),a=S(oe),o=b(oe,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),y(o).forEach(p),oe.forEach(p),f=S(U),w&&w.l(U),m=S(U),g&&g.l(U),U.forEach(p),M=S(R),h&&h.l(R),R.forEach(p),D.forEach(p),this.h()},h(){c(s,"for","json-input"),c(s,"class","text-teal-400 px-1 svelte-r93edu"),c(o,"data-cy","template-input"),c(o,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),c(o,"id","json-input"),o.value=u=se(t[1]),c(l,"data-cy","template-input-section"),c(l,"class","mb-6 svelte-r93edu"),c(r,"class","svelte-r93edu"),c(n,"data-cy","form-container"),c(n,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),c(e,"class","shotstack-mergefield-form svelte-r93edu")},m(E,D){L(E,e,D),d(e,n),d(n,r),d(r,l),d(l,s),d(s,i),d(l,a),d(l,o),d(r,f),w&&w.m(r,null),d(r,m),g&&g.m(r,null),d(n,M),h&&h.m(n,null),N=!0,_||(I=ee(o,"input",t[9]),_=!0)},p(E,[D]){var R;(!N||D&2&&u!==(u=se(E[1])))&&(o.value=u),E[2]?w?w.p(E,D):(w=Te(E),w.c(),w.m(r,m)):w&&(w.d(1),w=null),((R=E[1].merge)==null?void 0:R.length)&&!E[2]?g?g.p(E,D):(g=De(E),g.c(),g.m(r,null)):g&&(g.d(1),g=null),E[2]?h&&(Be(),P(h,1,1,()=>{h=null}),Ve()):h?(h.p(E,D),D&4&&k(h,1)):(h=Se(E),h.c(),k(h,1),h.m(n,null))},i(E){N||(k(h),N=!0)},o(E){P(h),N=!1},d(E){E&&p(e),w&&w.d(),g&&g.d(),h&&h.d(),_=!1,I()}}}function se(t){return JSON.stringify(t,null,2)}function Mt(t){if(typeof window<"u"){const e=new Blob([JSON.stringify(t,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function Nt(t,e,n){let r,{editTemplateService:l=new Ne(ut)}=e,s=l.template,i=l.result,a=null;function o(_){l.setTemplateSource(_),n(1,s=l.template),n(0,i=l.result),n(2,a=l.error)}function u(_){l.updateResultMergeFields(_),n(0,i=l.result)}function f(){navigator.clipboard.writeText(JSON.stringify(i)),alert("JSON copied to clipboard!")}function m(){l.submit(),window.alert("Form successfully submitted!")}const M=_=>o(_.currentTarget.value),N=(_,I)=>u({find:_,replace:I.currentTarget.value});return t.$$set=_=>{"editTemplateService"in _&&n(8,l=_.editTemplateService)},t.$$.update=()=>{t.$$.dirty&1&&n(3,r=Mt(i)||"")},[i,s,a,r,o,u,f,m,l,M,N]}class It extends Z{constructor(e){super(),q(this,e,Nt,Et,H,{editTemplateService:8})}}class Tt{constructor(e,n=document.querySelector("#shotstack-form-field")){B(this,"templateService");this.containerElement=n,this.templateService=new Ne(e),this.initialize()}on(e,n){this.templateService.on(e,n)}off(e,n){this.templateService.off(e,n)}submit(){this.templateService.submit()}initialize(){!this.containerElement||this.containerElement&&this.render(this.containerElement)}render(e){new It({target:e,props:{editTemplateService:this.templateService}})}display(){!this.containerElement||(this.containerElement.style.display="block")}hide(){!this.containerElement||(this.containerElement.style.display="none")}attach(e){this.remove(),this.containerElement=e,this.render(this.containerElement)}remove(){!this.containerElement||this.containerElement.replaceChildren()}get container(){if(!!this.containerElement)return this.containerElement}merge(){return this.templateService.result}load(e){this.templateService.setTemplateSource(e)}}return Tt}();
