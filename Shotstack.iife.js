var Shotstack=function(){"use strict";var ln=Object.defineProperty;var sn=(T,P,q)=>P in T?ln(T,P,{enumerable:!0,configurable:!0,writable:!0,value:q}):T[P]=q;var te=(T,P,q)=>(sn(T,typeof P!="symbol"?P+"":P,q),q);function T(){}function P(t){return t()}function q(){return Object.create(null)}function X(t){t.forEach(P)}function se(t){return typeof t=="function"}function F(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let oe;function He(t,e){return oe||(oe=document.createElement("a")),oe.href=e,t===oe.href}function Qe(t){return Object.keys(t).length===0}function Je(t,...e){if(t==null)return T;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Te(t,e,n){t.$$.on_destroy.push(Je(e,n))}let ue=!1;function Ge(){ue=!0}function qe(){ue=!1}function Ze(t,e,n,r){for(;t<e;){const i=t+(e-t>>1);n(i)<=r?t=i+1:e=i}return t}function We(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const a=[];for(let u=0;u<e.length;u++){const m=e[u];m.claim_order!==void 0&&a.push(m)}e=a}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let i=0;for(let a=0;a<e.length;a++){const u=e[a].claim_order,m=(i>0&&e[n[i]].claim_order<=u?i+1:Ze(1,i,I=>e[n[I]].claim_order,u))-1;r[a]=n[m]+1;const c=m+1;n[c]=a,i=Math.max(c,i)}const s=[],l=[];let o=e.length-1;for(let a=n[i]+1;a!=0;a=r[a-1]){for(s.push(e[a-1]);o>=a;o--)l.push(e[o]);o--}for(;o>=0;o--)l.push(e[o]);s.reverse(),l.sort((a,u)=>a.claim_order-u.claim_order);for(let a=0,u=0;a<l.length;a++){for(;u<s.length&&l[a].claim_order>=s[u].claim_order;)u++;const m=u<s.length?s[u]:null;t.insertBefore(l[a],m)}}function p(t,e){if(ue){for(We(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function x(t,e,n){ue&&!n?p(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function Xe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function ne(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function C(){return k(" ")}function Q(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function pe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t){return Array.from(t.childNodes)}function Ke(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function De(t,e,n,r,i=!1){Ke(t);const s=(()=>{for(let l=t.claim_info.last_index;l<t.length;l++){const o=t[l];if(e(o)){const a=n(o);return a===void 0?t.splice(l,1):t[l]=a,i||(t.claim_info.last_index=l),o}}for(let l=t.claim_info.last_index-1;l>=0;l--){const o=t[l];if(e(o)){const a=n(o);return a===void 0?t.splice(l,1):t[l]=a,i?a===void 0&&t.claim_info.last_index--:t.claim_info.last_index=l,o}}return r()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function $e(t,e,n,r){return De(t,i=>i.nodeName===e,i=>{const s=[];for(let l=0;l<i.attributes.length;l++){const o=i.attributes[l];n[o.name]||s.push(o.name)}s.forEach(l=>i.removeAttribute(l))},()=>r(e))}function M(t,e,n){return $e(t,e,n,E)}function ae(t,e,n){return $e(t,e,n,ne)}function z(t,e){return De(t,n=>n.nodeType===3,n=>{const r=""+e;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>k(e),!0)}function j(t){return z(t," ")}function _e(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Se(t,e){t.value=e==null?"":e}function Ae(t,e,n){t.classList[n?"add":"remove"](e)}let ve;function re(t){ve=t}const ie=[],ce=[],fe=[],be=[],et=Promise.resolve();let ye=!1;function tt(){ye||(ye=!0,et.then(je))}function we(t){fe.push(t)}function Ce(t){be.push(t)}const Ee=new Set;let de=0;function je(){const t=ve;do{for(;de<ie.length;){const e=ie[de];de++,re(e),nt(e.$$)}for(re(null),ie.length=0,de=0;ce.length;)ce.pop()();for(let e=0;e<fe.length;e+=1){const n=fe[e];Ee.has(n)||(Ee.add(n),n())}fe.length=0}while(ie.length);for(;be.length;)be.pop()();ye=!1,Ee.clear(),re(t)}function nt(t){if(t.fragment!==null){t.update(),X(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(we)}}const he=new Set;let Z;function Me(){Z={r:0,c:[],p:Z}}function Ie(){Z.r||X(Z.c),Z=Z.p}function S(t,e){t&&t.i&&(he.delete(t),t.i(e))}function A(t,e,n,r){if(t&&t.o){if(he.has(t))return;he.add(t),Z.c.push(()=>{he.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function xe(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function R(t){t&&t.c()}function Y(t,e){t&&t.l(e)}function L(t,e,n,r){const{fragment:i,on_mount:s,on_destroy:l,after_update:o}=t.$$;i&&i.m(e,n),r||we(()=>{const a=s.map(P).filter(se);l?l.push(...a):X(a),t.$$.on_mount=[]}),o.forEach(we)}function O(t,e){const n=t.$$;n.fragment!==null&&(X(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(t,e){t.$$.dirty[0]===-1&&(ie.push(t),tt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(t,e,n,r,i,s,l,o=[-1]){const a=ve;re(t);const u=t.$$={fragment:null,ctx:null,props:s,update:T,not_equal:i,bound:q(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:q(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let m=!1;if(u.ctx=n?n(t,e.props||{},(c,I,...f)=>{const d=f.length?f[0]:I;return u.ctx&&i(u.ctx[c],u.ctx[c]=d)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](d),m&&rt(t,c)),I}):[],u.update(),m=!0,X(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){Ge();const c=w(e.target);u.fragment&&u.fragment.l(c),c.forEach(_)}else u.fragment&&u.fragment.c();e.intro&&S(t.$$.fragment),L(t,e.target,e.anchor,e.customElement),qe(),je()}re(a)}class U{$destroy(){O(this,1),this.$destroy=T}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Qe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const on="",un="",it="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MS4yIDUxLjIiIHdpZHRoPSI1MS4yIiBoZWlnaHQ9IjUxLjIiID4KICAgIDxzdmcgd2lkdGg9IjUxLjIiIGhlaWdodD0iNTEuMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgIGQ9Ik01MDIuNiA3MC42M2wtNjEuMjUtNjEuMjVDNDM1LjQgMy4zNzEgNDI3LjIgMCA0MTguNyAwSDI1NS4xYy0zNS4zNSAwLTY0IDI4LjY2LTY0IDY0bC4wMTk1IDI1NkMxOTIgMzU1LjQgMjIwLjcgMzg0IDI1NiAzODRoMTkyYzM1LjIgMCA2NC0yOC44IDY0LTY0VjkzLjI1QzUxMiA4NC43NyA1MDguNiA3Ni42MyA1MDIuNiA3MC42M3pNNDY0IDMyMGMwIDguODM2LTcuMTY0IDE2LTE2IDE2SDI1NS4xYy04LjgzOCAwLTE2LTcuMTY0LTE2LTE2TDIzOS4xIDY0LjEzYzAtOC44MzYgNy4xNjQtMTYgMTYtMTZoMTI4TDM4NCA5NmMwIDE3LjY3IDE0LjMzIDMyIDMyIDMyaDQ3LjFWMzIwek0yNzIgNDQ4YzAgOC44MzYtNy4xNjQgMTYtMTYgMTZINjMuMWMtOC44MzggMC0xNi03LjE2NC0xNi0xNkw0Ny45OCAxOTIuMWMwLTguODM2IDcuMTY0LTE2IDE2LTE2SDE2MFYxMjhINjMuOTljLTM1LjM1IDAtNjQgMjguNjUtNjQgNjRsLjAwOTggMjU2Qy4wMDIgNDgzLjMgMjguNjYgNTEyIDY0IDUxMmgxOTJjMzUuMiAwIDY0LTI4LjggNjQtNjR2LTMyaC00Ny4xTDI3MiA0NDh6IiAvPgogICAgPC9zdmc+Cjwvc3ZnPg==",lt="A 'merge' property is required",st="Property 'merge' must be an array",ot="A 'find' property is required on every element inside 'merge'",ut="Every 'find' property inside 'merge' must be of type string",at="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",ct="A 'replace' property is required on every element inside 'merge'",ft="Unexpected error while parsing template JSON",dt="Every element inside the 'merge' should be an object";class J extends Error{constructor(e){super(e)}}function ht(t){return typeof t=="object"}function me(t,e){return t in e}function Ne(t,e){return!me(t,e)}function mt(t,e){return me(t,e)&&!(e[t]instanceof Array)}function gt(t,e){return me(t,e)&&typeof e[t]!="string"}function pt(t,e){const n=me(t,e)&&e[t];return!(typeof n=="string"&&n.length>0)}function _t(t){try{const e=JSON.parse(t);if(Ne("merge",e))throw new J(lt);if(mt("merge",e))throw new J(st);const{merge:n}=e,r=vt(n);return{...e,merge:r}}catch(e){throw Fe(e)}}function vt(t){return t.map(n=>{if(!ht(n))throw new J(dt);if(Ne("find",n))throw new J(ot);if(Ne("replace",n))throw new J(ct);if(gt("find",n))throw new J(ut);if(pt("find",n))throw new J(at);return n}).map(({find:n,replace:r})=>({find:n,replace:ke(r)}))}function bt(t){return typeof t=="object"&&t!==null&&"message"in t}function Fe(t){return t instanceof Error?t:bt(t)?new J(t.message):new J(ft)}function ke(t){return typeof t=="string"?t:JSON.stringify(t)}class Le{constructor(e){te(this,"template");te(this,"_result");te(this,"_error");te(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const n=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(r=>r(e,n))}get error(){return this._error}set result(e){const n={...this._result};this._result=e,this.handlers.change.forEach(r=>r(e,n))}get result(){return this._result}on(e,n){this.handlers[e].push(n)}off(e,n){this.handlers={...this.handlers,[e]:this.handlers[e].filter(r=>r!==n)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const n=_t(ke(e));this.template=n,this.result=n,this.error=null}catch(n){const r=Fe(n);this.error=r}}updateResultMergeFields(e){const{find:n,replace:r}=e,i={find:n,replace:r},s=this.result.merge.map(l=>(l==null?void 0:l.find)===e.find?i:l);return this.result={...this.result,merge:s},s}logger(e){console.error(e)}addMergeField(e){this.setTemplateSource({...this.result,merge:[...this.result.merge,e]})}removeMergeField(e){this.setTemplateSource({...this.result,merge:this.result.merge.filter(n=>n!==e)})}getMergeFieldItem(e){if(Object.keys(e).length===0)return;const n=function(r){let i;for(i in e)if(r[i]!==e[i])return!1;return!0};return this.result.merge.find(n)}}const yt={merge:[{find:"NAME",replace:"world"}],timeline:{tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},output:{format:"mp4",resolution:"hd"}};function wt(t){let e,n;return{c(){e=ne("svg"),n=ne("path"),this.h()},l(r){e=ae(r,"svg",{class:!0,xmlns:!0,viewBox:!0});var i=w(e);n=ae(i,"path",{d:!0}),w(n).forEach(_),i.forEach(_),this.h()},h(){h(n,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),h(e,"class","fill-current w-4 h-4 mr-2"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"viewBox","0 0 20 20")},m(r,i){x(r,e,i),p(e,n)},p:T,i:T,o:T,d(r){r&&_(e)}}}function Et(t){return[]}class Mt extends U{constructor(e){super(),B(this,e,Et,wt,F,{})}}function It(t){let e,n,r,i;return n=new Mt({}),{c(){e=E("a"),R(n.$$.fragment),r=k(`
	Download`),this.h()},l(s){e=M(s,"A",{href:!0,download:!0,class:!0});var l=w(e);Y(n.$$.fragment,l),r=z(l,`
	Download`),l.forEach(_),this.h()},h(){h(e,"href",t[0]),h(e,"download","result.json"),h(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(s,l){x(s,e,l),L(n,e,null),p(e,r),i=!0},p(s,[l]){(!i||l&1)&&h(e,"href",s[0])},i(s){i||(S(n.$$.fragment,s),i=!0)},o(s){A(n.$$.fragment,s),i=!1},d(s){s&&_(e),O(n)}}}function Nt(t,e,n){let{download:r=""}=e;return t.$$set=i=>{"download"in i&&n(0,r=i.download)},[r]}class Tt extends U{constructor(e){super(),B(this,e,Nt,It,F,{download:0})}}function Dt(t){let e,n,r,i;return{c(){e=E("button"),n=k("Submit"),this.h()},l(s){e=M(s,"BUTTON",{class:!0});var l=w(e);n=z(l,"Submit"),l.forEach(_),this.h()},h(){h(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(s,l){x(s,e,l),p(e,n),r||(i=Q(e,"click",function(){se(t[0])&&t[0].apply(this,arguments)}),r=!0)},p(s,[l]){t=s},i:T,o:T,d(s){s&&_(e),r=!1,i()}}}function $t(t,e,n){let{submit:r}=e;return t.$$set=i=>{"submit"in i&&n(0,r=i.submit)},[r]}class St extends U{constructor(e){super(),B(this,e,$t,Dt,F,{submit:0})}}function At(t){let e,n,r,i,s;return n=new Tt({props:{download:t[0]}}),i=new St({props:{submit:t[1]}}),{c(){e=E("div"),R(n.$$.fragment),r=C(),R(i.$$.fragment),this.h()},l(l){e=M(l,"DIV",{class:!0});var o=w(e);Y(n.$$.fragment,o),r=j(o),Y(i.$$.fragment,o),o.forEach(_),this.h()},h(){h(e,"class","flex justify-between pt-4")},m(l,o){x(l,e,o),L(n,e,null),p(e,r),L(i,e,null),s=!0},p(l,[o]){const a={};o&1&&(a.download=l[0]),n.$set(a);const u={};o&2&&(u.submit=l[1]),i.$set(u)},i(l){s||(S(n.$$.fragment,l),S(i.$$.fragment,l),s=!0)},o(l){A(n.$$.fragment,l),A(i.$$.fragment,l),s=!1},d(l){l&&_(e),O(n),O(i)}}}function Ct(t,e,n){let{download:r=""}=e,{submit:i}=e;return t.$$set=s=>{"download"in s&&n(0,r=s.download),"submit"in s&&n(1,i=s.submit)},[r,i]}class jt extends U{constructor(e){super(),B(this,e,Ct,At,F,{download:0,submit:1})}}const K=[];function Oe(t,e=T){let n;const r=new Set;function i(o){if(F(t,o)&&(t=o,n)){const a=!K.length;for(const u of r)u[1](),K.push(u,t);if(a){for(let u=0;u<K.length;u+=2)K[u][0](K[u+1]);K.length=0}}}function s(o){i(o(t))}function l(o,a=T){const u=[o,a];return r.add(u),r.size===1&&(n=e(i)||T),o(t),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:l}}function xt(t){let e,n,r;return{c(){e=E("input"),this.h()},l(i){e=M(i,"INPUT",{class:!0,type:!0}),this.h()},h(){h(e,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),h(e,"type","text")},m(i,s){x(i,e,s),Se(e,t[0]),n||(r=[Q(e,"input",t[2]),Q(e,"focus",t[3],{once:!0})],n=!0)},p(i,[s]){s&1&&e.value!==i[0]&&Se(e,i[0])},i:T,o:T,d(i){i&&_(e),n=!1,X(r)}}}function Ft(t,e,n){let{value:r}=e,{onFocus:i}=e;function s(){r=this.value,n(0,r)}const l=o=>i(o.currentTarget);return t.$$set=o=>{"value"in o&&n(0,r=o.value),"onFocus"in o&&n(1,i=o.onFocus)},[r,i,s,l]}class ze extends U{constructor(e){super(),B(this,e,Ft,xt,F,{value:0,onFocus:1})}}function kt(t){let e,n,r,i,s,l,o,a,u,m,c,I,f,d,N,b,v,g;function y($){t[7]($)}let D={onFocus:t[6]};t[1]!==void 0&&(D.value=t[1]),o=new ze({props:D}),ce.push(()=>xe(o,"value",y));function V($){t[9]($)}let G={onFocus:t[8]};return t[2]!==void 0&&(G.value=t[2]),m=new ze({props:G}),ce.push(()=>xe(m,"value",V)),{c(){e=E("div"),n=E("div"),r=E("h1"),i=k("Add a new merge field"),s=C(),l=E("div"),R(o.$$.fragment),u=C(),R(m.$$.fragment),I=C(),f=E("div"),d=E("button"),N=k("Add"),this.h()},l($){e=M($,"DIV",{});var H=w(e);n=M(H,"DIV",{});var W=w(n);r=M(W,"H1",{class:!0});var le=w(r);i=z(le,"Add a new merge field"),le.forEach(_),s=j(W),l=M(W,"DIV",{class:!0});var ee=w(l);Y(o.$$.fragment,ee),u=j(ee),Y(m.$$.fragment,ee),I=j(ee),f=M(ee,"DIV",{class:!0});var Ve=w(f);d=M(Ve,"BUTTON",{class:!0});var Pe=w(d);N=z(Pe,"Add"),Pe.forEach(_),Ve.forEach(_),ee.forEach(_),W.forEach(_),H.forEach(_),this.h()},h(){h(r,"class","text-teal-400 px-1"),h(d,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end"),h(f,"class","flex flex-row-reverse"),h(l,"class","border p-4 mb-6")},m($,H){x($,e,H),p(e,n),p(n,r),p(r,i),p(n,s),p(n,l),L(o,l,null),p(l,u),L(m,l,null),p(l,I),p(l,f),p(f,d),p(d,N),b=!0,v||(g=Q(d,"click",pe(t[10])),v=!0)},p($,[H]){const W={};!a&&H&2&&(a=!0,W.value=$[1],Ce(()=>a=!1)),o.$set(W);const le={};!c&&H&4&&(c=!0,le.value=$[2],Ce(()=>c=!1)),m.$set(le)},i($){b||(S(o.$$.fragment,$),S(m.$$.fragment,$),b=!0)},o($){A(o.$$.fragment,$),A(m.$$.fragment,$),b=!1},d($){$&&_(e),O(o),O(m),v=!1,g()}}}function Lt(t,e,n){let r,i,s=Oe("find");Te(t,s,d=>n(1,r=d));let l=Oe("replace");Te(t,l,d=>n(2,i=d));let o=d=>d.set(""),{addField:a}=e;const u=()=>o(s);function m(d){r=d,s.set(r)}const c=()=>o(l);function I(d){i=d,l.set(i)}const f=()=>a({find:r,replace:i});return t.$$set=d=>{"addField"in d&&n(0,a=d.addField)},[a,r,i,s,l,o,u,m,c,I,f]}class Ot extends U{constructor(e){super(),B(this,e,Lt,kt,F,{addField:0})}}function zt(t){let e,n;return{c(){e=ne("svg"),n=ne("path"),this.h()},l(r){e=ae(r,"svg",{xmlns:!0,viewBox:!0});var i=w(e);n=ae(i,"path",{fill:!0,d:!0}),w(n).forEach(_),i.forEach(_),this.h()},h(){h(n,"fill","white"),h(n,"d","M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"viewBox","0 0 16 16")},m(r,i){x(r,e,i),p(e,n)},p:T,i:T,o:T,d(r){r&&_(e)}}}function Rt(t){return[]}class Yt extends U{constructor(e){super(),B(this,e,Rt,zt,F,{})}}function Bt(t){let e,n,r,i,s;return n=new Yt({}),{c(){e=E("button"),R(n.$$.fragment),this.h()},l(l){e=M(l,"BUTTON",{class:!0});var o=w(e);Y(n.$$.fragment,o),o.forEach(_),this.h()},h(){h(e,"class","bg-blue-400 hover:bg-blue-700 text-white font-bold absolute top-0 right-0 rounded-full w-4 h-4 p-1")},m(l,o){x(l,e,o),L(n,e,null),r=!0,i||(s=Q(e,"click",pe(function(){se(t[0])&&t[0].apply(this,arguments)})),i=!0)},p(l,[o]){t=l},i(l){r||(S(n.$$.fragment,l),r=!0)},o(l){A(n.$$.fragment,l),r=!1},d(l){l&&_(e),O(n),i=!1,s()}}}function Ut(t,e,n){let{onClick:r}=e;return t.$$set=i=>{"onClick"in i&&n(0,r=i.onClick)},[r]}class Vt extends U{constructor(e){super(),B(this,e,Ut,Bt,F,{onClick:0})}}function Re(t,e,n){const r=t.slice();return r[6]=e[n],r}function Ye(t){let e,n,r=t[6].find+"",i,s,l,o,a,u,m,c,I,f,d,N;function b(...g){return t[4](t[6],...g)}function v(){return t[5](t[6])}return c=new Vt({props:{onClick:v}}),{c(){e=E("div"),n=E("label"),i=k(r),l=C(),o=E("input"),m=C(),R(c.$$.fragment),I=C(),this.h()},l(g){e=M(g,"DIV",{"data-cy":!0,class:!0});var y=w(e);n=M(y,"LABEL",{for:!0,class:!0});var D=w(n);i=z(D,r),D.forEach(_),l=j(y),o=M(y,"INPUT",{class:!0,id:!0,type:!0}),m=j(y),Y(c.$$.fragment,y),I=j(y),y.forEach(_),this.h()},h(){h(n,"for",s=t[6].find),h(n,"class","block mb-2 monospace"),h(o,"class","border w-full mb-3 pl-2 py-1 text-stone-500"),h(o,"id",a=t[6].find),h(o,"type","text"),o.value=u=t[6].replace,h(e,"data-cy","label-input"),h(e,"class","relative")},m(g,y){x(g,e,y),p(e,n),p(n,i),p(e,l),p(e,o),p(e,m),L(c,e,null),p(e,I),f=!0,d||(N=Q(o,"input",b),d=!0)},p(g,y){t=g,(!f||y&1)&&r!==(r=t[6].find+"")&&_e(i,r),(!f||y&1&&s!==(s=t[6].find))&&h(n,"for",s),(!f||y&1&&a!==(a=t[6].find))&&h(o,"id",a),(!f||y&1&&u!==(u=t[6].replace)&&o.value!==u)&&(o.value=u);const D={};y&9&&(D.onClick=v),c.$set(D)},i(g){f||(S(c.$$.fragment,g),f=!0)},o(g){A(c.$$.fragment,g),f=!1},d(g){g&&_(e),O(c),d=!1,N()}}}function Pt(t){let e,n,r,i,s,l,o,a,u,m=t[0],c=[];for(let f=0;f<m.length;f+=1)c[f]=Ye(Re(t,m,f));const I=f=>A(c[f],1,1,()=>{c[f]=null});return a=new Ot({props:{addField:t[2]}}),{c(){e=E("div"),n=E("div"),r=E("h1"),i=k("Modify Merge Values"),s=C(),l=E("div");for(let f=0;f<c.length;f+=1)c[f].c();o=C(),R(a.$$.fragment),this.h()},l(f){e=M(f,"DIV",{});var d=w(e);n=M(d,"DIV",{"data-cy":!0});var N=w(n);r=M(N,"H1",{class:!0});var b=w(r);i=z(b,"Modify Merge Values"),b.forEach(_),s=j(N),l=M(N,"DIV",{class:!0});var v=w(l);for(let g=0;g<c.length;g+=1)c[g].l(v);v.forEach(_),N.forEach(_),o=j(d),Y(a.$$.fragment,d),d.forEach(_),this.h()},h(){h(r,"class","text-teal-400 px-1"),h(l,"class","border p-4 mb-6"),h(n,"data-cy","merge-fields-input-section")},m(f,d){x(f,e,d),p(e,n),p(n,r),p(r,i),p(n,s),p(n,l);for(let N=0;N<c.length;N+=1)c[N].m(l,null);p(e,o),L(a,e,null),u=!0},p(f,[d]){if(d&11){m=f[0];let b;for(b=0;b<m.length;b+=1){const v=Re(f,m,b);c[b]?(c[b].p(v,d),S(c[b],1)):(c[b]=Ye(v),c[b].c(),S(c[b],1),c[b].m(l,null))}for(Me(),b=m.length;b<c.length;b+=1)I(b);Ie()}const N={};d&4&&(N.addField=f[2]),a.$set(N)},i(f){if(!u){for(let d=0;d<m.length;d+=1)S(c[d]);S(a.$$.fragment,f),u=!0}},o(f){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)A(c[d]);A(a.$$.fragment,f),u=!1},d(f){f&&_(e),Xe(c,f),O(a)}}}function Ht(t,e,n){let{fields:r=[]}=e,{handleFormInput:i}=e,{addField:s}=e,{removeField:l}=e;const o=(u,m)=>i({find:u.find,replace:m.currentTarget.value}),a=u=>l(u);return t.$$set=u=>{"fields"in u&&n(0,r=u.fields),"handleFormInput"in u&&n(1,i=u.handleFormInput),"addField"in u&&n(2,s=u.addField),"removeField"in u&&n(3,l=u.removeField)},[r,i,s,l,o,a]}class Qt extends U{constructor(e){super(),B(this,e,Ht,Pt,F,{fields:0,handleFormInput:1,addField:2,removeField:3})}}function Jt(t){let e,n,r,i;return{c(){e=E("button"),n=k("Reset"),this.h()},l(s){e=M(s,"BUTTON",{class:!0});var l=w(e);n=z(l,"Reset"),l.forEach(_),this.h()},h(){h(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded align-self-end")},m(s,l){x(s,e,l),p(e,n),r||(i=Q(e,"click",pe(function(){se(t[0])&&t[0].apply(this,arguments)})),r=!0)},p(s,[l]){t=s},i:T,o:T,d(s){s&&_(e),r=!1,i()}}}function Gt(t,e,n){let{onClick:r}=e;return t.$$set=i=>{"onClick"in i&&n(0,r=i.onClick)},[r]}class qt extends U{constructor(e){super(),B(this,e,Gt,Jt,F,{onClick:0})}}function Zt(t){let e,n,r,i,s,l,o,a;return o=new qt({props:{onClick:t[0]}}),{c(){e=E("div"),n=E("p"),r=E("span"),i=k(t[2]),s=C(),l=E("div"),R(o.$$.fragment),this.h()},l(u){e=M(u,"DIV",{});var m=w(e);n=M(m,"P",{"data-cy":!0,class:!0});var c=w(n);r=M(c,"SPAN",{class:!0});var I=w(r);i=z(I,t[2]),I.forEach(_),c.forEach(_),s=j(m),l=M(m,"DIV",{class:!0});var f=w(l);Y(o.$$.fragment,f),f.forEach(_),m.forEach(_),this.h()},h(){h(r,"class","monospace text-orange-900"),h(n,"data-cy","template-input-error"),h(n,"class","bg-rose-200 rounded py-2 my-4 px-4"),h(l,"class","flex flex-row-reverse "),Ae(e,"hidden",!t[1])},m(u,m){x(u,e,m),p(e,n),p(n,r),p(r,i),p(e,s),p(e,l),L(o,l,null),a=!0},p(u,[m]){(!a||m&4)&&_e(i,u[2]);const c={};m&1&&(c.onClick=u[0]),o.$set(c),(!a||m&2)&&Ae(e,"hidden",!u[1])},i(u){a||(S(o.$$.fragment,u),a=!0)},o(u){A(o.$$.fragment,u),a=!1},d(u){u&&_(e),O(o)}}}function Wt(t,e,n){let r,{onClick:i}=e,{error:s}=e;return t.$$set=l=>{"onClick"in l&&n(0,i=l.onClick),"error"in l&&n(1,s=l.error)},t.$$.update=()=>{t.$$.dirty&2&&n(2,r=s&&s.message||"")},[i,s,r]}class Xt extends U{constructor(e){super(),B(this,e,Wt,Zt,F,{onClick:0,error:1})}}const dn="";function Be(t){let e,n;return e=new Qt({props:{fields:t[1].merge,handleFormInput:t[5],addField:t[8],removeField:t[9]}}),{c(){R(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){L(e,r,i),n=!0},p(r,i){const s={};i&2&&(s.fields=r[1].merge),e.$set(s)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){O(e,r)}}}function Ue(t){let e,n,r,i,s,l,o,a,u,m=ge(t[0])+"",c,I,f,d,N,b;return f=new jt({props:{submit:t[7],download:t[3]}}),{c(){e=E("div"),n=E("h1"),r=k("Result"),i=C(),s=E("abbr"),l=E("img"),a=C(),u=E("p"),c=k(m),I=C(),R(f.$$.fragment),this.h()},l(v){e=M(v,"DIV",{"data-cy":!0,class:!0});var g=w(e);n=M(g,"H1",{class:!0});var y=w(n);r=z(y,"Result"),y.forEach(_),i=j(g),s=M(g,"ABBR",{title:!0,class:!0});var D=w(s);l=M(D,"IMG",{src:!0,alt:!0,class:!0}),D.forEach(_),a=j(g),u=M(g,"P",{"data-cy":!0,class:!0});var V=w(u);c=z(V,m),V.forEach(_),I=j(g),Y(f.$$.fragment,g),g.forEach(_),this.h()},h(){h(n,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),He(l.src,o=it)||h(l,"src",o),h(l,"alt","copy-button"),h(l,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),h(s,"title","Copy to clipboard"),h(s,"class","svelte-r93edu"),h(u,"data-cy","result"),h(u,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),h(e,"data-cy","result-section"),h(e,"class","svelte-r93edu")},m(v,g){x(v,e,g),p(e,n),p(n,r),p(e,i),p(e,s),p(s,l),p(e,a),p(e,u),p(u,c),p(e,I),L(f,e,null),d=!0,N||(b=Q(l,"click",t[6]),N=!0)},p(v,g){(!d||g&1)&&m!==(m=ge(v[0])+"")&&_e(c,m);const y={};g&8&&(y.download=v[3]),f.$set(y)},i(v){d||(S(f.$$.fragment,v),d=!0)},o(v){A(f.$$.fragment,v),d=!1},d(v){v&&_(e),O(f),N=!1,b()}}}function Kt(t){let e,n,r,i,s,l,o,a,u,m,c,I,f,d,N,b;c=new Xt({props:{error:t[2],onClick:t[10]}});let v=!t[2]&&Be(t),g=!t[2]&&Ue(t);return{c(){e=E("div"),n=E("section"),r=E("form"),i=E("div"),s=E("label"),l=k("Paste template"),o=C(),a=E("textarea"),m=C(),R(c.$$.fragment),I=C(),v&&v.c(),f=C(),g&&g.c(),this.h()},l(y){e=M(y,"DIV",{class:!0});var D=w(e);n=M(D,"SECTION",{"data-cy":!0,class:!0});var V=w(n);r=M(V,"FORM",{class:!0});var G=w(r);i=M(G,"DIV",{"data-cy":!0,class:!0});var $=w(i);s=M($,"LABEL",{for:!0,class:!0});var H=w(s);l=z(H,"Paste template"),H.forEach(_),o=j($),a=M($,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),w(a).forEach(_),$.forEach(_),m=j(G),Y(c.$$.fragment,G),I=j(G),v&&v.l(G),G.forEach(_),f=j(V),g&&g.l(V),V.forEach(_),D.forEach(_),this.h()},h(){h(s,"for","json-input"),h(s,"class","text-teal-400 px-1 svelte-r93edu"),h(a,"data-cy","template-input"),h(a,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),h(a,"id","json-input"),a.value=u=ge(t[1]),h(i,"data-cy","template-input-section"),h(i,"class","mb-6 svelte-r93edu"),h(r,"class","svelte-r93edu"),h(n,"data-cy","form-container"),h(n,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),h(e,"class","shotstack-mergefield-form svelte-r93edu")},m(y,D){x(y,e,D),p(e,n),p(n,r),p(r,i),p(i,s),p(s,l),p(i,o),p(i,a),p(r,m),L(c,r,null),p(r,I),v&&v.m(r,null),p(n,f),g&&g.m(n,null),d=!0,N||(b=Q(a,"input",t[12]),N=!0)},p(y,[D]){(!d||D&2&&u!==(u=ge(y[1])))&&(a.value=u);const V={};D&4&&(V.error=y[2]),c.$set(V),y[2]?v&&(Me(),A(v,1,1,()=>{v=null}),Ie()):v?(v.p(y,D),D&4&&S(v,1)):(v=Be(y),v.c(),S(v,1),v.m(r,null)),y[2]?g&&(Me(),A(g,1,1,()=>{g=null}),Ie()):g?(g.p(y,D),D&4&&S(g,1)):(g=Ue(y),g.c(),S(g,1),g.m(n,null))},i(y){d||(S(c.$$.fragment,y),S(v),S(g),d=!0)},o(y){A(c.$$.fragment,y),A(v),A(g),d=!1},d(y){y&&_(e),O(c),v&&v.d(),g&&g.d(),N=!1,b()}}}function ge(t){return JSON.stringify(t,null,2)}function en(t){if(typeof window<"u"){const e=new Blob([JSON.stringify(t,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function tn(t,e,n){let r,{editTemplateService:i=new Le(yt)}=e,s=i.template,l=i.result,o=null;function a(b){i.setTemplateSource(b),n(1,s=i.template),n(0,l=i.result),n(2,o=i.error)}function u(b){i.updateResultMergeFields(b),n(0,l=i.result)}function m(){navigator.clipboard.writeText(JSON.stringify(l)),alert("JSON copied to clipboard!")}function c(){i.submit(),window.alert("Form successfully submitted!")}function I(b){i.addMergeField(b),n(1,s=i.template),n(0,l=i.result),n(2,o=i.error)}function f(b){const v=i.getMergeFieldItem(b);i.removeMergeField(v),n(1,s=i.template),n(0,l=i.result),n(2,o=i.error)}function d(){i.setTemplateSource(i.result),n(1,s=i.template),n(0,l=i.result),n(2,o=i.error)}const N=b=>a(b.currentTarget.value);return t.$$set=b=>{"editTemplateService"in b&&n(11,i=b.editTemplateService)},t.$$.update=()=>{t.$$.dirty&1&&n(3,r=en(l)||"")},[l,s,o,r,a,u,m,c,I,f,d,i,N]}class nn extends U{constructor(e){super(),B(this,e,tn,Kt,F,{editTemplateService:11})}}class rn{constructor(e,n=document.querySelector("#shotstack-form-field")){te(this,"templateService");this.containerElement=n,this.templateService=new Le(e),this.initialize()}on(e,n){this.templateService.on(e,n)}off(e,n){this.templateService.off(e,n)}submit(){this.templateService.submit()}initialize(){!this.containerElement||this.containerElement&&this.render(this.containerElement)}render(e){new nn({target:e,props:{editTemplateService:this.templateService}})}display(){!this.containerElement||(this.containerElement.style.display="block")}hide(){!this.containerElement||(this.containerElement.style.display="none")}attach(e){this.remove(),this.containerElement=e,this.render(this.containerElement)}remove(){!this.containerElement||this.containerElement.replaceChildren()}get container(){if(!!this.containerElement)return this.containerElement}merge(){return this.templateService.result}load(e){this.templateService.setTemplateSource(e)}addField(e,n){this.templateService.addMergeField({find:e,replace:n})}removeField(e){this.templateService.removeMergeField(e)}getField(e){return this.templateService.getMergeFieldItem(e)}}return rn}();
