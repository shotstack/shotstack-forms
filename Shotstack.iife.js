var Shotstack=function(){"use strict";var Dt=Object.defineProperty;var St=(T,j,O)=>j in T?Dt(T,j,{enumerable:!0,configurable:!0,writable:!0,value:O}):T[j]=O;var U=(T,j,O)=>(St(T,typeof j!="symbol"?j+"":j,O),O);function T(){}function j(t){return t()}function O(){return Object.create(null)}function B(t){t.forEach(j)}function pe(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let X;function xe(t,e){return X||(X=document.createElement("a")),X.href=e,t===X.href}function $e(t){return Object.keys(t).length===0}let K=!1;function Ce(){K=!0}function Le(){K=!1}function Oe(t,e,n,r){for(;t<e;){const i=t+(e-t>>1);n(i)<=r?t=i+1:e=i}return t}function ke(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const o=[];for(let u=0;u<e.length;u++){const f=e[u];f.claim_order!==void 0&&o.push(f)}e=o}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let i=0;for(let o=0;o<e.length;o++){const u=e[o].claim_order,f=(i>0&&e[n[i]].claim_order<=u?i+1:Oe(1,i,E=>e[n[E]].claim_order,u))-1;r[o]=n[f]+1;const m=f+1;n[m]=o,i=Math.max(m,i)}const s=[],l=[];let a=e.length-1;for(let o=n[i]+1;o!=0;o=r[o-1]){for(s.push(e[o-1]);a>=o;a--)l.push(e[a]);a--}for(;a>=0;a--)l.push(e[a]);s.reverse(),l.sort((o,u)=>o.claim_order-u.claim_order);for(let o=0,u=0;o<l.length;o++){for(;u<s.length&&l[o].claim_order>=s[u].claim_order;)u++;const f=u<s.length?s[u]:null;t.insertBefore(l[o],f)}}function d(t,e){if(K){for(ke(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function C(t,e,n){K&&!n?d(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function ze(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function ae(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function S(){return x(" ")}function ee(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function c(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return Array.from(t.childNodes)}function Ye(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function _e(t,e,n,r,i=!1){Ye(t);const s=(()=>{for(let l=t.claim_info.last_index;l<t.length;l++){const a=t[l];if(e(a)){const o=n(a);return o===void 0?t.splice(l,1):t[l]=o,i||(t.claim_info.last_index=l),a}}for(let l=t.claim_info.last_index-1;l>=0;l--){const a=t[l];if(e(a)){const o=n(a);return o===void 0?t.splice(l,1):t[l]=o,i?o===void 0&&t.claim_info.last_index--:t.claim_info.last_index=l,a}}return r()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function ge(t,e,n,r){return _e(t,i=>i.nodeName===e,i=>{const s=[];for(let l=0;l<i.attributes.length;l++){const a=i.attributes[l];n[a.name]||s.push(a.name)}s.forEach(l=>i.removeAttribute(l))},()=>r(e))}function b(t,e,n){return ge(t,e,n,v)}function ve(t,e,n){return ge(t,e,n,ae)}function L(t,e){return _e(t,n=>n.nodeType===3,n=>{const r=""+e;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>x(e),!0)}function A(t){return L(t," ")}function ue(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let ce;function H(t){ce=t}const Q=[],ye=[],te=[],be=[],Re=Promise.resolve();let fe=!1;function Fe(){fe||(fe=!0,Re.then(Me))}function de(t){te.push(t)}const he=new Set;let ne=0;function Me(){const t=ce;do{for(;ne<Q.length;){const e=Q[ne];ne++,H(e),Pe(e.$$)}for(H(null),Q.length=0,ne=0;ye.length;)ye.pop()();for(let e=0;e<te.length;e+=1){const n=te[e];he.has(n)||(he.add(n),n())}te.length=0}while(Q.length);for(;be.length;)be.pop()();fe=!1,he.clear(),H(t)}function Pe(t){if(t.fragment!==null){t.update(),B(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}const re=new Set;let Y;function Ue(){Y={r:0,c:[],p:Y}}function Be(){Y.r||B(Y.c),Y=Y.p}function k(t,e){t&&t.i&&(re.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(re.has(t))return;re.add(t),Y.c.push(()=>{re.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ie(t){t&&t.c()}function le(t,e){t&&t.l(e)}function J(t,e,n,r){const{fragment:i,on_mount:s,on_destroy:l,after_update:a}=t.$$;i&&i.m(e,n),r||de(()=>{const o=s.map(j).filter(pe);l?l.push(...o):B(o),t.$$.on_mount=[]}),a.forEach(de)}function G(t,e){const n=t.$$;n.fragment!==null&&(B(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ve(t,e){t.$$.dirty[0]===-1&&(Q.push(t),Fe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,n,r,i,s,l,a=[-1]){const o=ce;H(t);const u=t.$$={fragment:null,ctx:null,props:s,update:T,not_equal:i,bound:O(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:O(),dirty:a,skip_bound:!1,root:e.target||o.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(m,E,...I)=>{const p=I.length?I[0]:E;return u.ctx&&i(u.ctx[m],u.ctx[m]=p)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](p),f&&Ve(t,m)),E}):[],u.update(),f=!0,B(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){Ce();const m=y(e.target);u.fragment&&u.fragment.l(m),m.forEach(_)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),J(t,e.target,e.anchor,e.customElement),Le(),Me()}H(o)}class Z{$destroy(){G(this,1),this.$destroy=T}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!$e(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const At="",jt="",He="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MS4yIDUxLjIiIHdpZHRoPSI1MS4yIiBoZWlnaHQ9IjUxLjIiID4KICAgIDxzdmcgd2lkdGg9IjUxLjIiIGhlaWdodD0iNTEuMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgIGQ9Ik01MDIuNiA3MC42M2wtNjEuMjUtNjEuMjVDNDM1LjQgMy4zNzEgNDI3LjIgMCA0MTguNyAwSDI1NS4xYy0zNS4zNSAwLTY0IDI4LjY2LTY0IDY0bC4wMTk1IDI1NkMxOTIgMzU1LjQgMjIwLjcgMzg0IDI1NiAzODRoMTkyYzM1LjIgMCA2NC0yOC44IDY0LTY0VjkzLjI1QzUxMiA4NC43NyA1MDguNiA3Ni42MyA1MDIuNiA3MC42M3pNNDY0IDMyMGMwIDguODM2LTcuMTY0IDE2LTE2IDE2SDI1NS4xYy04LjgzOCAwLTE2LTcuMTY0LTE2LTE2TDIzOS4xIDY0LjEzYzAtOC44MzYgNy4xNjQtMTYgMTYtMTZoMTI4TDM4NCA5NmMwIDE3LjY3IDE0LjMzIDMyIDMyIDMyaDQ3LjFWMzIwek0yNzIgNDQ4YzAgOC44MzYtNy4xNjQgMTYtMTYgMTZINjMuMWMtOC44MzggMC0xNi03LjE2NC0xNi0xNkw0Ny45OCAxOTIuMWMwLTguODM2IDcuMTY0LTE2IDE2LTE2SDE2MFYxMjhINjMuOTljLTM1LjM1IDAtNjQgMjguNjUtNjQgNjRsLjAwOTggMjU2Qy4wMDIgNDgzLjMgMjguNjYgNTEyIDY0IDUxMmgxOTJjMzUuMiAwIDY0LTI4LjggNjQtNjR2LTMyaC00Ny4xTDI3MiA0NDh6IiAvPgogICAgPC9zdmc+Cjwvc3ZnPg==",Qe="A 'merge' property is required",Je="Property 'merge' must be an array",Ge="Property 'merge' must contain at least one element",qe="A 'find' property is required on every element inside 'merge'",Ze="Every 'find' property inside 'merge' must be of type string",We="Every 'find' property inside 'merge' must be a string of length equal to or higher than one",Xe="A 'replace' property is required on every element inside 'merge'",Ke="Unexpected error while parsing template JSON",et="Every element inside the 'merge' should be an object";class $ extends Error{constructor(e){super(e)}}function tt(t){return typeof t=="object"}function W(t,e){return t in e}function me(t,e){return!W(t,e)}function nt(t,e){return W(t,e)&&!(e[t]instanceof Array)}function rt(t,e){return W(t,e)&&typeof e[t]!="string"}function it(t,e){const n=W(t,e)&&e[t];return!(typeof n=="string"&&n.length>0)}function lt(t,e){const n=W(t,e)&&e[t];return!(n instanceof Array&&n.length>0)}function st(t){try{const e=JSON.parse(t);if(me("merge",e))throw new $(Qe);if(nt("merge",e))throw new $(Je);if(lt("merge",e))throw new $(Ge);const{merge:n}=e,r=ot(n);return{...e,merge:r}}catch(e){throw we(e)}}function ot(t){return t.map(n=>{if(!tt(n))throw new $(et);if(me("find",n))throw new $(qe);if(me("replace",n))throw new $(Xe);if(rt("find",n))throw new $(Ze);if(it("find",n))throw new $(We);return n}).map(({find:n,replace:r})=>({find:n,replace:Ee(r)}))}function at(t){return typeof t=="object"&&t!==null&&"message"in t}function we(t){return t instanceof Error?t:at(t)?new $(t.message):new $(Ke)}function Ee(t){return typeof t=="string"?t:JSON.stringify(t)}class Ie{constructor(e){U(this,"template");U(this,"_result");U(this,"_error");U(this,"handlers");this._error=null,this.template={merge:[]},this._result={merge:[]},this.handlers={change:[],submit:[],error:[this.logger]},this.setTemplateSource(e)}set error(e){const n=this._error&&{...this._error}||null;this._error=e,e!==null&&this.handlers.error.forEach(r=>r(e,n))}get error(){return this._error}set result(e){const n={...this._result};this._result=e,this.handlers.change.forEach(r=>r(e,n))}get result(){return this._result}on(e,n){this.handlers[e].push(n)}off(e,n){this.handlers={...this.handlers,[e]:this.handlers[e].filter(r=>r!==n)}}submit(){if(this.error)throw this.error;this.handlers.submit.forEach(e=>e(this.result))}setTemplateSource(e){try{const n=st(Ee(e));this.template=n,this.result=n,this.error=null}catch(n){const r=we(n);this.error=r}}updateResultMergeFields(e){const{find:n,replace:r}=e,i={find:n,replace:r},s=this.result.merge.map(l=>(l==null?void 0:l.find)===e.find?i:l);return this.result={...this.result,merge:s},s}logger(e){console.error(e)}addMergeField(e){this.setTemplateSource({...this.result,merge:[...this.result.merge,e]})}removeMergeField(e){this.setTemplateSource({...this.result,merge:this.result.merge.filter(n=>n!==e)})}getMergeFieldItem(e){if(Object.keys(e).length===0)return;const n=function(r){let i;for(i in e)if(r[i]!==e[i])return!1;return!0};return this.result.merge.find(n)}}const ut={merge:[{find:"NAME",replace:"world"}],timeline:{tracks:[{clips:[{asset:{type:"title",text:"Hello {{ NAME }}",style:"future"},start:0,length:5}]}]},output:{format:"mp4",resolution:"hd"}};function ct(t){let e,n;return{c(){e=ae("svg"),n=ae("path"),this.h()},l(r){e=ve(r,"svg",{class:!0,xmlns:!0,viewBox:!0});var i=y(e);n=ve(i,"path",{d:!0}),y(n).forEach(_),i.forEach(_),this.h()},h(){c(n,"d","M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"),c(e,"class","fill-current w-4 h-4 mr-2"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20")},m(r,i){C(r,e,i),d(e,n)},p:T,i:T,o:T,d(r){r&&_(e)}}}function ft(t){return[]}class dt extends Z{constructor(e){super(),q(this,e,ft,ct,V,{})}}function ht(t){let e,n,r,i;return n=new dt({}),{c(){e=v("a"),ie(n.$$.fragment),r=x(`
	Download`),this.h()},l(s){e=b(s,"A",{href:!0,download:!0,class:!0});var l=y(e);le(n.$$.fragment,l),r=L(l,`
	Download`),l.forEach(_),this.h()},h(){c(e,"href",t[0]),c(e,"download","result.json"),c(e,"class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center w-40 justify-center")},m(s,l){C(s,e,l),J(n,e,null),d(e,r),i=!0},p(s,[l]){(!i||l&1)&&c(e,"href",s[0])},i(s){i||(k(n.$$.fragment,s),i=!0)},o(s){F(n.$$.fragment,s),i=!1},d(s){s&&_(e),G(n)}}}function mt(t,e,n){let{download:r=""}=e;return t.$$set=i=>{"download"in i&&n(0,r=i.download)},[r]}class pt extends Z{constructor(e){super(),q(this,e,mt,ht,V,{download:0})}}function _t(t){let e,n,r,i;return{c(){e=v("button"),n=x("Submit"),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var l=y(e);n=L(l,"Submit"),l.forEach(_),this.h()},h(){c(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-40")},m(s,l){C(s,e,l),d(e,n),r||(i=ee(e,"click",function(){pe(t[0])&&t[0].apply(this,arguments)}),r=!0)},p(s,[l]){t=s},i:T,o:T,d(s){s&&_(e),r=!1,i()}}}function gt(t,e,n){let{submit:r}=e;return t.$$set=i=>{"submit"in i&&n(0,r=i.submit)},[r]}class vt extends Z{constructor(e){super(),q(this,e,gt,_t,V,{submit:0})}}function yt(t){let e,n,r,i,s;return n=new pt({props:{download:t[0]}}),i=new vt({props:{submit:t[1]}}),{c(){e=v("div"),ie(n.$$.fragment),r=S(),ie(i.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var a=y(e);le(n.$$.fragment,a),r=A(a),le(i.$$.fragment,a),a.forEach(_),this.h()},h(){c(e,"class","flex justify-between pt-4")},m(l,a){C(l,e,a),J(n,e,null),d(e,r),J(i,e,null),s=!0},p(l,[a]){const o={};a&1&&(o.download=l[0]),n.$set(o);const u={};a&2&&(u.submit=l[1]),i.$set(u)},i(l){s||(k(n.$$.fragment,l),k(i.$$.fragment,l),s=!0)},o(l){F(n.$$.fragment,l),F(i.$$.fragment,l),s=!1},d(l){l&&_(e),G(n),G(i)}}}function bt(t,e,n){let{download:r=""}=e,{submit:i}=e;return t.$$set=s=>{"download"in s&&n(0,r=s.download),"submit"in s&&n(1,i=s.submit)},[r,i]}class Mt extends Z{constructor(e){super(),q(this,e,bt,yt,V,{download:0,submit:1})}}const Lt="";function Ne(t,e,n){const r=t.slice();return r[11]=e[n].find,r[12]=e[n].replace,r}function Te(t){let e,n,r=t[2].message+"",i;return{c(){e=v("p"),n=v("span"),i=x(r),this.h()},l(s){e=b(s,"P",{"data-cy":!0,class:!0});var l=y(e);n=b(l,"SPAN",{class:!0});var a=y(n);i=L(a,r),a.forEach(_),l.forEach(_),this.h()},h(){c(n,"class","monospace text-orange-900 svelte-r93edu"),c(e,"data-cy","template-input-error"),c(e,"class","bg-rose-200 rounded py-2 px-4 svelte-r93edu")},m(s,l){C(s,e,l),d(e,n),d(n,i)},p(s,l){l&4&&r!==(r=s[2].message+"")&&ue(i,r)},d(s){s&&_(e)}}}function De(t){let e,n,r,i,s,l=t[1].merge,a=[];for(let o=0;o<l.length;o+=1)a[o]=Se(Ne(t,l,o));return{c(){e=v("div"),n=v("h1"),r=x("Modify Merge Values"),i=S(),s=v("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=b(o,"DIV",{"data-cy":!0,class:!0});var u=y(e);n=b(u,"H1",{class:!0});var f=y(n);r=L(f,"Modify Merge Values"),f.forEach(_),i=A(u),s=b(u,"DIV",{class:!0});var m=y(s);for(let E=0;E<a.length;E+=1)a[E].l(m);m.forEach(_),u.forEach(_),this.h()},h(){c(n,"class","text-teal-400 px-1 svelte-r93edu"),c(s,"class","border p-4 mb-6 svelte-r93edu"),c(e,"data-cy","merge-fields-input-section"),c(e,"class","svelte-r93edu")},m(o,u){C(o,e,u),d(e,n),d(n,r),d(e,i),d(e,s);for(let f=0;f<a.length;f+=1)a[f].m(s,null)},p(o,u){if(u&34){l=o[1].merge;let f;for(f=0;f<l.length;f+=1){const m=Ne(o,l,f);a[f]?a[f].p(m,u):(a[f]=Se(m),a[f].c(),a[f].m(s,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}},d(o){o&&_(e),ze(a,o)}}}function Se(t){let e,n,r=t[11]+"",i,s,l,a,o,u,f,m,E;function I(...p){return t[10](t[11],...p)}return{c(){e=v("div"),n=v("label"),i=x(r),l=S(),a=v("input"),f=S(),this.h()},l(p){e=b(p,"DIV",{"data-cy":!0,class:!0});var N=y(e);n=b(N,"LABEL",{for:!0,class:!0});var M=y(n);i=L(M,r),M.forEach(_),l=A(N),a=b(N,"INPUT",{class:!0,id:!0,type:!0}),f=A(N),N.forEach(_),this.h()},h(){c(n,"for",s=t[11]),c(n,"class","block mb-2 monospace svelte-r93edu"),c(a,"class","border w-full mb-3 pl-2 py-1 text-stone-500 svelte-r93edu"),c(a,"id",o=t[11]),c(a,"type","text"),a.value=u=t[12],c(e,"data-cy","label-input"),c(e,"class","svelte-r93edu")},m(p,N){C(p,e,N),d(e,n),d(n,i),d(e,l),d(e,a),d(e,f),m||(E=ee(a,"input",I),m=!0)},p(p,N){t=p,N&2&&r!==(r=t[11]+"")&&ue(i,r),N&2&&s!==(s=t[11])&&c(n,"for",s),N&2&&o!==(o=t[11])&&c(a,"id",o),N&2&&u!==(u=t[12])&&a.value!==u&&(a.value=u)},d(p){p&&_(e),m=!1,E()}}}function Ae(t){let e,n,r,i,s,l,a,o,u,f=se(t[0])+"",m,E,I,p,N,M;return I=new Mt({props:{submit:t[7],download:t[3]}}),{c(){e=v("div"),n=v("h1"),r=x("Result"),i=S(),s=v("abbr"),l=v("img"),o=S(),u=v("p"),m=x(f),E=S(),ie(I.$$.fragment),this.h()},l(g){e=b(g,"DIV",{"data-cy":!0,class:!0});var h=y(e);n=b(h,"H1",{class:!0});var z=y(n);r=L(z,"Result"),z.forEach(_),i=A(h),s=b(h,"ABBR",{title:!0,class:!0});var w=y(s);l=b(w,"IMG",{src:!0,alt:!0,class:!0}),w.forEach(_),o=A(h),u=b(h,"P",{"data-cy":!0,class:!0});var D=y(u);m=L(D,f),D.forEach(_),E=A(h),le(I.$$.fragment,h),h.forEach(_),this.h()},h(){c(n,"class","text-teal-400 px-1 inline-block mr-2 svelte-r93edu"),xe(l.src,a=He)||c(l,"src",a),c(l,"alt","copy-button"),c(l,"class","h-4 cursor-pointer inline mb-1 svelte-r93edu"),c(s,"title","Copy to clipboard"),c(s,"class","svelte-r93edu"),c(u,"data-cy","result"),c(u,"class","h-60 overflow-auto border p-4 whitespace-pre monospace svelte-r93edu"),c(e,"data-cy","result-section"),c(e,"class","svelte-r93edu")},m(g,h){C(g,e,h),d(e,n),d(n,r),d(e,i),d(e,s),d(s,l),d(e,o),d(e,u),d(u,m),d(e,E),J(I,e,null),p=!0,N||(M=ee(l,"click",t[6]),N=!0)},p(g,h){(!p||h&1)&&f!==(f=se(g[0])+"")&&ue(m,f);const z={};h&8&&(z.download=g[3]),I.$set(z)},i(g){p||(k(I.$$.fragment,g),p=!0)},o(g){F(I.$$.fragment,g),p=!1},d(g){g&&_(e),G(I),N=!1,M()}}}function wt(t){var z;let e,n,r,i,s,l,a,o,u,f,m,E,I,p,N,M=t[2]&&Te(t),g=((z=t[1].merge)==null?void 0:z.length)&&!t[2]&&De(t),h=!t[2]&&Ae(t);return{c(){e=v("div"),n=v("section"),r=v("form"),i=v("div"),s=v("label"),l=x("Paste template"),a=S(),o=v("textarea"),f=S(),M&&M.c(),m=S(),g&&g.c(),E=S(),h&&h.c(),this.h()},l(w){e=b(w,"DIV",{class:!0});var D=y(e);n=b(D,"SECTION",{"data-cy":!0,class:!0});var R=y(n);r=b(R,"FORM",{class:!0});var P=y(r);i=b(P,"DIV",{"data-cy":!0,class:!0});var oe=y(i);s=b(oe,"LABEL",{for:!0,class:!0});var je=y(s);l=L(je,"Paste template"),je.forEach(_),a=A(oe),o=b(oe,"TEXTAREA",{"data-cy":!0,class:!0,id:!0}),y(o).forEach(_),oe.forEach(_),f=A(P),M&&M.l(P),m=A(P),g&&g.l(P),P.forEach(_),E=A(R),h&&h.l(R),R.forEach(_),D.forEach(_),this.h()},h(){c(s,"for","json-input"),c(s,"class","text-teal-400 px-1 svelte-r93edu"),c(o,"data-cy","template-input"),c(o,"class","w-full h-60 monospace border p-4 overflow-auto whitespace-pre resize-none svelte-r93edu"),c(o,"id","json-input"),o.value=u=se(t[1]),c(i,"data-cy","template-input-section"),c(i,"class","mb-6 svelte-r93edu"),c(r,"class","svelte-r93edu"),c(n,"data-cy","form-container"),c(n,"class","max-w-lg my-4 mx-auto border rounded-xl px-7 py-4 svelte-r93edu"),c(e,"class","shotstack-mergefield-form svelte-r93edu")},m(w,D){C(w,e,D),d(e,n),d(n,r),d(r,i),d(i,s),d(s,l),d(i,a),d(i,o),d(r,f),M&&M.m(r,null),d(r,m),g&&g.m(r,null),d(n,E),h&&h.m(n,null),I=!0,p||(N=ee(o,"input",t[9]),p=!0)},p(w,[D]){var R;(!I||D&2&&u!==(u=se(w[1])))&&(o.value=u),w[2]?M?M.p(w,D):(M=Te(w),M.c(),M.m(r,m)):M&&(M.d(1),M=null),((R=w[1].merge)==null?void 0:R.length)&&!w[2]?g?g.p(w,D):(g=De(w),g.c(),g.m(r,null)):g&&(g.d(1),g=null),w[2]?h&&(Ue(),F(h,1,1,()=>{h=null}),Be()):h?(h.p(w,D),D&4&&k(h,1)):(h=Ae(w),h.c(),k(h,1),h.m(n,null))},i(w){I||(k(h),I=!0)},o(w){F(h),I=!1},d(w){w&&_(e),M&&M.d(),g&&g.d(),h&&h.d(),p=!1,N()}}}function se(t){return JSON.stringify(t,null,2)}function Et(t){if(typeof window<"u"){const e=new Blob([JSON.stringify(t,null,2)],{type:"text/plain"});return URL.createObjectURL(e)}else return null}function It(t,e,n){let r,{editTemplateService:i=new Ie(ut)}=e,s=i.template,l=i.result,a=null;function o(p){i.setTemplateSource(p),n(1,s=i.template),n(0,l=i.result),n(2,a=i.error)}function u(p){i.updateResultMergeFields(p),n(0,l=i.result)}function f(){navigator.clipboard.writeText(JSON.stringify(l)),alert("JSON copied to clipboard!")}function m(){i.submit(),window.alert("Form successfully submitted!")}const E=p=>o(p.currentTarget.value),I=(p,N)=>u({find:p,replace:N.currentTarget.value});return t.$$set=p=>{"editTemplateService"in p&&n(8,i=p.editTemplateService)},t.$$.update=()=>{t.$$.dirty&1&&n(3,r=Et(l)||"")},[l,s,a,r,o,u,f,m,i,E,I]}class Nt extends Z{constructor(e){super(),q(this,e,It,wt,V,{editTemplateService:8})}}class Tt{constructor(e,n=document.querySelector("#shotstack-form-field")){U(this,"templateService");this.containerElement=n,this.templateService=new Ie(e),this.initialize()}on(e,n){this.templateService.on(e,n)}off(e,n){this.templateService.off(e,n)}submit(){this.templateService.submit()}initialize(){!this.containerElement||this.containerElement&&this.render(this.containerElement)}render(e){new Nt({target:e,props:{editTemplateService:this.templateService}})}display(){!this.containerElement||(this.containerElement.style.display="block")}hide(){!this.containerElement||(this.containerElement.style.display="none")}attach(e){this.remove(),this.containerElement=e,this.render(this.containerElement)}remove(){!this.containerElement||this.containerElement.replaceChildren()}get container(){if(!!this.containerElement)return this.containerElement}merge(){return this.templateService.result}load(e){this.templateService.setTemplateSource(e)}addField(e,n){this.templateService.addMergeField({find:e,replace:n})}removeField(e){this.templateService.removeMergeField(e)}getField(e){return this.templateService.getMergeFieldItem(e)}}return Tt}();
